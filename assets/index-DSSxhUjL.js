(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function jg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Wu={exports:{}},Wa={};var vm;function b0(){if(vm)return Wa;vm=1;var a=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function n(r,l,c){var m=null;if(c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:m,ref:l!==void 0?l:null,props:c}}return Wa.Fragment=o,Wa.jsx=n,Wa.jsxs=n,Wa}var bm;function x0(){return bm||(bm=1,Wu.exports=b0()),Wu.exports}var y=x0(),ec={exports:{}},ke={};var xm;function T0(){if(xm)return ke;xm=1;var a=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),C=Symbol.iterator;function N(R){return R===null||typeof R!="object"?null:(R=C&&R[C]||R["@@iterator"],typeof R=="function"?R:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function I(R,K,pe){this.props=R,this.context=K,this.refs=E,this.updater=pe||D}I.prototype.isReactComponent={},I.prototype.setState=function(R,K){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,K,"setState")},I.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function z(){}z.prototype=I.prototype;function G(R,K,pe){this.props=R,this.context=K,this.refs=E,this.updater=pe||D}var M=G.prototype=new z;M.constructor=G,w(M,I.prototype),M.isPureReactComponent=!0;var S=Array.isArray;function J(){}var k={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function ce(R,K,pe){var be=pe.ref;return{$$typeof:a,type:R,key:K,ref:be!==void 0?be:null,props:pe}}function ie(R,K){return ce(R.type,K,R.props)}function Z(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function fe(R){var K={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(pe){return K[pe]})}var ue=/\/+/g;function de(R,K){return typeof R=="object"&&R!==null&&R.key!=null?fe(""+R.key):K.toString(36)}function he(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(J,J):(R.status="pending",R.then(function(K){R.status==="pending"&&(R.status="fulfilled",R.value=K)},function(K){R.status==="pending"&&(R.status="rejected",R.reason=K)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function O(R,K,pe,be,Me){var oe=typeof R;(oe==="undefined"||oe==="boolean")&&(R=null);var Ie=!1;if(R===null)Ie=!0;else switch(oe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(R.$$typeof){case a:case o:Ie=!0;break;case b:return Ie=R._init,O(Ie(R._payload),K,pe,be,Me)}}if(Ie)return Me=Me(R),Ie=be===""?"."+de(R,0):be,S(Me)?(pe="",Ie!=null&&(pe=Ie.replace(ue,"$&/")+"/"),O(Me,K,pe,"",function(fn){return fn})):Me!=null&&(Z(Me)&&(Me=ie(Me,pe+(Me.key==null||R&&R.key===Me.key?"":(""+Me.key).replace(ue,"$&/")+"/")+Ie)),K.push(Me)),1;Ie=0;var Qe=be===""?".":be+":";if(S(R))for(var Ye=0;Ye<R.length;Ye++)be=R[Ye],oe=Qe+de(be,Ye),Ie+=O(be,K,pe,oe,Me);else if(Ye=N(R),typeof Ye=="function")for(R=Ye.call(R),Ye=0;!(be=R.next()).done;)be=be.value,oe=Qe+de(be,Ye++),Ie+=O(be,K,pe,oe,Me);else if(oe==="object"){if(typeof R.then=="function")return O(he(R),K,pe,be,Me);throw K=String(R),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function re(R,K,pe){if(R==null)return R;var be=[],Me=0;return O(R,be,"","",function(oe){return K.call(pe,oe,Me++)}),be}function xe(R){if(R._status===-1){var K=R._result;K=K(),K.then(function(pe){(R._status===0||R._status===-1)&&(R._status=1,R._result=pe)},function(pe){(R._status===0||R._status===-1)&&(R._status=2,R._result=pe)}),R._status===-1&&(R._status=0,R._result=K)}if(R._status===1)return R._result.default;throw R._result}var Re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},we={map:re,forEach:function(R,K,pe){re(R,function(){K.apply(this,arguments)},pe)},count:function(R){var K=0;return re(R,function(){K++}),K},toArray:function(R){return re(R,function(K){return K})||[]},only:function(R){if(!Z(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ke.Activity=T,ke.Children=we,ke.Component=I,ke.Fragment=n,ke.Profiler=l,ke.PureComponent=G,ke.StrictMode=r,ke.Suspense=v,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ke.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},ke.cache=function(R){return function(){return R.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(R,K,pe){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var be=w({},R.props),Me=R.key;if(K!=null)for(oe in K.key!==void 0&&(Me=""+K.key),K)!B.call(K,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&K.ref===void 0||(be[oe]=K[oe]);var oe=arguments.length-2;if(oe===1)be.children=pe;else if(1<oe){for(var Ie=Array(oe),Qe=0;Qe<oe;Qe++)Ie[Qe]=arguments[Qe+2];be.children=Ie}return ce(R.type,Me,be)},ke.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},ke.createElement=function(R,K,pe){var be,Me={},oe=null;if(K!=null)for(be in K.key!==void 0&&(oe=""+K.key),K)B.call(K,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Me[be]=K[be]);var Ie=arguments.length-2;if(Ie===1)Me.children=pe;else if(1<Ie){for(var Qe=Array(Ie),Ye=0;Ye<Ie;Ye++)Qe[Ye]=arguments[Ye+2];Me.children=Qe}if(R&&R.defaultProps)for(be in Ie=R.defaultProps,Ie)Me[be]===void 0&&(Me[be]=Ie[be]);return ce(R,oe,Me)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(R){return{$$typeof:h,render:R}},ke.isValidElement=Z,ke.lazy=function(R){return{$$typeof:b,_payload:{_status:-1,_result:R},_init:xe}},ke.memo=function(R,K){return{$$typeof:g,type:R,compare:K===void 0?null:K}},ke.startTransition=function(R){var K=k.T,pe={};k.T=pe;try{var be=R(),Me=k.S;Me!==null&&Me(pe,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(J,Re)}catch(oe){Re(oe)}finally{K!==null&&pe.types!==null&&(K.types=pe.types),k.T=K}},ke.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ke.use=function(R){return k.H.use(R)},ke.useActionState=function(R,K,pe){return k.H.useActionState(R,K,pe)},ke.useCallback=function(R,K){return k.H.useCallback(R,K)},ke.useContext=function(R){return k.H.useContext(R)},ke.useDebugValue=function(){},ke.useDeferredValue=function(R,K){return k.H.useDeferredValue(R,K)},ke.useEffect=function(R,K){return k.H.useEffect(R,K)},ke.useEffectEvent=function(R){return k.H.useEffectEvent(R)},ke.useId=function(){return k.H.useId()},ke.useImperativeHandle=function(R,K,pe){return k.H.useImperativeHandle(R,K,pe)},ke.useInsertionEffect=function(R,K){return k.H.useInsertionEffect(R,K)},ke.useLayoutEffect=function(R,K){return k.H.useLayoutEffect(R,K)},ke.useMemo=function(R,K){return k.H.useMemo(R,K)},ke.useOptimistic=function(R,K){return k.H.useOptimistic(R,K)},ke.useReducer=function(R,K,pe){return k.H.useReducer(R,K,pe)},ke.useRef=function(R){return k.H.useRef(R)},ke.useState=function(R){return k.H.useState(R)},ke.useSyncExternalStore=function(R,K,pe){return k.H.useSyncExternalStore(R,K,pe)},ke.useTransition=function(){return k.H.useTransition()},ke.version="19.2.0",ke}var Tm;function wc(){return Tm||(Tm=1,ec.exports=T0()),ec.exports}var V=wc();const Nc=jg(V);var tc={exports:{}},er={},nc={exports:{}},oc={};var Cm;function C0(){return Cm||(Cm=1,(function(a){function o(O,re){var xe=O.length;O.push(re);e:for(;0<xe;){var Re=xe-1>>>1,we=O[Re];if(0<l(we,re))O[Re]=re,O[xe]=we,xe=Re;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var re=O[0],xe=O.pop();if(xe!==re){O[0]=xe;e:for(var Re=0,we=O.length,R=we>>>1;Re<R;){var K=2*(Re+1)-1,pe=O[K],be=K+1,Me=O[be];if(0>l(pe,xe))be<we&&0>l(Me,pe)?(O[Re]=Me,O[be]=xe,Re=be):(O[Re]=pe,O[K]=xe,Re=K);else if(be<we&&0>l(Me,xe))O[Re]=Me,O[be]=xe,Re=be;else break e}}return re}function l(O,re){var xe=O.sortIndex-re.sortIndex;return xe!==0?xe:O.id-re.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var m=Date,h=m.now();a.unstable_now=function(){return m.now()-h}}var v=[],g=[],b=1,T=null,C=3,N=!1,D=!1,w=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function M(O){for(var re=n(g);re!==null;){if(re.callback===null)r(g);else if(re.startTime<=O)r(g),re.sortIndex=re.expirationTime,o(v,re);else break;re=n(g)}}function S(O){if(w=!1,M(O),!D)if(n(v)!==null)D=!0,J||(J=!0,fe());else{var re=n(g);re!==null&&he(S,re.startTime-O)}}var J=!1,k=-1,B=5,ce=-1;function ie(){return E?!0:!(a.unstable_now()-ce<B)}function Z(){if(E=!1,J){var O=a.unstable_now();ce=O;var re=!0;try{e:{D=!1,w&&(w=!1,z(k),k=-1),N=!0;var xe=C;try{t:{for(M(O),T=n(v);T!==null&&!(T.expirationTime>O&&ie());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,C=T.priorityLevel;var we=Re(T.expirationTime<=O);if(O=a.unstable_now(),typeof we=="function"){T.callback=we,M(O),re=!0;break t}T===n(v)&&r(v),M(O)}else r(v);T=n(v)}if(T!==null)re=!0;else{var R=n(g);R!==null&&he(S,R.startTime-O),re=!1}}break e}finally{T=null,C=xe,N=!1}re=void 0}}finally{re?fe():J=!1}}}var fe;if(typeof G=="function")fe=function(){G(Z)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,de=ue.port2;ue.port1.onmessage=Z,fe=function(){de.postMessage(null)}}else fe=function(){I(Z,0)};function he(O,re){k=I(function(){O(a.unstable_now())},re)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(O){switch(C){case 1:case 2:case 3:var re=3;break;default:re=C}var xe=C;C=re;try{return O()}finally{C=xe}},a.unstable_requestPaint=function(){E=!0},a.unstable_runWithPriority=function(O,re){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var xe=C;C=O;try{return re()}finally{C=xe}},a.unstable_scheduleCallback=function(O,re,xe){var Re=a.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Re+xe:Re):xe=Re,O){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=xe+we,O={id:b++,callback:re,priorityLevel:O,startTime:xe,expirationTime:we,sortIndex:-1},xe>Re?(O.sortIndex=xe,o(g,O),n(v)===null&&O===n(g)&&(w?(z(k),k=-1):w=!0,he(S,xe-Re))):(O.sortIndex=we,o(v,O),D||N||(D=!0,J||(J=!0,fe()))),O},a.unstable_shouldYield=ie,a.unstable_wrapCallback=function(O){var re=C;return function(){var xe=C;C=re;try{return O.apply(this,arguments)}finally{C=xe}}}})(oc)),oc}var Am;function A0(){return Am||(Am=1,nc.exports=C0()),nc.exports}var ic={exports:{}},zt={};var Sm;function S0(){if(Sm)return zt;Sm=1;var a=wc();function o(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(o(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:v,containerInfo:g,implementation:b}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zt.createPortal=function(v,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(o(299));return c(v,g,null,b)},zt.flushSync=function(v){var g=m.T,b=r.p;try{if(m.T=null,r.p=2,v)return v()}finally{m.T=g,r.p=b,r.d.f()}},zt.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(v,g))},zt.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},zt.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var b=g.as,T=h(b,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:N}):b==="script"&&r.d.X(v,{crossOrigin:T,integrity:C,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},zt.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=h(g.as,g.crossOrigin);r.d.M(v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(v)},zt.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=h(b,g.crossOrigin);r.d.L(v,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},zt.preloadModule=function(v,g){if(typeof v=="string")if(g){var b=h(g.as,g.crossOrigin);r.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(v)},zt.requestFormReset=function(v){r.d.r(v)},zt.unstable_batchedUpdates=function(v,g){return v(g)},zt.useFormState=function(v,g,b){return m.H.useFormState(v,g,b)},zt.useFormStatus=function(){return m.H.useHostTransitionStatus()},zt.version="19.2.0",zt}var wm;function zg(){if(wm)return ic.exports;wm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(o){console.error(o)}}return a(),ic.exports=S0(),ic.exports}var Nm;function w0(){if(Nm)return er;Nm=1;var a=A0(),o=wc(),n=zg();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var u=i.return;if(u===null)break;var p=u.alternate;if(p===null){if(s=u.return,s!==null){i=s;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===i)return v(u),e;if(p===s)return v(u),t;p=p.sibling}throw Error(r(188))}if(i.return!==s.return)i=u,s=p;else{for(var x=!1,A=u.child;A;){if(A===i){x=!0,i=u,s=p;break}if(A===s){x=!0,s=u,i=p;break}A=A.sibling}if(!x){for(A=p.child;A;){if(A===i){x=!0,i=p,s=u;break}if(A===s){x=!0,s=p,i=u;break}A=A.sibling}if(!x)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),G=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function fe(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case I:return"Profiler";case E:return"StrictMode";case S:return"Suspense";case J:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case G:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case M:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var he=Array.isArray,O=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Re=[],we=-1;function R(e){return{current:e}}function K(e){0>we||(e.current=Re[we],Re[we]=null,we--)}function pe(e,t){we++,Re[we]=e.current,e.current=t}var be=R(null),Me=R(null),oe=R(null),Ie=R(null);function Qe(e,t){switch(pe(oe,t),pe(Me,e),pe(be,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bp(t),e=Pp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(be),pe(be,e)}function Ye(){K(be),K(Me),K(oe)}function fn(e){e.memoizedState!==null&&pe(Ie,e);var t=be.current,i=Pp(t,e.type);t!==i&&(pe(Me,e),pe(be,i))}function wn(e){Me.current===e&&(K(be),K(Me)),Ie.current===e&&(K(Ie),Ka._currentValue=xe)}var Xn,vo;function nn(e){if(Xn===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Xn=t&&t[1]||"",vo=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xn+e+vo}var rt=!1;function Ln(e,t){if(!e||rt)return"";rt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var F=X}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(X){F=X}e.call(ne.prototype)}}else{try{throw Error()}catch(X){F=X}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&F&&typeof X.stack=="string")return[X.stack,F.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),x=p[0],A=p[1];if(x&&A){var L=x.split(`
`),q=A.split(`
`);for(u=s=0;s<L.length&&!L[s].includes("DetermineComponentFrameRoot");)s++;for(;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;if(s===L.length||u===q.length)for(s=L.length-1,u=q.length-1;1<=s&&0<=u&&L[s]!==q[u];)u--;for(;1<=s&&0<=u;s--,u--)if(L[s]!==q[u]){if(s!==1||u!==1)do if(s--,u--,0>u||L[s]!==q[u]){var ee=`
`+L[s].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=s&&0<=u);break}}}finally{rt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?nn(i):""}function bo(e,t){switch(e.tag){case 26:case 27:case 5:return nn(e.type);case 16:return nn("Lazy");case 13:return e.child!==t&&t!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return Ln(e.type,!1);case 11:return Ln(e.type.render,!1);case 1:return Ln(e.type,!0);case 31:return nn("Activity");default:return""}}function Wo(e){try{var t="",i=null;do t+=bo(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ei=Object.prototype.hasOwnProperty,Nn=a.unstable_scheduleCallback,De=a.unstable_cancelCallback,ve=a.unstable_shouldYield,ti=a.unstable_requestPaint,_t=a.unstable_now,pn=a.unstable_getCurrentPriorityLevel,on=a.unstable_ImmediatePriority,$n=a.unstable_UserBlockingPriority,In=a.unstable_NormalPriority,kn=a.unstable_LowPriority,jt=a.unstable_IdlePriority,Vn=a.log,Un=a.unstable_setDisableYieldValue,Et=null,Rt=null;function Pt(e){if(typeof Vn=="function"&&Un(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Et,e)}catch{}}var Lt=Math.clz32?Math.clz32:Hn,xo=Math.log,wi=Math.LN2;function Hn(e){return e>>>=0,e===0?32:31-(xo(e)/wi|0)|0}var On=256,ni=262144,To=4194304;function st(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mn(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var u=0,p=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var A=s&134217727;return A!==0?(s=A&~p,s!==0?u=st(s):(x&=A,x!==0?u=st(x):i||(i=A&~e,i!==0&&(u=st(i))))):(A=s&~p,A!==0?u=st(A):x!==0?u=st(x):i||(i=s&~e,i!==0&&(u=st(i)))),u===0?0:t!==0&&t!==u&&(t&p)===0&&(p=u&-u,i=t&-t,p>=i||p===32&&(i&4194048)!==0)?t:u}function lt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(){var e=To;return To<<=1,(To&62914560)===0&&(To=4194304),e}function gn(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function qt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ft(e,t,i,s,u,p){var x=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var A=e.entanglements,L=e.expirationTimes,q=e.hiddenUpdates;for(i=x&~i;0<i;){var ee=31-Lt(i),ne=1<<ee;A[ee]=0,L[ee]=-1;var F=q[ee];if(F!==null)for(q[ee]=null,ee=0;ee<F.length;ee++){var X=F[ee];X!==null&&(X.lane&=-536870913)}i&=~ne}s!==0&&_(e,s,0),p!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=p&~(x&~t))}function _(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Lt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function W(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Lt(i),u=1<<s;u&t|e[s]&t&&(e[s]|=t),i&=~u}}function me(e,t){var i=t&-t;return i=(i&42)!==0?1:ae(i),(i&(e.suspendedLanes|t))!==0?0:i}function ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Te(){var e=re.p;return e!==0?e:(e=window.event,e===void 0?32:dm(e.type))}function gt(e,t){var i=re.p;try{return re.p=e,t()}finally{re.p=i}}var Tt=Math.random().toString(36).slice(2),ot="__reactFiber$"+Tt,Ue="__reactProps$"+Tt,jn="__reactContainer$"+Tt,En="__reactEvents$"+Tt,Xt="__reactListeners$"+Tt,da="__reactHandles$"+Tt,oi="__reactResources$"+Tt,Qn="__reactMarker$"+Tt;function Zn(e){delete e[ot],delete e[Ue],delete e[En],delete e[Xt],delete e[da]}function zn(e){var t=e[ot];if(t)return t;for(var i=e.parentNode;i;){if(t=i[jn]||i[ot]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Kp(e);e!==null;){if(i=e[ot])return i;e=Kp(e)}return t}e=i,i=e.parentNode}return null}function Bn(e){if(e=e[ot]||e[jn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function It(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Mt(e){var t=e[oi];return t||(t=e[oi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[Qn]=!0}var Q=new Set,se={};function ge(e,t){Ae(e,t),Ae(e+"Capture",t)}function Ae(e,t){for(se[e]=t,e=0;e<t.length;e++)Q.add(t[e])}var Se=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oe={},H={};function Pe(e){return ei.call(H,e)?!0:ei.call(Oe,e)?!1:Se.test(e)?H[e]=!0:(Oe[e]=!0,!1)}function je(e,t,i){if(Pe(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ye(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Y(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mt(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,p=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(x){i=""+x,p.call(this,x)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(x){i=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gt(e){if(!e._valueTracker){var t=Xe(e)?"checked":"value";e._valueTracker=mt(e,t,""+e[t])}}function Ic(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Xe(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function gr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ph=/[\n"\\]/g;function hn(e){return e.replace(ph,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xs(e,t,i,s,u,p,x,A){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+le(t)):e.value!==""+le(t)&&(e.value=""+le(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?$s(e,x,le(t)):i!=null?$s(e,x,le(i)):s!=null&&e.removeAttribute("value"),u==null&&p!=null&&(e.defaultChecked=!!p),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+le(A):e.removeAttribute("name")}function kc(e,t,i,s,u,p,x,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){Gt(e);return}i=i!=null?""+le(i):"",t=t!=null?""+le(t):i,A||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=A?e.checked:!!s,e.defaultChecked=!!s,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Gt(e)}function $s(e,t,i){t==="number"&&gr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ni(e,t,i,s){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&s&&(e[i].defaultSelected=!0)}else{for(i=""+le(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Vc(e,t,i){if(t!=null&&(t=""+le(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+le(i):""}function Uc(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(he(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=le(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Gt(e)}function Ei(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hc(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||mh.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Oc(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&i[u]!==s&&Hc(e,u,s)}else for(var p in t)t.hasOwnProperty(p)&&Hc(e,p,t[p])}function Ks(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(e){return hh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var Js=null;function Qs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,Di=null;function jc(e){var t=Bn(e);if(t&&(e=t.stateNode)){var i=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xs(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+hn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var u=s[Ue]||null;if(!u)throw Error(r(90));Xs(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Ic(s)}break e;case"textarea":Vc(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Ni(e,!!i.multiple,t,!1)}}}var Zs=!1;function zc(e,t,i){if(Zs)return e(t,i);Zs=!0;try{var s=e(t);return s}finally{if(Zs=!1,(Mi!==null||Di!==null)&&(os(),Mi&&(t=Mi,e=Di,Di=Mi=null,jc(t),e)))for(t=0;t<e.length;t++)jc(e[t])}}function fa(e,t){var i=e.stateNode;if(i===null)return null;var s=i[Ue]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ws=!1;if(eo)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{Ws=!1}var Co=null,el=null,yr=null;function Bc(){if(yr)return yr;var e,t=el,i=t.length,s,u="value"in Co?Co.value:Co.textContent,p=u.length;for(e=0;e<i&&t[e]===u[e];e++);var x=i-e;for(s=1;s<=x&&t[i-s]===u[p-s];s++);return yr=u.slice(e,1<s?1-s:void 0)}function vr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function br(){return!0}function Pc(){return!1}function $t(e){function t(i,s,u,p,x){this._reactName=i,this._targetInst=u,this.type=s,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(i=e[A],this[A]=i?i(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?br:Pc,this.isPropagationStopped=Pc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),t}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=$t(ii),ma=T({},ii,{view:0,detail:0}),yh=$t(ma),tl,nl,ga,Tr=T({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:il,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ga&&(ga&&e.type==="mousemove"?(tl=e.screenX-ga.screenX,nl=e.screenY-ga.screenY):nl=tl=0,ga=e),tl)},movementY:function(e){return"movementY"in e?e.movementY:nl}}),qc=$t(Tr),vh=T({},Tr,{dataTransfer:0}),bh=$t(vh),xh=T({},ma,{relatedTarget:0}),ol=$t(xh),Th=T({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Ch=$t(Th),Ah=T({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sh=$t(Ah),wh=T({},ii,{data:0}),Fc=$t(wh),Nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mh[e])?!!t[e]:!1}function il(){return Dh}var _h=T({},ma,{key:function(e){if(e.key){var t=Nh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:il,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rh=$t(_h),Lh=T({},Tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=$t(Lh),Ih=T({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:il}),kh=$t(Ih),Vh=T({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uh=$t(Vh),Hh=T({},Tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Oh=$t(Hh),jh=T({},ii,{newState:0,oldState:0}),zh=$t(jh),Bh=[9,13,27,32],al=eo&&"CompositionEvent"in window,ha=null;eo&&"documentMode"in document&&(ha=document.documentMode);var Ph=eo&&"TextEvent"in window&&!ha,Yc=eo&&(!al||ha&&8<ha&&11>=ha),Xc=" ",$c=!1;function Kc(e,t){switch(e){case"keyup":return Bh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _i=!1;function qh(e,t){switch(e){case"compositionend":return Jc(t);case"keypress":return t.which!==32?null:($c=!0,Xc);case"textInput":return e=t.data,e===Xc&&$c?null:e;default:return null}}function Fh(e,t){if(_i)return e==="compositionend"||!al&&Kc(e,t)?(e=Bc(),yr=el=Co=null,_i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yc&&t.locale!=="ko"?null:t.data;default:return null}}var Gh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gh[e.type]:t==="textarea"}function Zc(e,t,i,s){Mi?Di?Di.push(s):Di=[s]:Mi=s,t=cs(t,"onChange"),0<t.length&&(i=new xr("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var ya=null,va=null;function Yh(e){Vp(e,0)}function Cr(e){var t=It(e);if(Ic(t))return e}function Wc(e,t){if(e==="change")return t}var ed=!1;if(eo){var rl;if(eo){var sl="oninput"in document;if(!sl){var td=document.createElement("div");td.setAttribute("oninput","return;"),sl=typeof td.oninput=="function"}rl=sl}else rl=!1;ed=rl&&(!document.documentMode||9<document.documentMode)}function nd(){ya&&(ya.detachEvent("onpropertychange",od),va=ya=null)}function od(e){if(e.propertyName==="value"&&Cr(va)){var t=[];Zc(t,va,e,Qs(e)),zc(Yh,t)}}function Xh(e,t,i){e==="focusin"?(nd(),ya=t,va=i,ya.attachEvent("onpropertychange",od)):e==="focusout"&&nd()}function $h(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cr(va)}function Kh(e,t){if(e==="click")return Cr(t)}function Jh(e,t){if(e==="input"||e==="change")return Cr(t)}function Qh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:Qh;function ba(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var u=i[s];if(!ei.call(t,u)||!an(e[u],t[u]))return!1}return!0}function id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ad(e,t){var i=id(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=id(i)}}function rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=gr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=gr(e.document)}return t}function ll(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zh=eo&&"documentMode"in document&&11>=document.documentMode,Ri=null,ul=null,xa=null,cl=!1;function ld(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;cl||Ri==null||Ri!==gr(s)||(s=Ri,"selectionStart"in s&&ll(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xa&&ba(xa,s)||(xa=s,s=cs(ul,"onSelect"),0<s.length&&(t=new xr("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Ri)))}function ai(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Li={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},dl={},ud={};eo&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function ri(e){if(dl[e])return dl[e];if(!Li[e])return e;var t=Li[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ud)return dl[e]=t[i];return e}var cd=ri("animationend"),dd=ri("animationiteration"),fd=ri("animationstart"),Wh=ri("transitionrun"),ey=ri("transitionstart"),ty=ri("transitioncancel"),pd=ri("transitionend"),md=new Map,fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fl.push("scrollEnd");function Mn(e,t){md.set(e,t),ge(t,[e])}var Ar=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},yn=[],Ii=0,pl=0;function Sr(){for(var e=Ii,t=pl=Ii=0;t<e;){var i=yn[t];yn[t++]=null;var s=yn[t];yn[t++]=null;var u=yn[t];yn[t++]=null;var p=yn[t];if(yn[t++]=null,s!==null&&u!==null){var x=s.pending;x===null?u.next=u:(u.next=x.next,x.next=u),s.pending=u}p!==0&&gd(i,u,p)}}function wr(e,t,i,s){yn[Ii++]=e,yn[Ii++]=t,yn[Ii++]=i,yn[Ii++]=s,pl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ml(e,t,i,s){return wr(e,t,i,s),Nr(e)}function si(e,t){return wr(e,null,null,t),Nr(e)}function gd(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var u=!1,p=e.return;p!==null;)p.childLanes|=i,s=p.alternate,s!==null&&(s.childLanes|=i),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(u=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,u&&t!==null&&(u=31-Lt(i),e=p.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=i|536870912),p):null}function Nr(e){if(50<Pa)throw Pa=0,Au=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ki={};function ny(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,i,s){return new ny(e,t,i,s)}function gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function to(e,t){var i=e.alternate;return i===null?(i=rn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function hd(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Er(e,t,i,s,u,p){var x=0;if(s=e,typeof e=="function")gl(e)&&(x=1);else if(typeof e=="string")x=s0(e,i,be.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=rn(31,i,t,u),e.elementType=ce,e.lanes=p,e;case w:return li(i.children,u,p,t);case E:x=8,u|=24;break;case I:return e=rn(12,i,t,u|2),e.elementType=I,e.lanes=p,e;case S:return e=rn(13,i,t,u),e.elementType=S,e.lanes=p,e;case J:return e=rn(19,i,t,u),e.elementType=J,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:x=10;break e;case z:x=9;break e;case M:x=11;break e;case k:x=14;break e;case B:x=16,s=null;break e}x=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=rn(x,i,t,u),t.elementType=e,t.type=s,t.lanes=p,t}function li(e,t,i,s){return e=rn(7,e,s,t),e.lanes=i,e}function hl(e,t,i){return e=rn(6,e,null,t),e.lanes=i,e}function yd(e){var t=rn(18,null,null,0);return t.stateNode=e,t}function yl(e,t,i){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vd=new WeakMap;function vn(e,t){if(typeof e=="object"&&e!==null){var i=vd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Wo(t)},vd.set(e,t),t)}return{value:e,source:t,stack:Wo(t)}}var Vi=[],Ui=0,Mr=null,Ta=0,bn=[],xn=0,Ao=null,Pn=1,qn="";function no(e,t){Vi[Ui++]=Ta,Vi[Ui++]=Mr,Mr=e,Ta=t}function bd(e,t,i){bn[xn++]=Pn,bn[xn++]=qn,bn[xn++]=Ao,Ao=e;var s=Pn;e=qn;var u=32-Lt(s)-1;s&=~(1<<u),i+=1;var p=32-Lt(t)+u;if(30<p){var x=u-u%5;p=(s&(1<<x)-1).toString(32),s>>=x,u-=x,Pn=1<<32-Lt(t)+u|i<<u|s,qn=p+e}else Pn=1<<p|i<<u|s,qn=e}function vl(e){e.return!==null&&(no(e,1),bd(e,1,0))}function bl(e){for(;e===Mr;)Mr=Vi[--Ui],Vi[Ui]=null,Ta=Vi[--Ui],Vi[Ui]=null;for(;e===Ao;)Ao=bn[--xn],bn[xn]=null,qn=bn[--xn],bn[xn]=null,Pn=bn[--xn],bn[xn]=null}function xd(e,t){bn[xn++]=Pn,bn[xn++]=qn,bn[xn++]=Ao,Pn=t.id,qn=t.overflow,Ao=e}var Vt=null,ut=null,Ge=!1,So=null,Tn=!1,xl=Error(r(519));function wo(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ca(vn(t,e)),xl}function Td(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[ot]=e,t[Ue]=s,i){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(i=0;i<Fa.length;i++)Be(Fa[i],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),kc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),Uc(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||jp(t.textContent,i)?(s.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),s.onScroll!=null&&Be("scroll",t),s.onScrollEnd!=null&&Be("scrollend",t),s.onClick!=null&&(t.onclick=Wn),t=!0):t=!1,t||wo(e,!0)}function Cd(e){for(Vt=e.return;Vt;)switch(Vt.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Vt=Vt.return}}function Hi(e){if(e!==Vt)return!1;if(!Ge)return Cd(e),Ge=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ou(e.type,e.memoizedProps)),i=!i),i&&ut&&wo(e),Cd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ut=$p(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ut=$p(e)}else t===27?(t=ut,jo(e.type)?(e=qu,qu=null,ut=e):ut=t):ut=Vt?An(e.stateNode.nextSibling):null;return!0}function ui(){ut=Vt=null,Ge=!1}function Tl(){var e=So;return e!==null&&(Zt===null?Zt=e:Zt.push.apply(Zt,e),So=null),e}function Ca(e){So===null?So=[e]:So.push(e)}var Cl=R(null),ci=null,oo=null;function No(e,t,i){pe(Cl,t._currentValue),t._currentValue=i}function io(e){e._currentValue=Cl.current,K(Cl)}function Al(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Sl(e,t,i,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var p=u.dependencies;if(p!==null){var x=u.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=u;for(var L=0;L<t.length;L++)if(A.context===t[L]){p.lanes|=i,A=p.alternate,A!==null&&(A.lanes|=i),Al(p.return,i,e),s||(x=null);break e}p=A.next}}else if(u.tag===18){if(x=u.return,x===null)throw Error(r(341));x.lanes|=i,p=x.alternate,p!==null&&(p.lanes|=i),Al(x,i,e),x=null}else x=u.child;if(x!==null)x.return=u;else for(x=u;x!==null;){if(x===e){x=null;break}if(u=x.sibling,u!==null){u.return=x.return,x=u;break}x=x.return}u=x}}function Oi(e,t,i,s){e=null;for(var u=t,p=!1;u!==null;){if(!p){if((u.flags&524288)!==0)p=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var x=u.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var A=u.type;an(u.pendingProps.value,x.value)||(e!==null?e.push(A):e=[A])}}else if(u===Ie.current){if(x=u.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ka):e=[Ka])}u=u.return}e!==null&&Sl(t,e,i,s),t.flags|=262144}function Dr(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function di(e){ci=e,oo=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ut(e){return Ad(ci,e)}function _r(e,t){return ci===null&&di(e),Ad(e,t)}function Ad(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},oo===null){if(e===null)throw Error(r(308));oo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oo=oo.next=t;return i}var oy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},iy=a.unstable_scheduleCallback,ay=a.unstable_NormalPriority,Ct={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wl(){return{controller:new oy,data:new Map,refCount:0}}function Aa(e){e.refCount--,e.refCount===0&&iy(ay,function(){e.controller.abort()})}var Sa=null,Nl=0,ji=0,zi=null;function ry(e,t){if(Sa===null){var i=Sa=[];Nl=0,ji=Du(),zi={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Nl++,t.then(Sd,Sd),t}function Sd(){if(--Nl===0&&Sa!==null){zi!==null&&(zi.status="fulfilled");var e=Sa;Sa=null,ji=0,zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sy(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),s}var wd=O.S;O.S=function(e,t){up=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ry(e,t),wd!==null&&wd(e,t)};var fi=R(null);function El(){var e=fi.current;return e!==null?e:it.pooledCache}function Rr(e,t){t===null?pe(fi,fi.current):pe(fi,t.pool)}function Nd(){var e=El();return e===null?null:{parent:Ct._currentValue,pool:e}}var Bi=Error(r(460)),Ml=Error(r(474)),Lr=Error(r(542)),Ir={then:function(){}};function Ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Md(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Wn,Wn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e;default:if(typeof t.status=="string")t.then(Wn,Wn);else{if(e=it,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e}throw mi=t,Bi}}function pi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(mi=i,Bi):i}}var mi=null;function Dd(){if(mi===null)throw Error(r(459));var e=mi;return mi=null,e}function _d(e){if(e===Bi||e===Lr)throw Error(r(483))}var Pi=null,wa=0;function kr(e){var t=wa;return wa+=1,Pi===null&&(Pi=[]),Md(Pi,e,t)}function Na(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vr(e,t){throw t.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rd(e){function t(j,U){if(e){var P=j.deletions;P===null?(j.deletions=[U],j.flags|=16):P.push(U)}}function i(j,U){if(!e)return null;for(;U!==null;)t(j,U),U=U.sibling;return null}function s(j){for(var U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function u(j,U){return j=to(j,U),j.index=0,j.sibling=null,j}function p(j,U,P){return j.index=P,e?(P=j.alternate,P!==null?(P=P.index,P<U?(j.flags|=67108866,U):P):(j.flags|=67108866,U)):(j.flags|=1048576,U)}function x(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function A(j,U,P,te){return U===null||U.tag!==6?(U=hl(P,j.mode,te),U.return=j,U):(U=u(U,P),U.return=j,U)}function L(j,U,P,te){var Ee=P.type;return Ee===w?ee(j,U,P.props.children,te,P.key):U!==null&&(U.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===B&&pi(Ee)===U.type)?(U=u(U,P.props),Na(U,P),U.return=j,U):(U=Er(P.type,P.key,P.props,null,j.mode,te),Na(U,P),U.return=j,U)}function q(j,U,P,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==P.containerInfo||U.stateNode.implementation!==P.implementation?(U=yl(P,j.mode,te),U.return=j,U):(U=u(U,P.children||[]),U.return=j,U)}function ee(j,U,P,te,Ee){return U===null||U.tag!==7?(U=li(P,j.mode,te,Ee),U.return=j,U):(U=u(U,P),U.return=j,U)}function ne(j,U,P){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=hl(""+U,j.mode,P),U.return=j,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return P=Er(U.type,U.key,U.props,null,j.mode,P),Na(P,U),P.return=j,P;case D:return U=yl(U,j.mode,P),U.return=j,U;case B:return U=pi(U),ne(j,U,P)}if(he(U)||fe(U))return U=li(U,j.mode,P,null),U.return=j,U;if(typeof U.then=="function")return ne(j,kr(U),P);if(U.$$typeof===G)return ne(j,_r(j,U),P);Vr(j,U)}return null}function F(j,U,P,te){var Ee=U!==null?U.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return Ee!==null?null:A(j,U,""+P,te);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return P.key===Ee?L(j,U,P,te):null;case D:return P.key===Ee?q(j,U,P,te):null;case B:return P=pi(P),F(j,U,P,te)}if(he(P)||fe(P))return Ee!==null?null:ee(j,U,P,te,null);if(typeof P.then=="function")return F(j,U,kr(P),te);if(P.$$typeof===G)return F(j,U,_r(j,P),te);Vr(j,P)}return null}function X(j,U,P,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return j=j.get(P)||null,A(U,j,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case N:return j=j.get(te.key===null?P:te.key)||null,L(U,j,te,Ee);case D:return j=j.get(te.key===null?P:te.key)||null,q(U,j,te,Ee);case B:return te=pi(te),X(j,U,P,te,Ee)}if(he(te)||fe(te))return j=j.get(P)||null,ee(U,j,te,Ee,null);if(typeof te.then=="function")return X(j,U,P,kr(te),Ee);if(te.$$typeof===G)return X(j,U,P,_r(U,te),Ee);Vr(U,te)}return null}function Ce(j,U,P,te){for(var Ee=null,$e=null,Ne=U,He=U=0,Fe=null;Ne!==null&&He<P.length;He++){Ne.index>He?(Fe=Ne,Ne=null):Fe=Ne.sibling;var Ke=F(j,Ne,P[He],te);if(Ke===null){Ne===null&&(Ne=Fe);break}e&&Ne&&Ke.alternate===null&&t(j,Ne),U=p(Ke,U,He),$e===null?Ee=Ke:$e.sibling=Ke,$e=Ke,Ne=Fe}if(He===P.length)return i(j,Ne),Ge&&no(j,He),Ee;if(Ne===null){for(;He<P.length;He++)Ne=ne(j,P[He],te),Ne!==null&&(U=p(Ne,U,He),$e===null?Ee=Ne:$e.sibling=Ne,$e=Ne);return Ge&&no(j,He),Ee}for(Ne=s(Ne);He<P.length;He++)Fe=X(Ne,j,He,P[He],te),Fe!==null&&(e&&Fe.alternate!==null&&Ne.delete(Fe.key===null?He:Fe.key),U=p(Fe,U,He),$e===null?Ee=Fe:$e.sibling=Fe,$e=Fe);return e&&Ne.forEach(function(Fo){return t(j,Fo)}),Ge&&no(j,He),Ee}function _e(j,U,P,te){if(P==null)throw Error(r(151));for(var Ee=null,$e=null,Ne=U,He=U=0,Fe=null,Ke=P.next();Ne!==null&&!Ke.done;He++,Ke=P.next()){Ne.index>He?(Fe=Ne,Ne=null):Fe=Ne.sibling;var Fo=F(j,Ne,Ke.value,te);if(Fo===null){Ne===null&&(Ne=Fe);break}e&&Ne&&Fo.alternate===null&&t(j,Ne),U=p(Fo,U,He),$e===null?Ee=Fo:$e.sibling=Fo,$e=Fo,Ne=Fe}if(Ke.done)return i(j,Ne),Ge&&no(j,He),Ee;if(Ne===null){for(;!Ke.done;He++,Ke=P.next())Ke=ne(j,Ke.value,te),Ke!==null&&(U=p(Ke,U,He),$e===null?Ee=Ke:$e.sibling=Ke,$e=Ke);return Ge&&no(j,He),Ee}for(Ne=s(Ne);!Ke.done;He++,Ke=P.next())Ke=X(Ne,j,He,Ke.value,te),Ke!==null&&(e&&Ke.alternate!==null&&Ne.delete(Ke.key===null?He:Ke.key),U=p(Ke,U,He),$e===null?Ee=Ke:$e.sibling=Ke,$e=Ke);return e&&Ne.forEach(function(v0){return t(j,v0)}),Ge&&no(j,He),Ee}function nt(j,U,P,te){if(typeof P=="object"&&P!==null&&P.type===w&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case N:e:{for(var Ee=P.key;U!==null;){if(U.key===Ee){if(Ee=P.type,Ee===w){if(U.tag===7){i(j,U.sibling),te=u(U,P.props.children),te.return=j,j=te;break e}}else if(U.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===B&&pi(Ee)===U.type){i(j,U.sibling),te=u(U,P.props),Na(te,P),te.return=j,j=te;break e}i(j,U);break}else t(j,U);U=U.sibling}P.type===w?(te=li(P.props.children,j.mode,te,P.key),te.return=j,j=te):(te=Er(P.type,P.key,P.props,null,j.mode,te),Na(te,P),te.return=j,j=te)}return x(j);case D:e:{for(Ee=P.key;U!==null;){if(U.key===Ee)if(U.tag===4&&U.stateNode.containerInfo===P.containerInfo&&U.stateNode.implementation===P.implementation){i(j,U.sibling),te=u(U,P.children||[]),te.return=j,j=te;break e}else{i(j,U);break}else t(j,U);U=U.sibling}te=yl(P,j.mode,te),te.return=j,j=te}return x(j);case B:return P=pi(P),nt(j,U,P,te)}if(he(P))return Ce(j,U,P,te);if(fe(P)){if(Ee=fe(P),typeof Ee!="function")throw Error(r(150));return P=Ee.call(P),_e(j,U,P,te)}if(typeof P.then=="function")return nt(j,U,kr(P),te);if(P.$$typeof===G)return nt(j,U,_r(j,P),te);Vr(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,U!==null&&U.tag===6?(i(j,U.sibling),te=u(U,P),te.return=j,j=te):(i(j,U),te=hl(P,j.mode,te),te.return=j,j=te),x(j)):i(j,U)}return function(j,U,P,te){try{wa=0;var Ee=nt(j,U,P,te);return Pi=null,Ee}catch(Ne){if(Ne===Bi||Ne===Lr)throw Ne;var $e=rn(29,Ne,null,j.mode);return $e.lanes=te,$e.return=j,$e}finally{}}}var gi=Rd(!0),Ld=Rd(!1),Eo=!1;function Dl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _l(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Do(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Je&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=Nr(e),gd(e,null,i),t}return wr(e,s,t,i),Nr(e)}function Ea(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,W(e,i)}}function Rl(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var u=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var x={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?u=p=x:p=p.next=x,i=i.next}while(i!==null);p===null?u=p=t:p=p.next=t}else u=p=t;i={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Ll=!1;function Ma(){if(Ll){var e=zi;if(e!==null)throw e}}function Da(e,t,i,s){Ll=!1;var u=e.updateQueue;Eo=!1;var p=u.firstBaseUpdate,x=u.lastBaseUpdate,A=u.shared.pending;if(A!==null){u.shared.pending=null;var L=A,q=L.next;L.next=null,x===null?p=q:x.next=q,x=L;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==x&&(A===null?ee.firstBaseUpdate=q:A.next=q,ee.lastBaseUpdate=L))}if(p!==null){var ne=u.baseState;x=0,ee=q=L=null,A=p;do{var F=A.lane&-536870913,X=F!==A.lane;if(X?(qe&F)===F:(s&F)===F){F!==0&&F===ji&&(Ll=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ce=e,_e=A;F=t;var nt=i;switch(_e.tag){case 1:if(Ce=_e.payload,typeof Ce=="function"){ne=Ce.call(nt,ne,F);break e}ne=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=_e.payload,F=typeof Ce=="function"?Ce.call(nt,ne,F):Ce,F==null)break e;ne=T({},ne,F);break e;case 2:Eo=!0}}F=A.callback,F!==null&&(e.flags|=64,X&&(e.flags|=8192),X=u.callbacks,X===null?u.callbacks=[F]:X.push(F))}else X={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(q=ee=X,L=ne):ee=ee.next=X,x|=F;if(A=A.next,A===null){if(A=u.shared.pending,A===null)break;X=A,A=X.next,X.next=null,u.lastBaseUpdate=X,u.shared.pending=null}}while(!0);ee===null&&(L=ne),u.baseState=L,u.firstBaseUpdate=q,u.lastBaseUpdate=ee,p===null&&(u.shared.lanes=0),ko|=x,e.lanes=x,e.memoizedState=ne}}function Id(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function kd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Id(i[e],t)}var qi=R(null),Ur=R(0);function Vd(e,t){e=mo,pe(Ur,e),pe(qi,t),mo=e|t.baseLanes}function Il(){pe(Ur,mo),pe(qi,qi.current)}function kl(){mo=Ur.current,K(qi),K(Ur)}var sn=R(null),Cn=null;function _o(e){var t=e.alternate;pe(bt,bt.current&1),pe(sn,e),Cn===null&&(t===null||qi.current!==null||t.memoizedState!==null)&&(Cn=e)}function Vl(e){pe(bt,bt.current),pe(sn,e),Cn===null&&(Cn=e)}function Ud(e){e.tag===22?(pe(bt,bt.current),pe(sn,e),Cn===null&&(Cn=e)):Ro()}function Ro(){pe(bt,bt.current),pe(sn,sn.current)}function ln(e){K(sn),Cn===e&&(Cn=null),K(bt)}var bt=R(0);function Hr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Bu(i)||Pu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=0,Ve=null,et=null,At=null,Or=!1,Fi=!1,hi=!1,jr=0,_a=0,Gi=null,ly=0;function yt(){throw Error(r(321))}function Ul(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!an(e[i],t[i]))return!1;return!0}function Hl(e,t,i,s,u,p){return ao=p,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?xf:Zl,hi=!1,p=i(s,u),hi=!1,Fi&&(p=Od(t,i,s,u)),Hd(e),p}function Hd(e){O.H=Ia;var t=et!==null&&et.next!==null;if(ao=0,At=et=Ve=null,Or=!1,_a=0,Gi=null,t)throw Error(r(300));e===null||St||(e=e.dependencies,e!==null&&Dr(e)&&(St=!0))}function Od(e,t,i,s){Ve=e;var u=0;do{if(Fi&&(Gi=null),_a=0,Fi=!1,25<=u)throw Error(r(301));if(u+=1,At=et=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}O.H=Tf,p=t(i,s)}while(Fi);return p}function uy(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Ra(t):t,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Ve.flags|=1024),t}function Ol(){var e=jr!==0;return jr=0,e}function jl(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function zl(e){if(Or){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Or=!1}ao=0,At=et=Ve=null,Fi=!1,_a=jr=0,Gi=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ve.memoizedState=At=e:At=At.next=e,At}function xt(){if(et===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=At===null?Ve.memoizedState:At.next;if(t!==null)At=t,et=e;else{if(e===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},At===null?Ve.memoizedState=At=e:At=At.next=e}return At}function zr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ra(e){var t=_a;return _a+=1,Gi===null&&(Gi=[]),e=Md(Gi,e,t),t=Ve,(At===null?t.memoizedState:At.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?xf:Zl),e}function Br(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ra(e);if(e.$$typeof===G)return Ut(e)}throw Error(r(438,String(e)))}function Bl(e){var t=null,i=Ve.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=Ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=zr(),Ve.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=ie;return t.index++,i}function ro(e,t){return typeof t=="function"?t(e):t}function Pr(e){var t=xt();return Pl(t,et,e)}function Pl(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var u=e.baseQueue,p=s.pending;if(p!==null){if(u!==null){var x=u.next;u.next=p.next,p.next=x}t.baseQueue=u=p,s.pending=null}if(p=e.baseState,u===null)e.memoizedState=p;else{t=u.next;var A=x=null,L=null,q=t,ee=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(qe&ne)===ne:(ao&ne)===ne){var F=q.revertLane;if(F===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===ji&&(ee=!0);else if((ao&F)===F){q=q.next,F===ji&&(ee=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(A=L=ne,x=p):L=L.next=ne,Ve.lanes|=F,ko|=F;ne=q.action,hi&&i(p,ne),p=q.hasEagerState?q.eagerState:i(p,ne)}else F={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(A=L=F,x=p):L=L.next=F,Ve.lanes|=ne,ko|=ne;q=q.next}while(q!==null&&q!==t);if(L===null?x=p:L.next=A,!an(p,e.memoizedState)&&(St=!0,ee&&(i=zi,i!==null)))throw i;e.memoizedState=p,e.baseState=x,e.baseQueue=L,s.lastRenderedState=p}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ql(e){var t=xt(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,u=i.pending,p=t.memoizedState;if(u!==null){i.pending=null;var x=u=u.next;do p=e(p,x.action),x=x.next;while(x!==u);an(p,t.memoizedState)||(St=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),i.lastRenderedState=p}return[p,s]}function jd(e,t,i){var s=Ve,u=xt(),p=Ge;if(p){if(i===void 0)throw Error(r(407));i=i()}else i=t();var x=!an((et||u).memoizedState,i);if(x&&(u.memoizedState=i,St=!0),u=u.queue,Yl(Pd.bind(null,s,u,e),[e]),u.getSnapshot!==t||x||At!==null&&At.memoizedState.tag&1){if(s.flags|=2048,Yi(9,{destroy:void 0},Bd.bind(null,s,u,i,t),null),it===null)throw Error(r(349));p||(ao&127)!==0||zd(s,t,i)}return i}function zd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ve.updateQueue,t===null?(t=zr(),Ve.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Bd(e,t,i,s){t.value=i,t.getSnapshot=s,qd(t)&&Fd(e)}function Pd(e,t,i){return i(function(){qd(t)&&Fd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!an(e,i)}catch{return!0}}function Fd(e){var t=si(e,2);t!==null&&Wt(t,e,2)}function Fl(e){var t=Yt();if(typeof e=="function"){var i=e;if(e=i(),hi){Pt(!0);try{i()}finally{Pt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e},t}function Gd(e,t,i,s){return e.baseState=i,Pl(e,et,typeof s=="function"?s:ro)}function cy(e,t,i,s,u){if(Gr(e))throw Error(r(485));if(e=t.action,e!==null){var p={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};O.T!==null?i(!0):p.isTransition=!1,s(p),i=t.pending,i===null?(p.next=t.pending=p,Yd(t,p)):(p.next=i.next,t.pending=i.next=p)}}function Yd(e,t){var i=t.action,s=t.payload,u=e.state;if(t.isTransition){var p=O.T,x={};O.T=x;try{var A=i(u,s),L=O.S;L!==null&&L(x,A),Xd(e,t,A)}catch(q){Gl(e,t,q)}finally{p!==null&&x.types!==null&&(p.types=x.types),O.T=p}}else try{p=i(u,s),Xd(e,t,p)}catch(q){Gl(e,t,q)}}function Xd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){$d(e,t,s)},function(s){return Gl(e,t,s)}):$d(e,t,i)}function $d(e,t,i){t.status="fulfilled",t.value=i,Kd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Yd(e,i)))}function Gl(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Kd(t),t=t.next;while(t!==s)}e.action=null}function Kd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Jd(e,t){return t}function Qd(e,t){if(Ge){var i=it.formState;if(i!==null){e:{var s=Ve;if(Ge){if(ut){t:{for(var u=ut,p=Tn;u.nodeType!==8;){if(!p){u=null;break t}if(u=An(u.nextSibling),u===null){u=null;break t}}p=u.data,u=p==="F!"||p==="F"?u:null}if(u){ut=An(u.nextSibling),s=u.data==="F!";break e}}wo(s)}s=!1}s&&(t=i[0])}}return i=Yt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:t},i.queue=s,i=yf.bind(null,Ve,s),s.dispatch=i,s=Fl(!1),p=Ql.bind(null,Ve,!1,s.queue),s=Yt(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,i=cy.bind(null,Ve,u,p,i),u.dispatch=i,s.memoizedState=e,[t,i,!1]}function Zd(e){var t=xt();return Wd(t,et,e)}function Wd(e,t,i){if(t=Pl(e,t,Jd)[0],e=Pr(ro)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ra(t)}catch(x){throw x===Bi?Lr:x}else s=t;t=xt();var u=t.queue,p=u.dispatch;return i!==t.memoizedState&&(Ve.flags|=2048,Yi(9,{destroy:void 0},dy.bind(null,u,i),null)),[s,p,e]}function dy(e,t){e.action=t}function ef(e){var t=xt(),i=et;if(i!==null)return Wd(t,i,e);xt(),t=t.memoizedState,i=xt();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Yi(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=Ve.updateQueue,t===null&&(t=zr(),Ve.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function tf(){return xt().memoizedState}function qr(e,t,i,s){var u=Yt();Ve.flags|=e,u.memoizedState=Yi(1|t,{destroy:void 0},i,s===void 0?null:s)}function Fr(e,t,i,s){var u=xt();s=s===void 0?null:s;var p=u.memoizedState.inst;et!==null&&s!==null&&Ul(s,et.memoizedState.deps)?u.memoizedState=Yi(t,p,i,s):(Ve.flags|=e,u.memoizedState=Yi(1|t,p,i,s))}function nf(e,t){qr(8390656,8,e,t)}function Yl(e,t){Fr(2048,8,e,t)}function fy(e){Ve.flags|=4;var t=Ve.updateQueue;if(t===null)t=zr(),Ve.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function of(e){var t=xt().memoizedState;return fy({ref:t,nextImpl:e}),function(){if((Je&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function af(e,t){return Fr(4,2,e,t)}function rf(e,t){return Fr(4,4,e,t)}function sf(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lf(e,t,i){i=i!=null?i.concat([e]):null,Fr(4,4,sf.bind(null,t,e),i)}function Xl(){}function uf(e,t){var i=xt();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Ul(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function cf(e,t){var i=xt();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Ul(t,s[1]))return s[0];if(s=e(),hi){Pt(!0);try{e()}finally{Pt(!1)}}return i.memoizedState=[s,t],s}function $l(e,t,i){return i===void 0||(ao&1073741824)!==0&&(qe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=dp(),Ve.lanes|=e,ko|=e,i)}function df(e,t,i,s){return an(i,t)?i:qi.current!==null?(e=$l(e,i,s),an(e,t)||(St=!0),e):(ao&42)===0||(ao&1073741824)!==0&&(qe&261930)===0?(St=!0,e.memoizedState=i):(e=dp(),Ve.lanes|=e,ko|=e,t)}function ff(e,t,i,s,u){var p=re.p;re.p=p!==0&&8>p?p:8;var x=O.T,A={};O.T=A,Ql(e,!1,t,i);try{var L=u(),q=O.S;if(q!==null&&q(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ee=sy(L,s);La(e,t,ee,dn(e))}else La(e,t,s,dn(e))}catch(ne){La(e,t,{then:function(){},status:"rejected",reason:ne},dn())}finally{re.p=p,x!==null&&A.types!==null&&(x.types=A.types),O.T=x}}function py(){}function Kl(e,t,i,s){if(e.tag!==5)throw Error(r(476));var u=pf(e).queue;ff(e,u,t,xe,i===null?py:function(){return mf(e),i(s)})}function pf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:xe},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mf(e){var t=pf(e);t.next===null&&(t=e.alternate.memoizedState),La(e,t.next.queue,{},dn())}function Jl(){return Ut(Ka)}function gf(){return xt().memoizedState}function hf(){return xt().memoizedState}function my(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=dn();e=Mo(i);var s=Do(t,e,i);s!==null&&(Wt(s,t,i),Ea(s,t,i)),t={cache:wl()},e.payload=t;return}t=t.return}}function gy(e,t,i){var s=dn();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Gr(e)?vf(t,i):(i=ml(e,t,i,s),i!==null&&(Wt(i,e,s),bf(i,t,s)))}function yf(e,t,i){var s=dn();La(e,t,i,s)}function La(e,t,i,s){var u={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Gr(e))vf(t,u);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var x=t.lastRenderedState,A=p(x,i);if(u.hasEagerState=!0,u.eagerState=A,an(A,x))return wr(e,t,u,0),it===null&&Sr(),!1}catch{}finally{}if(i=ml(e,t,u,s),i!==null)return Wt(i,e,s),bf(i,t,s),!0}return!1}function Ql(e,t,i,s){if(s={lane:2,revertLane:Du(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gr(e)){if(t)throw Error(r(479))}else t=ml(e,i,s,2),t!==null&&Wt(t,e,2)}function Gr(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function vf(e,t){Fi=Or=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function bf(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,W(e,i)}}var Ia={readContext:Ut,use:Br,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Ia.useEffectEvent=yt;var xf={readContext:Ut,use:Br,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:nf,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,qr(4194308,4,sf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return qr(4194308,4,e,t)},useInsertionEffect:function(e,t){qr(4,2,e,t)},useMemo:function(e,t){var i=Yt();t=t===void 0?null:t;var s=e();if(hi){Pt(!0);try{e()}finally{Pt(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=Yt();if(i!==void 0){var u=i(t);if(hi){Pt(!0);try{i(t)}finally{Pt(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=gy.bind(null,Ve,e),[s.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Fl(e);var t=e.queue,i=yf.bind(null,Ve,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Xl,useDeferredValue:function(e,t){var i=Yt();return $l(i,e,t)},useTransition:function(){var e=Fl(!1);return e=ff.bind(null,Ve,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=Ve,u=Yt();if(Ge){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),it===null)throw Error(r(349));(qe&127)!==0||zd(s,t,i)}u.memoizedState=i;var p={value:i,getSnapshot:t};return u.queue=p,nf(Pd.bind(null,s,p,e),[e]),s.flags|=2048,Yi(9,{destroy:void 0},Bd.bind(null,s,p,i,t),null),i},useId:function(){var e=Yt(),t=it.identifierPrefix;if(Ge){var i=qn,s=Pn;i=(s&~(1<<32-Lt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=jr++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=ly++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Jl,useFormState:Qd,useActionState:Qd,useOptimistic:function(e){var t=Yt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ql.bind(null,Ve,!0,i),i.dispatch=t,[e,t]},useMemoCache:Bl,useCacheRefresh:function(){return Yt().memoizedState=my.bind(null,Ve)},useEffectEvent:function(e){var t=Yt(),i={impl:e};return t.memoizedState=i,function(){if((Je&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Zl={readContext:Ut,use:Br,useCallback:uf,useContext:Ut,useEffect:Yl,useImperativeHandle:lf,useInsertionEffect:af,useLayoutEffect:rf,useMemo:cf,useReducer:Pr,useRef:tf,useState:function(){return Pr(ro)},useDebugValue:Xl,useDeferredValue:function(e,t){var i=xt();return df(i,et.memoizedState,e,t)},useTransition:function(){var e=Pr(ro)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:Ra(e),t]},useSyncExternalStore:jd,useId:gf,useHostTransitionStatus:Jl,useFormState:Zd,useActionState:Zd,useOptimistic:function(e,t){var i=xt();return Gd(i,et,e,t)},useMemoCache:Bl,useCacheRefresh:hf};Zl.useEffectEvent=of;var Tf={readContext:Ut,use:Br,useCallback:uf,useContext:Ut,useEffect:Yl,useImperativeHandle:lf,useInsertionEffect:af,useLayoutEffect:rf,useMemo:cf,useReducer:ql,useRef:tf,useState:function(){return ql(ro)},useDebugValue:Xl,useDeferredValue:function(e,t){var i=xt();return et===null?$l(i,e,t):df(i,et.memoizedState,e,t)},useTransition:function(){var e=ql(ro)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:Ra(e),t]},useSyncExternalStore:jd,useId:gf,useHostTransitionStatus:Jl,useFormState:ef,useActionState:ef,useOptimistic:function(e,t){var i=xt();return et!==null?Gd(i,et,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Bl,useCacheRefresh:hf};Tf.useEffectEvent=of;function Wl(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:T({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var eu={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=dn(),u=Mo(s);u.payload=t,i!=null&&(u.callback=i),t=Do(e,u,s),t!==null&&(Wt(t,e,s),Ea(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=dn(),u=Mo(s);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Do(e,u,s),t!==null&&(Wt(t,e,s),Ea(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=dn(),s=Mo(i);s.tag=2,t!=null&&(s.callback=t),t=Do(e,s,i),t!==null&&(Wt(t,e,i),Ea(t,e,i))}};function Cf(e,t,i,s,u,p,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,x):t.prototype&&t.prototype.isPureReactComponent?!ba(i,s)||!ba(u,p):!0}function Af(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&eu.enqueueReplaceState(t,t.state,null)}function yi(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=T({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function Sf(e){Ar(e)}function wf(e){console.error(e)}function Nf(e){Ar(e)}function Yr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Ef(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function tu(e,t,i){return i=Mo(i),i.tag=3,i.payload={element:null},i.callback=function(){Yr(e,t)},i}function Mf(e){return e=Mo(e),e.tag=3,e}function Df(e,t,i,s){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var p=s.value;e.payload=function(){return u(p)},e.callback=function(){Ef(t,i,s)}}var x=i.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Ef(t,i,s),typeof u!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var A=s.stack;this.componentDidCatch(s.value,{componentStack:A!==null?A:""})})}function hy(e,t,i,s,u){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Oi(t,i,u,!0),i=sn.current,i!==null){switch(i.tag){case 31:case 13:return Cn===null?is():i.alternate===null&&vt===0&&(vt=3),i.flags&=-257,i.flags|=65536,i.lanes=u,s===Ir?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),Nu(e,s,u)),!1;case 22:return i.flags|=65536,s===Ir?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),Nu(e,s,u)),!1}throw Error(r(435,i.tag))}return Nu(e,s,u),is(),!1}if(Ge)return t=sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==xl&&(e=Error(r(422),{cause:s}),Ca(vn(e,i)))):(s!==xl&&(t=Error(r(423),{cause:s}),Ca(vn(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=vn(s,i),u=tu(e.stateNode,s,u),Rl(e,u),vt!==4&&(vt=2)),!1;var p=Error(r(520),{cause:s});if(p=vn(p,i),Ba===null?Ba=[p]:Ba.push(p),vt!==4&&(vt=2),t===null)return!0;s=vn(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=tu(i.stateNode,s,e),Rl(i,e),!1;case 1:if(t=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Vo===null||!Vo.has(p))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Mf(u),Df(u,e,i,s),Rl(i,u),!1}i=i.return}while(i!==null);return!1}var nu=Error(r(461)),St=!1;function Ht(e,t,i,s){t.child=e===null?Ld(t,null,i,s):gi(t,e.child,i,s)}function _f(e,t,i,s,u){i=i.render;var p=t.ref;if("ref"in s){var x={};for(var A in s)A!=="ref"&&(x[A]=s[A])}else x=s;return di(t),s=Hl(e,t,i,x,p,u),A=Ol(),e!==null&&!St?(jl(e,t,u),so(e,t,u)):(Ge&&A&&vl(t),t.flags|=1,Ht(e,t,s,u),t.child)}function Rf(e,t,i,s,u){if(e===null){var p=i.type;return typeof p=="function"&&!gl(p)&&p.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=p,Lf(e,t,p,s,u)):(e=Er(i.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!cu(e,u)){var x=p.memoizedProps;if(i=i.compare,i=i!==null?i:ba,i(x,s)&&e.ref===t.ref)return so(e,t,u)}return t.flags|=1,e=to(p,s),e.ref=t.ref,e.return=t,t.child=e}function Lf(e,t,i,s,u){if(e!==null){var p=e.memoizedProps;if(ba(p,s)&&e.ref===t.ref)if(St=!1,t.pendingProps=s=p,cu(e,u))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,so(e,t,u)}return ou(e,t,i,s,u)}function If(e,t,i,s){var u=s.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~p}else s=0,t.child=null;return kf(e,t,p,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Rr(t,p!==null?p.cachePool:null),p!==null?Vd(t,p):Il(),Ud(t);else return s=t.lanes=536870912,kf(e,t,p!==null?p.baseLanes|i:i,i,s)}else p!==null?(Rr(t,p.cachePool),Vd(t,p),Ro(),t.memoizedState=null):(e!==null&&Rr(t,null),Il(),Ro());return Ht(e,t,u,i),t.child}function ka(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function kf(e,t,i,s,u){var p=El();return p=p===null?null:{parent:Ct._currentValue,pool:p},t.memoizedState={baseLanes:i,cachePool:p},e!==null&&Rr(t,null),Il(),Ud(t),e!==null&&Oi(e,t,s,!0),t.childLanes=u,null}function Xr(e,t){return t=Kr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vf(e,t,i){return gi(t,e.child,null,i),e=Xr(t,t.pendingProps),e.flags|=2,ln(t),t.memoizedState=null,e}function yy(e,t,i){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ge){if(s.mode==="hidden")return e=Xr(t,s),t.lanes=536870912,ka(null,e);if(Vl(t),(e=ut)?(e=Xp(e,Tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ao!==null?{id:Pn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},i=yd(e),i.return=t,t.child=i,Vt=t,ut=null)):e=null,e===null)throw wo(t);return t.lanes=536870912,null}return Xr(t,s)}var p=e.memoizedState;if(p!==null){var x=p.dehydrated;if(Vl(t),u)if(t.flags&256)t.flags&=-257,t=Vf(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(St||Oi(e,t,i,!1),u=(i&e.childLanes)!==0,St||u){if(s=it,s!==null&&(x=me(s,i),x!==0&&x!==p.retryLane))throw p.retryLane=x,si(e,x),Wt(s,e,x),nu;is(),t=Vf(e,t,i)}else e=p.treeContext,ut=An(x.nextSibling),Vt=t,Ge=!0,So=null,Tn=!1,e!==null&&xd(t,e),t=Xr(t,s),t.flags|=4096;return t}return e=to(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $r(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function ou(e,t,i,s,u){return di(t),i=Hl(e,t,i,s,void 0,u),s=Ol(),e!==null&&!St?(jl(e,t,u),so(e,t,u)):(Ge&&s&&vl(t),t.flags|=1,Ht(e,t,i,u),t.child)}function Uf(e,t,i,s,u,p){return di(t),t.updateQueue=null,i=Od(t,s,i,u),Hd(e),s=Ol(),e!==null&&!St?(jl(e,t,p),so(e,t,p)):(Ge&&s&&vl(t),t.flags|=1,Ht(e,t,i,p),t.child)}function Hf(e,t,i,s,u){if(di(t),t.stateNode===null){var p=ki,x=i.contextType;typeof x=="object"&&x!==null&&(p=Ut(x)),p=new i(s,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=eu,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=s,p.state=t.memoizedState,p.refs={},Dl(t),x=i.contextType,p.context=typeof x=="object"&&x!==null?Ut(x):ki,p.state=t.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(Wl(t,i,x,s),p.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&eu.enqueueReplaceState(p,p.state,null),Da(t,s,p,u),Ma(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){p=t.stateNode;var A=t.memoizedProps,L=yi(i,A);p.props=L;var q=p.context,ee=i.contextType;x=ki,typeof ee=="object"&&ee!==null&&(x=Ut(ee));var ne=i.getDerivedStateFromProps;ee=typeof ne=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||q!==x)&&Af(t,p,s,x),Eo=!1;var F=t.memoizedState;p.state=F,Da(t,s,p,u),Ma(),q=t.memoizedState,A||F!==q||Eo?(typeof ne=="function"&&(Wl(t,i,ne,s),q=t.memoizedState),(L=Eo||Cf(t,i,L,s,F,q,x))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=q),p.props=s,p.state=q,p.context=x,s=L):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,_l(e,t),x=t.memoizedProps,ee=yi(i,x),p.props=ee,ne=t.pendingProps,F=p.context,q=i.contextType,L=ki,typeof q=="object"&&q!==null&&(L=Ut(q)),A=i.getDerivedStateFromProps,(q=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==ne||F!==L)&&Af(t,p,s,L),Eo=!1,F=t.memoizedState,p.state=F,Da(t,s,p,u),Ma();var X=t.memoizedState;x!==ne||F!==X||Eo||e!==null&&e.dependencies!==null&&Dr(e.dependencies)?(typeof A=="function"&&(Wl(t,i,A,s),X=t.memoizedState),(ee=Eo||Cf(t,i,ee,s,F,X,L)||e!==null&&e.dependencies!==null&&Dr(e.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,X,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,X,L)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=X),p.props=s,p.state=X,p.context=L,s=ee):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),s=!1)}return p=s,$r(e,t),s=(t.flags&128)!==0,p||s?(p=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&s?(t.child=gi(t,e.child,null,u),t.child=gi(t,null,i,u)):Ht(e,t,i,u),t.memoizedState=p.state,e=t.child):e=so(e,t,u),e}function Of(e,t,i,s){return ui(),t.flags|=256,Ht(e,t,i,s),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function au(e){return{baseLanes:e,cachePool:Nd()}}function ru(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=cn),e}function jf(e,t,i){var s=t.pendingProps,u=!1,p=(t.flags&128)!==0,x;if((x=p)||(x=e!==null&&e.memoizedState===null?!1:(bt.current&2)!==0),x&&(u=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ge){if(u?_o(t):Ro(),(e=ut)?(e=Xp(e,Tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ao!==null?{id:Pn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},i=yd(e),i.return=t,t.child=i,Vt=t,ut=null)):e=null,e===null)throw wo(t);return Pu(e)?t.lanes=32:t.lanes=536870912,null}var A=s.children;return s=s.fallback,u?(Ro(),u=t.mode,A=Kr({mode:"hidden",children:A},u),s=li(s,u,i,null),A.return=t,s.return=t,A.sibling=s,t.child=A,s=t.child,s.memoizedState=au(i),s.childLanes=ru(e,x,i),t.memoizedState=iu,ka(null,s)):(_o(t),su(t,A))}var L=e.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(p)t.flags&256?(_o(t),t.flags&=-257,t=lu(e,t,i)):t.memoizedState!==null?(Ro(),t.child=e.child,t.flags|=128,t=null):(Ro(),A=s.fallback,u=t.mode,s=Kr({mode:"visible",children:s.children},u),A=li(A,u,i,null),A.flags|=2,s.return=t,A.return=t,s.sibling=A,t.child=s,gi(t,e.child,null,i),s=t.child,s.memoizedState=au(i),s.childLanes=ru(e,x,i),t.memoizedState=iu,t=ka(null,s));else if(_o(t),Pu(A)){if(x=A.nextSibling&&A.nextSibling.dataset,x)var q=x.dgst;x=q,s=Error(r(419)),s.stack="",s.digest=x,Ca({value:s,source:null,stack:null}),t=lu(e,t,i)}else if(St||Oi(e,t,i,!1),x=(i&e.childLanes)!==0,St||x){if(x=it,x!==null&&(s=me(x,i),s!==0&&s!==L.retryLane))throw L.retryLane=s,si(e,s),Wt(x,e,s),nu;Bu(A)||is(),t=lu(e,t,i)}else Bu(A)?(t.flags|=192,t.child=e.child,t=null):(e=L.treeContext,ut=An(A.nextSibling),Vt=t,Ge=!0,So=null,Tn=!1,e!==null&&xd(t,e),t=su(t,s.children),t.flags|=4096);return t}return u?(Ro(),A=s.fallback,u=t.mode,L=e.child,q=L.sibling,s=to(L,{mode:"hidden",children:s.children}),s.subtreeFlags=L.subtreeFlags&65011712,q!==null?A=to(q,A):(A=li(A,u,i,null),A.flags|=2),A.return=t,s.return=t,s.sibling=A,t.child=s,ka(null,s),s=t.child,A=e.child.memoizedState,A===null?A=au(i):(u=A.cachePool,u!==null?(L=Ct._currentValue,u=u.parent!==L?{parent:L,pool:L}:u):u=Nd(),A={baseLanes:A.baseLanes|i,cachePool:u}),s.memoizedState=A,s.childLanes=ru(e,x,i),t.memoizedState=iu,ka(e.child,s)):(_o(t),i=e.child,e=i.sibling,i=to(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=i,t.memoizedState=null,i)}function su(e,t){return t=Kr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Kr(e,t){return e=rn(22,e,null,t),e.lanes=0,e}function lu(e,t,i){return gi(t,e.child,null,i),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zf(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Al(e.return,t,i)}function uu(e,t,i,s,u,p){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:u,treeForkCount:p}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=s,x.tail=i,x.tailMode=u,x.treeForkCount=p)}function Bf(e,t,i){var s=t.pendingProps,u=s.revealOrder,p=s.tail;s=s.children;var x=bt.current,A=(x&2)!==0;if(A?(x=x&1|2,t.flags|=128):x&=1,pe(bt,x),Ht(e,t,s,i),s=Ge?Ta:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zf(e,i,t);else if(e.tag===19)zf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&Hr(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),uu(t,!1,u,i,p,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Hr(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}uu(t,!0,i,null,p,s);break;case"together":uu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function so(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ko|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Oi(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=to(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=to(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function cu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Dr(e)))}function vy(e,t,i){switch(t.tag){case 3:Qe(t,t.stateNode.containerInfo),No(t,Ct,e.memoizedState.cache),ui();break;case 27:case 5:fn(t);break;case 4:Qe(t,t.stateNode.containerInfo);break;case 10:No(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Vl(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(_o(t),t.flags|=128,null):(i&t.child.childLanes)!==0?jf(e,t,i):(_o(t),e=so(e,t,i),e!==null?e.sibling:null);_o(t);break;case 19:var u=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Oi(e,t,i,!1),s=(i&t.childLanes)!==0),u){if(s)return Bf(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),pe(bt,bt.current),s)break;return null;case 22:return t.lanes=0,If(e,t,i,t.pendingProps);case 24:No(t,Ct,e.memoizedState.cache)}return so(e,t,i)}function Pf(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!cu(e,i)&&(t.flags&128)===0)return St=!1,vy(e,t,i);St=(e.flags&131072)!==0}else St=!1,Ge&&(t.flags&1048576)!==0&&bd(t,Ta,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=pi(t.elementType),t.type=e,typeof e=="function")gl(e)?(s=yi(e,s),t.tag=1,t=Hf(null,t,e,s,i)):(t.tag=0,t=ou(null,t,e,s,i));else{if(e!=null){var u=e.$$typeof;if(u===M){t.tag=11,t=_f(null,t,e,s,i);break e}else if(u===k){t.tag=14,t=Rf(null,t,e,s,i);break e}}throw t=de(e)||e,Error(r(306,t,""))}}return t;case 0:return ou(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,u=yi(s,t.pendingProps),Hf(e,t,s,u,i);case 3:e:{if(Qe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var p=t.memoizedState;u=p.element,_l(e,t),Da(t,s,null,i);var x=t.memoizedState;if(s=x.cache,No(t,Ct,s),s!==p.cache&&Sl(t,[Ct],i,!0),Ma(),s=x.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=Of(e,t,s,i);break e}else if(s!==u){u=vn(Error(r(424)),t),Ca(u),t=Of(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ut=An(e.firstChild),Vt=t,Ge=!0,So=null,Tn=!0,i=Ld(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ui(),s===u){t=so(e,t,i);break e}Ht(e,t,s,i)}t=t.child}return t;case 26:return $r(e,t),e===null?(i=Wp(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ge||(i=t.type,e=t.pendingProps,s=ds(oe.current).createElement(i),s[ot]=t,s[Ue]=e,Ot(s,i,e),ht(s),t.stateNode=s):t.memoizedState=Wp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fn(t),e===null&&Ge&&(s=t.stateNode=Jp(t.type,t.pendingProps,oe.current),Vt=t,Tn=!0,u=ut,jo(t.type)?(qu=u,ut=An(s.firstChild)):ut=u),Ht(e,t,t.pendingProps.children,i),$r(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ge&&((u=s=ut)&&(s=$y(s,t.type,t.pendingProps,Tn),s!==null?(t.stateNode=s,Vt=t,ut=An(s.firstChild),Tn=!1,u=!0):u=!1),u||wo(t)),fn(t),u=t.type,p=t.pendingProps,x=e!==null?e.memoizedProps:null,s=p.children,Ou(u,p)?s=null:x!==null&&Ou(u,x)&&(t.flags|=32),t.memoizedState!==null&&(u=Hl(e,t,uy,null,null,i),Ka._currentValue=u),$r(e,t),Ht(e,t,s,i),t.child;case 6:return e===null&&Ge&&((e=i=ut)&&(i=Ky(i,t.pendingProps,Tn),i!==null?(t.stateNode=i,Vt=t,ut=null,e=!0):e=!1),e||wo(t)),null;case 13:return jf(e,t,i);case 4:return Qe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=gi(t,null,s,i):Ht(e,t,s,i),t.child;case 11:return _f(e,t,t.type,t.pendingProps,i);case 7:return Ht(e,t,t.pendingProps,i),t.child;case 8:return Ht(e,t,t.pendingProps.children,i),t.child;case 12:return Ht(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,No(t,t.type,s.value),Ht(e,t,s.children,i),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,di(t),u=Ut(u),s=s(u),t.flags|=1,Ht(e,t,s,i),t.child;case 14:return Rf(e,t,t.type,t.pendingProps,i);case 15:return Lf(e,t,t.type,t.pendingProps,i);case 19:return Bf(e,t,i);case 31:return yy(e,t,i);case 22:return If(e,t,i,t.pendingProps);case 24:return di(t),s=Ut(Ct),e===null?(u=El(),u===null&&(u=it,p=wl(),u.pooledCache=p,p.refCount++,p!==null&&(u.pooledCacheLanes|=i),u=p),t.memoizedState={parent:s,cache:u},Dl(t),No(t,Ct,u)):((e.lanes&i)!==0&&(_l(e,t),Da(t,null,null,i),Ma()),u=e.memoizedState,p=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),No(t,Ct,s)):(s=p.cache,No(t,Ct,s),s!==u.cache&&Sl(t,[Ct],i,!0))),Ht(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function lo(e){e.flags|=4}function du(e,t,i,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(gp())e.flags|=8192;else throw mi=Ir,Ml}else e.flags&=-16777217}function qf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!im(t))if(gp())e.flags|=8192;else throw mi=Ir,Ml}function Jr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Jn():536870912,e.lanes|=t,Ji|=t)}function Va(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function by(e,t,i){var s=t.pendingProps;switch(bl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return ct(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),io(Ct),Ye(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Hi(t)?lo(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tl())),ct(t),null;case 26:var u=t.type,p=t.memoizedState;return e===null?(lo(t),p!==null?(ct(t),qf(t,p)):(ct(t),du(t,u,null,s,i))):p?p!==e.memoizedState?(lo(t),ct(t),qf(t,p)):(ct(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&lo(t),ct(t),du(t,u,e,s,i)),null;case 27:if(wn(t),i=oe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&lo(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return ct(t),null}e=be.current,Hi(t)?Td(t):(e=Jp(u,s,i),t.stateNode=e,lo(t))}return ct(t),null;case 5:if(wn(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&lo(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return ct(t),null}if(p=be.current,Hi(t))Td(t);else{var x=ds(oe.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?x.createElement("select",{is:s.is}):x.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?x.createElement(u,{is:s.is}):x.createElement(u)}}p[ot]=t,p[Ue]=s;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=p;e:switch(Ot(p,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&lo(t)}}return ct(t),du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&lo(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=oe.current,Hi(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,u=Vt,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[ot]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||jp(e.nodeValue,i)),e||wo(t,!0)}else e=ds(e).createTextNode(s),e[ot]=t,t.stateNode=e}return ct(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=Hi(t),i!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ot]=t}else ui(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ct(t),e=!1}else i=Tl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(ln(t),t):(ln(t),null);if((t.flags&128)!==0)throw Error(r(558))}return ct(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Hi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ot]=t}else ui(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ct(t),u=!1}else u=Tl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(ln(t),t):(ln(t),null)}return ln(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==u&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Jr(t,t.updateQueue),ct(t),null);case 4:return Ye(),e===null&&Iu(t.stateNode.containerInfo),ct(t),null;case 10:return io(t.type),ct(t),null;case 19:if(K(bt),s=t.memoizedState,s===null)return ct(t),null;if(u=(t.flags&128)!==0,p=s.rendering,p===null)if(u)Va(s,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Hr(e),p!==null){for(t.flags|=128,Va(s,!1),e=p.updateQueue,t.updateQueue=e,Jr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)hd(i,e),i=i.sibling;return pe(bt,bt.current&1|2),Ge&&no(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&_t()>ts&&(t.flags|=128,u=!0,Va(s,!1),t.lanes=4194304)}else{if(!u)if(e=Hr(p),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Jr(t,e),Va(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!Ge)return ct(t),null}else 2*_t()-s.renderingStartTime>ts&&i!==536870912&&(t.flags|=128,u=!0,Va(s,!1),t.lanes=4194304);s.isBackwards?(p.sibling=t.child,t.child=p):(e=s.last,e!==null?e.sibling=p:t.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,i=bt.current,pe(bt,u?i&1|2:i&1),Ge&&no(t,s.treeForkCount),e):(ct(t),null);case 22:case 23:return ln(t),kl(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),i=t.updateQueue,i!==null&&Jr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&K(fi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),io(Ct),ct(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function xy(e,t){switch(bl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return io(Ct),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wn(t),null;case 31:if(t.memoizedState!==null){if(ln(t),t.alternate===null)throw Error(r(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ln(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(bt),null;case 4:return Ye(),null;case 10:return io(t.type),null;case 22:case 23:return ln(t),kl(),e!==null&&K(fi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return io(Ct),null;case 25:return null;default:return null}}function Ff(e,t){switch(bl(t),t.tag){case 3:io(Ct),Ye();break;case 26:case 27:case 5:wn(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&ln(t);break;case 13:ln(t);break;case 19:K(bt);break;case 10:io(t.type);break;case 22:case 23:ln(t),kl(),e!==null&&K(fi);break;case 24:io(Ct)}}function Ua(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var u=s.next;i=u;do{if((i.tag&e)===e){s=void 0;var p=i.create,x=i.inst;s=p(),x.destroy=s}i=i.next}while(i!==u)}}catch(A){We(t,t.return,A)}}function Lo(e,t,i){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var p=u.next;s=p;do{if((s.tag&e)===e){var x=s.inst,A=x.destroy;if(A!==void 0){x.destroy=void 0,u=t;var L=i,q=A;try{q()}catch(ee){We(u,L,ee)}}}s=s.next}while(s!==p)}}catch(ee){We(t,t.return,ee)}}function Gf(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{kd(t,i)}catch(s){We(e,e.return,s)}}}function Yf(e,t,i){i.props=yi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){We(e,t,s)}}function Ha(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(u){We(e,t,u)}}function Fn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(u){We(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){We(e,t,u)}else i.current=null}function Xf(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(u){We(e,e.return,u)}}function fu(e,t,i){try{var s=e.stateNode;Py(s,e.type,i,t),s[Ue]=t}catch(u){We(e,e.return,u)}}function $f(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&jo(e.type)||e.tag===4}function pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$f(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&jo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Wn));else if(s!==4&&(s===27&&jo(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(mu(e,t,i),e=e.sibling;e!==null;)mu(e,t,i),e=e.sibling}function Qr(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&jo(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Qr(e,t,i),e=e.sibling;e!==null;)Qr(e,t,i),e=e.sibling}function Kf(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ot(t,s,i),t[ot]=e,t[Ue]=i}catch(p){We(e,e.return,p)}}var uo=!1,wt=!1,gu=!1,Jf=typeof WeakSet=="function"?WeakSet:Set,kt=null;function Ty(e,t){if(e=e.containerInfo,Uu=vs,e=sd(e),ll(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var u=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var x=0,A=-1,L=-1,q=0,ee=0,ne=e,F=null;t:for(;;){for(var X;ne!==i||u!==0&&ne.nodeType!==3||(A=x+u),ne!==p||s!==0&&ne.nodeType!==3||(L=x+s),ne.nodeType===3&&(x+=ne.nodeValue.length),(X=ne.firstChild)!==null;)F=ne,ne=X;for(;;){if(ne===e)break t;if(F===i&&++q===u&&(A=x),F===p&&++ee===s&&(L=x),(X=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=X}i=A===-1||L===-1?null:{start:A,end:L}}else i=null}i=i||{start:0,end:0}}else i=null;for(Hu={focusedElem:e,selectionRange:i},vs=!1,kt=t;kt!==null;)if(t=kt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,kt=e;else for(;kt!==null;){switch(t=kt,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,i=t,u=p.memoizedProps,p=p.memoizedState,s=i.stateNode;try{var Ce=yi(i.type,u);e=s.getSnapshotBeforeUpdate(Ce,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(_e){We(i,i.return,_e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)zu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,kt=e;break}kt=t.return}}function Qf(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:fo(e,i),s&4&&Ua(5,i);break;case 1:if(fo(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(x){We(i,i.return,x)}else{var u=yi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){We(i,i.return,x)}}s&64&&Gf(i),s&512&&Ha(i,i.return);break;case 3:if(fo(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{kd(e,t)}catch(x){We(i,i.return,x)}}break;case 27:t===null&&s&4&&Kf(i);case 26:case 5:fo(e,i),t===null&&s&4&&Xf(i),s&512&&Ha(i,i.return);break;case 12:fo(e,i);break;case 31:fo(e,i),s&4&&ep(e,i);break;case 13:fo(e,i),s&4&&tp(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=_y.bind(null,i),Jy(e,i))));break;case 22:if(s=i.memoizedState!==null||uo,!s){t=t!==null&&t.memoizedState!==null||wt,u=uo;var p=wt;uo=s,(wt=t)&&!p?po(e,i,(i.subtreeFlags&8772)!==0):fo(e,i),uo=u,wt=p}break;case 30:break;default:fo(e,i)}}function Zf(e){var t=e.alternate;t!==null&&(e.alternate=null,Zf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,Kt=!1;function co(e,t,i){for(i=i.child;i!==null;)Wf(e,t,i),i=i.sibling}function Wf(e,t,i){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Et,i)}catch{}switch(i.tag){case 26:wt||Fn(i,t),co(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:wt||Fn(i,t);var s=dt,u=Kt;jo(i.type)&&(dt=i.stateNode,Kt=!1),co(e,t,i),Ya(i.stateNode),dt=s,Kt=u;break;case 5:wt||Fn(i,t);case 6:if(s=dt,u=Kt,dt=null,co(e,t,i),dt=s,Kt=u,dt!==null)if(Kt)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(i.stateNode)}catch(p){We(i,t,p)}else try{dt.removeChild(i.stateNode)}catch(p){We(i,t,p)}break;case 18:dt!==null&&(Kt?(e=dt,Gp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ia(e)):Gp(dt,i.stateNode));break;case 4:s=dt,u=Kt,dt=i.stateNode.containerInfo,Kt=!0,co(e,t,i),dt=s,Kt=u;break;case 0:case 11:case 14:case 15:Lo(2,i,t),wt||Lo(4,i,t),co(e,t,i);break;case 1:wt||(Fn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Yf(i,t,s)),co(e,t,i);break;case 21:co(e,t,i);break;case 22:wt=(s=wt)||i.memoizedState!==null,co(e,t,i),wt=s;break;default:co(e,t,i)}}function ep(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ia(e)}catch(i){We(t,t.return,i)}}}function tp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ia(e)}catch(i){We(t,t.return,i)}}function Cy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jf),t;default:throw Error(r(435,e.tag))}}function Zr(e,t){var i=Cy(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var u=Ry.bind(null,e,s);s.then(u,u)}})}function Jt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var u=i[s],p=e,x=t,A=x;e:for(;A!==null;){switch(A.tag){case 27:if(jo(A.type)){dt=A.stateNode,Kt=!1;break e}break;case 5:dt=A.stateNode,Kt=!1;break e;case 3:case 4:dt=A.stateNode.containerInfo,Kt=!0;break e}A=A.return}if(dt===null)throw Error(r(160));Wf(p,x,u),dt=null,Kt=!1,p=u.alternate,p!==null&&(p.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)np(t,e),t=t.sibling}var Dn=null;function np(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jt(t,e),Qt(e),s&4&&(Lo(3,e,e.return),Ua(3,e),Lo(5,e,e.return));break;case 1:Jt(t,e),Qt(e),s&512&&(wt||i===null||Fn(i,i.return)),s&64&&uo&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var u=Dn;if(Jt(t,e),Qt(e),s&512&&(wt||i===null||Fn(i,i.return)),s&4){var p=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":p=u.getElementsByTagName("title")[0],(!p||p[Qn]||p[ot]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=u.createElement(s),u.head.insertBefore(p,u.querySelector("head > title"))),Ot(p,s,i),p[ot]=e,ht(p),s=p;break e;case"link":var x=nm("link","href",u).get(s+(i.href||""));if(x){for(var A=0;A<x.length;A++)if(p=x[A],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){x.splice(A,1);break t}}p=u.createElement(s),Ot(p,s,i),u.head.appendChild(p);break;case"meta":if(x=nm("meta","content",u).get(s+(i.content||""))){for(A=0;A<x.length;A++)if(p=x[A],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){x.splice(A,1);break t}}p=u.createElement(s),Ot(p,s,i),u.head.appendChild(p);break;default:throw Error(r(468,s))}p[ot]=e,ht(p),s=p}e.stateNode=s}else om(u,e.type,e.stateNode);else e.stateNode=tm(u,s,e.memoizedProps);else p!==s?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,s===null?om(u,e.type,e.stateNode):tm(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&fu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Jt(t,e),Qt(e),s&512&&(wt||i===null||Fn(i,i.return)),i!==null&&s&4&&fu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Jt(t,e),Qt(e),s&512&&(wt||i===null||Fn(i,i.return)),e.flags&32){u=e.stateNode;try{Ei(u,"")}catch(Ce){We(e,e.return,Ce)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,fu(e,u,i!==null?i.memoizedProps:u)),s&1024&&(gu=!0);break;case 6:if(Jt(t,e),Qt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(Ce){We(e,e.return,Ce)}}break;case 3:if(ms=null,u=Dn,Dn=fs(t.containerInfo),Jt(t,e),Dn=u,Qt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ia(t.containerInfo)}catch(Ce){We(e,e.return,Ce)}gu&&(gu=!1,op(e));break;case 4:s=Dn,Dn=fs(e.stateNode.containerInfo),Jt(t,e),Qt(e),Dn=s;break;case 12:Jt(t,e),Qt(e);break;case 31:Jt(t,e),Qt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zr(e,s)));break;case 13:Jt(t,e),Qt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(es=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zr(e,s)));break;case 22:u=e.memoizedState!==null;var L=i!==null&&i.memoizedState!==null,q=uo,ee=wt;if(uo=q||u,wt=ee||L,Jt(t,e),wt=ee,uo=q,Qt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||L||uo||wt||vi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){L=i=t;try{if(p=L.stateNode,u)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{A=L.stateNode;var ne=L.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Ce){We(L,L.return,Ce)}}}else if(t.tag===6){if(i===null){L=t;try{L.stateNode.nodeValue=u?"":L.memoizedProps}catch(Ce){We(L,L.return,Ce)}}}else if(t.tag===18){if(i===null){L=t;try{var X=L.stateNode;u?Yp(X,!0):Yp(L.stateNode,!1)}catch(Ce){We(L,L.return,Ce)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Zr(e,i))));break;case 19:Jt(t,e),Qt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zr(e,s)));break;case 30:break;case 21:break;default:Jt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if($f(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var u=i.stateNode,p=pu(e);Qr(e,p,u);break;case 5:var x=i.stateNode;i.flags&32&&(Ei(x,""),i.flags&=-33);var A=pu(e);Qr(e,A,x);break;case 3:case 4:var L=i.stateNode.containerInfo,q=pu(e);mu(e,q,L);break;default:throw Error(r(161))}}catch(ee){We(e,e.return,ee)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function op(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;op(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fo(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qf(e,t.alternate,t),t=t.sibling}function vi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Lo(4,t,t.return),vi(t);break;case 1:Fn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Yf(t,t.return,i),vi(t);break;case 27:Ya(t.stateNode);case 26:case 5:Fn(t,t.return),vi(t);break;case 22:t.memoizedState===null&&vi(t);break;case 30:vi(t);break;default:vi(t)}e=e.sibling}}function po(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,p=t,x=p.flags;switch(p.tag){case 0:case 11:case 15:po(u,p,i),Ua(4,p);break;case 1:if(po(u,p,i),s=p,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(q){We(s,s.return,q)}if(s=p,u=s.updateQueue,u!==null){var A=s.stateNode;try{var L=u.shared.hiddenCallbacks;if(L!==null)for(u.shared.hiddenCallbacks=null,u=0;u<L.length;u++)Id(L[u],A)}catch(q){We(s,s.return,q)}}i&&x&64&&Gf(p),Ha(p,p.return);break;case 27:Kf(p);case 26:case 5:po(u,p,i),i&&s===null&&x&4&&Xf(p),Ha(p,p.return);break;case 12:po(u,p,i);break;case 31:po(u,p,i),i&&x&4&&ep(u,p);break;case 13:po(u,p,i),i&&x&4&&tp(u,p);break;case 22:p.memoizedState===null&&po(u,p,i),Ha(p,p.return);break;case 30:break;default:po(u,p,i)}t=t.sibling}}function hu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Aa(i))}function yu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Aa(e))}function _n(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ip(e,t,i,s),t=t.sibling}function ip(e,t,i,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:_n(e,t,i,s),u&2048&&Ua(9,t);break;case 1:_n(e,t,i,s);break;case 3:_n(e,t,i,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Aa(e)));break;case 12:if(u&2048){_n(e,t,i,s),e=t.stateNode;try{var p=t.memoizedProps,x=p.id,A=p.onPostCommit;typeof A=="function"&&A(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){We(t,t.return,L)}}else _n(e,t,i,s);break;case 31:_n(e,t,i,s);break;case 13:_n(e,t,i,s);break;case 23:break;case 22:p=t.stateNode,x=t.alternate,t.memoizedState!==null?p._visibility&2?_n(e,t,i,s):Oa(e,t):p._visibility&2?_n(e,t,i,s):(p._visibility|=2,Xi(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&hu(x,t);break;case 24:_n(e,t,i,s),u&2048&&yu(t.alternate,t);break;default:_n(e,t,i,s)}}function Xi(e,t,i,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,x=t,A=i,L=s,q=x.flags;switch(x.tag){case 0:case 11:case 15:Xi(p,x,A,L,u),Ua(8,x);break;case 23:break;case 22:var ee=x.stateNode;x.memoizedState!==null?ee._visibility&2?Xi(p,x,A,L,u):Oa(p,x):(ee._visibility|=2,Xi(p,x,A,L,u)),u&&q&2048&&hu(x.alternate,x);break;case 24:Xi(p,x,A,L,u),u&&q&2048&&yu(x.alternate,x);break;default:Xi(p,x,A,L,u)}t=t.sibling}}function Oa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,u=s.flags;switch(s.tag){case 22:Oa(i,s),u&2048&&hu(s.alternate,s);break;case 24:Oa(i,s),u&2048&&yu(s.alternate,s);break;default:Oa(i,s)}t=t.sibling}}var ja=8192;function $i(e,t,i){if(e.subtreeFlags&ja)for(e=e.child;e!==null;)ap(e,t,i),e=e.sibling}function ap(e,t,i){switch(e.tag){case 26:$i(e,t,i),e.flags&ja&&e.memoizedState!==null&&l0(i,Dn,e.memoizedState,e.memoizedProps);break;case 5:$i(e,t,i);break;case 3:case 4:var s=Dn;Dn=fs(e.stateNode.containerInfo),$i(e,t,i),Dn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ja,ja=16777216,$i(e,t,i),ja=s):$i(e,t,i));break;default:$i(e,t,i)}}function rp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function za(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];kt=s,lp(s,e)}rp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sp(e),e=e.sibling}function sp(e){switch(e.tag){case 0:case 11:case 15:za(e),e.flags&2048&&Lo(9,e,e.return);break;case 3:za(e);break;case 12:za(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wr(e)):za(e);break;default:za(e)}}function Wr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];kt=s,lp(s,e)}rp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Lo(8,t,t.return),Wr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Wr(t));break;default:Wr(t)}e=e.sibling}}function lp(e,t){for(;kt!==null;){var i=kt;switch(i.tag){case 0:case 11:case 15:Lo(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Aa(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,kt=s;else e:for(i=e;kt!==null;){s=kt;var u=s.sibling,p=s.return;if(Zf(s),s===i){kt=null;break e}if(u!==null){u.return=p,kt=u;break e}kt=p}}}var Ay={getCacheForType:function(e){var t=Ut(Ct),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Ut(Ct).controller.signal}},Sy=typeof WeakMap=="function"?WeakMap:Map,Je=0,it=null,ze=null,qe=0,Ze=0,un=null,Io=!1,Ki=!1,vu=!1,mo=0,vt=0,ko=0,bi=0,bu=0,cn=0,Ji=0,Ba=null,Zt=null,xu=!1,es=0,up=0,ts=1/0,ns=null,Vo=null,Dt=0,Uo=null,Qi=null,go=0,Tu=0,Cu=null,cp=null,Pa=0,Au=null;function dn(){return(Je&2)!==0&&qe!==0?qe&-qe:O.T!==null?Du():Te()}function dp(){if(cn===0)if((qe&536870912)===0||Ge){var e=ni;ni<<=1,(ni&3932160)===0&&(ni=262144),cn=e}else cn=536870912;return e=sn.current,e!==null&&(e.flags|=32),cn}function Wt(e,t,i){(e===it&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)&&(Zi(e,0),Ho(e,qe,cn,!1)),qt(e,i),((Je&2)===0||e!==it)&&(e===it&&((Je&2)===0&&(bi|=i),vt===4&&Ho(e,qe,cn,!1)),Gn(e))}function fp(e,t,i){if((Je&6)!==0)throw Error(r(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||lt(e,t),u=s?Ey(e,t):wu(e,t,!0),p=s;do{if(u===0){Ki&&!s&&Ho(e,t,0,!1);break}else{if(i=e.current.alternate,p&&!wy(i)){u=wu(e,t,!1),p=!1;continue}if(u===2){if(p=t,e.errorRecoveryDisabledLanes&p)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var A=e;u=Ba;var L=A.current.memoizedState.isDehydrated;if(L&&(Zi(A,x).flags|=256),x=wu(A,x,!1),x!==2){if(vu&&!L){A.errorRecoveryDisabledLanes|=p,bi|=p,u=4;break e}p=Zt,Zt=u,p!==null&&(Zt===null?Zt=p:Zt.push.apply(Zt,p))}u=x}if(p=!1,u!==2)continue}}if(u===1){Zi(e,0),Ho(e,t,0,!0);break}e:{switch(s=e,p=u,p){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ho(s,t,cn,!Io);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=es+300-_t(),10<u)){if(Ho(s,t,cn,!Io),mn(s,0,!0)!==0)break e;go=t,s.timeoutHandle=qp(pp.bind(null,s,i,Zt,ns,xu,t,cn,bi,Ji,Io,p,"Throttled",-0,0),u);break e}pp(s,i,Zt,ns,xu,t,cn,bi,Ji,Io,p,null,-0,0)}}break}while(!0);Gn(e)}function pp(e,t,i,s,u,p,x,A,L,q,ee,ne,F,X){if(e.timeoutHandle=-1,ne=t.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},ap(t,p,ne);var Ce=(p&62914560)===p?es-_t():(p&4194048)===p?up-_t():0;if(Ce=u0(ne,Ce),Ce!==null){go=p,e.cancelPendingCommit=Ce(Tp.bind(null,e,t,p,i,s,u,x,A,L,ee,ne,null,F,X)),Ho(e,p,x,!q);return}}Tp(e,t,p,i,s,u,x,A,L)}function wy(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var u=i[s],p=u.getSnapshot;u=u.value;try{if(!an(p(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ho(e,t,i,s){t&=~bu,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var p=31-Lt(u),x=1<<p;s[p]=-1,u&=~x}i!==0&&_(e,i,t)}function os(){return(Je&6)===0?(qa(0),!1):!0}function Su(){if(ze!==null){if(Ze===0)var e=ze.return;else e=ze,oo=ci=null,zl(e),Pi=null,wa=0,e=ze;for(;e!==null;)Ff(e.alternate,e),e=e.return;ze=null}}function Zi(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Gy(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),go=0,Su(),it=e,ze=i=to(e.current,null),qe=t,Ze=0,un=null,Io=!1,Ki=lt(e,t),vu=!1,Ji=cn=bu=bi=ko=vt=0,Zt=Ba=null,xu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-Lt(s),p=1<<u;t|=e[u],s&=~p}return mo=t,Sr(),i}function mp(e,t){Ve=null,O.H=Ia,t===Bi||t===Lr?(t=Dd(),Ze=3):t===Ml?(t=Dd(),Ze=4):Ze=t===nu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,un=t,ze===null&&(vt=1,Yr(e,vn(t,e.current)))}function gp(){var e=sn.current;return e===null?!0:(qe&4194048)===qe?Cn===null:(qe&62914560)===qe||(qe&536870912)!==0?e===Cn:!1}function hp(){var e=O.H;return O.H=Ia,e===null?Ia:e}function yp(){var e=O.A;return O.A=Ay,e}function is(){vt=4,Io||(qe&4194048)!==qe&&sn.current!==null||(Ki=!0),(ko&134217727)===0&&(bi&134217727)===0||it===null||Ho(it,qe,cn,!1)}function wu(e,t,i){var s=Je;Je|=2;var u=hp(),p=yp();(it!==e||qe!==t)&&(ns=null,Zi(e,t)),t=!1;var x=vt;e:do try{if(Ze!==0&&ze!==null){var A=ze,L=un;switch(Ze){case 8:Su(),x=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(t=!0);var q=Ze;if(Ze=0,un=null,Wi(e,A,L,q),i&&Ki){x=0;break e}break;default:q=Ze,Ze=0,un=null,Wi(e,A,L,q)}}Ny(),x=vt;break}catch(ee){mp(e,ee)}while(!0);return t&&e.shellSuspendCounter++,oo=ci=null,Je=s,O.H=u,O.A=p,ze===null&&(it=null,qe=0,Sr()),x}function Ny(){for(;ze!==null;)vp(ze)}function Ey(e,t){var i=Je;Je|=2;var s=hp(),u=yp();it!==e||qe!==t?(ns=null,ts=_t()+500,Zi(e,t)):Ki=lt(e,t);e:do try{if(Ze!==0&&ze!==null){t=ze;var p=un;t:switch(Ze){case 1:Ze=0,un=null,Wi(e,t,p,1);break;case 2:case 9:if(Ed(p)){Ze=0,un=null,bp(t);break}t=function(){Ze!==2&&Ze!==9||it!==e||(Ze=7),Gn(e)},p.then(t,t);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Ed(p)?(Ze=0,un=null,bp(t)):(Ze=0,un=null,Wi(e,t,p,7));break;case 5:var x=null;switch(ze.tag){case 26:x=ze.memoizedState;case 5:case 27:var A=ze;if(x?im(x):A.stateNode.complete){Ze=0,un=null;var L=A.sibling;if(L!==null)ze=L;else{var q=A.return;q!==null?(ze=q,as(q)):ze=null}break t}}Ze=0,un=null,Wi(e,t,p,5);break;case 6:Ze=0,un=null,Wi(e,t,p,6);break;case 8:Su(),vt=6;break e;default:throw Error(r(462))}}My();break}catch(ee){mp(e,ee)}while(!0);return oo=ci=null,O.H=s,O.A=u,Je=i,ze!==null?0:(it=null,qe=0,Sr(),vt)}function My(){for(;ze!==null&&!ve();)vp(ze)}function vp(e){var t=Pf(e.alternate,e,mo);e.memoizedProps=e.pendingProps,t===null?as(e):ze=t}function bp(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Uf(i,t,t.pendingProps,t.type,void 0,qe);break;case 11:t=Uf(i,t,t.pendingProps,t.type.render,t.ref,qe);break;case 5:zl(t);default:Ff(i,t),t=ze=hd(t,mo),t=Pf(i,t,mo)}e.memoizedProps=e.pendingProps,t===null?as(e):ze=t}function Wi(e,t,i,s){oo=ci=null,zl(t),Pi=null,wa=0;var u=t.return;try{if(hy(e,u,t,i,qe)){vt=1,Yr(e,vn(i,e.current)),ze=null;return}}catch(p){if(u!==null)throw ze=u,p;vt=1,Yr(e,vn(i,e.current)),ze=null;return}t.flags&32768?(Ge||s===1?e=!0:Ki||(qe&536870912)!==0?e=!1:(Io=e=!0,(s===2||s===9||s===3||s===6)&&(s=sn.current,s!==null&&s.tag===13&&(s.flags|=16384))),xp(t,e)):as(t)}function as(e){var t=e;do{if((t.flags&32768)!==0){xp(t,Io);return}e=t.return;var i=by(t.alternate,t,mo);if(i!==null){ze=i;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);vt===0&&(vt=5)}function xp(e,t){do{var i=xy(e.alternate,e);if(i!==null){i.flags&=32767,ze=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=i}while(e!==null);vt=6,ze=null}function Tp(e,t,i,s,u,p,x,A,L){e.cancelPendingCommit=null;do rs();while(Dt!==0);if((Je&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(p=t.lanes|t.childLanes,p|=pl,Ft(e,i,p,x,A,L),e===it&&(ze=it=null,qe=0),Qi=t,Uo=e,go=i,Tu=p,Cu=u,cp=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ly(In,function(){return Np(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null,u=re.p,re.p=2,x=Je,Je|=4;try{Ty(e,t,i)}finally{Je=x,re.p=u,O.T=s}}Dt=1,Cp(),Ap(),Sp()}}function Cp(){if(Dt===1){Dt=0;var e=Uo,t=Qi,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var s=re.p;re.p=2;var u=Je;Je|=4;try{np(t,e);var p=Hu,x=sd(e.containerInfo),A=p.focusedElem,L=p.selectionRange;if(x!==A&&A&&A.ownerDocument&&rd(A.ownerDocument.documentElement,A)){if(L!==null&&ll(A)){var q=L.start,ee=L.end;if(ee===void 0&&(ee=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(ee,A.value.length);else{var ne=A.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var X=F.getSelection(),Ce=A.textContent.length,_e=Math.min(L.start,Ce),nt=L.end===void 0?_e:Math.min(L.end,Ce);!X.extend&&_e>nt&&(x=nt,nt=_e,_e=x);var j=ad(A,_e),U=ad(A,nt);if(j&&U&&(X.rangeCount!==1||X.anchorNode!==j.node||X.anchorOffset!==j.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var P=ne.createRange();P.setStart(j.node,j.offset),X.removeAllRanges(),_e>nt?(X.addRange(P),X.extend(U.node,U.offset)):(P.setEnd(U.node,U.offset),X.addRange(P))}}}}for(ne=[],X=A;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var te=ne[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}vs=!!Uu,Hu=Uu=null}finally{Je=u,re.p=s,O.T=i}}e.current=t,Dt=2}}function Ap(){if(Dt===2){Dt=0;var e=Uo,t=Qi,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var s=re.p;re.p=2;var u=Je;Je|=4;try{Qf(e,t.alternate,t)}finally{Je=u,re.p=s,O.T=i}}Dt=3}}function Sp(){if(Dt===4||Dt===3){Dt=0,ti();var e=Uo,t=Qi,i=go,s=cp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Dt=5:(Dt=0,Qi=Uo=null,wp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Vo=null),$(i),t=t.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Et,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=O.T,u=re.p,re.p=2,O.T=null;try{for(var p=e.onRecoverableError,x=0;x<s.length;x++){var A=s[x];p(A.value,{componentStack:A.stack})}}finally{O.T=t,re.p=u}}(go&3)!==0&&rs(),Gn(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===Au?Pa++:(Pa=0,Au=e):Pa=0,qa(0)}}function wp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Aa(t)))}function rs(){return Cp(),Ap(),Sp(),Np()}function Np(){if(Dt!==5)return!1;var e=Uo,t=Tu;Tu=0;var i=$(go),s=O.T,u=re.p;try{re.p=32>i?32:i,O.T=null,i=Cu,Cu=null;var p=Uo,x=go;if(Dt=0,Qi=Uo=null,go=0,(Je&6)!==0)throw Error(r(331));var A=Je;if(Je|=4,sp(p.current),ip(p,p.current,x,i),Je=A,qa(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Et,p)}catch{}return!0}finally{re.p=u,O.T=s,wp(e,t)}}function Ep(e,t,i){t=vn(i,t),t=tu(e.stateNode,t,2),e=Do(e,t,2),e!==null&&(qt(e,2),Gn(e))}function We(e,t,i){if(e.tag===3)Ep(e,e,i);else for(;t!==null;){if(t.tag===3){Ep(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Vo===null||!Vo.has(s))){e=vn(i,e),i=Mf(2),s=Do(t,i,2),s!==null&&(Df(i,s,t,e),qt(s,2),Gn(s));break}}t=t.return}}function Nu(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new Sy;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(i)||(vu=!0,u.add(i),e=Dy.bind(null,e,t,i),t.then(e,e))}function Dy(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,it===e&&(qe&i)===i&&(vt===4||vt===3&&(qe&62914560)===qe&&300>_t()-es?(Je&2)===0&&Zi(e,0):bu|=i,Ji===qe&&(Ji=0)),Gn(e)}function Mp(e,t){t===0&&(t=Jn()),e=si(e,t),e!==null&&(qt(e,t),Gn(e))}function _y(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Mp(e,i)}function Ry(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Mp(e,i)}function Ly(e,t){return Nn(e,t)}var ss=null,ea=null,Eu=!1,ls=!1,Mu=!1,Oo=0;function Gn(e){e!==ea&&e.next===null&&(ea===null?ss=ea=e:ea=ea.next=e),ls=!0,Eu||(Eu=!0,ky())}function qa(e,t){if(!Mu&&ls){Mu=!0;do for(var i=!1,s=ss;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var p=0;else{var x=s.suspendedLanes,A=s.pingedLanes;p=(1<<31-Lt(42|e)+1)-1,p&=u&~(x&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,Lp(s,p))}else p=qe,p=mn(s,s===it?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||lt(s,p)||(i=!0,Lp(s,p));s=s.next}while(i);Mu=!1}}function Iy(){Dp()}function Dp(){ls=Eu=!1;var e=0;Oo!==0&&Fy()&&(e=Oo);for(var t=_t(),i=null,s=ss;s!==null;){var u=s.next,p=_p(s,t);p===0?(s.next=null,i===null?ss=u:i.next=u,u===null&&(ea=i)):(i=s,(e!==0||(p&3)!==0)&&(ls=!0)),s=u}Dt!==0&&Dt!==5||qa(e),Oo!==0&&(Oo=0)}function _p(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var x=31-Lt(p),A=1<<x,L=u[x];L===-1?((A&i)===0||(A&s)!==0)&&(u[x]=Kn(A,t)):L<=t&&(e.expiredLanes|=A),p&=~A}if(t=it,i=qe,i=mn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&De(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||lt(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&De(s),$(i)){case 2:case 8:i=$n;break;case 32:i=In;break;case 268435456:i=jt;break;default:i=In}return s=Rp.bind(null,e),i=Nn(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&De(s),e.callbackPriority=2,e.callbackNode=null,2}function Rp(e,t){if(Dt!==0&&Dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(rs()&&e.callbackNode!==i)return null;var s=qe;return s=mn(e,e===it?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(fp(e,s,t),_p(e,_t()),e.callbackNode!=null&&e.callbackNode===i?Rp.bind(null,e):null)}function Lp(e,t){if(rs())return null;fp(e,t,!0)}function ky(){Yy(function(){(Je&6)!==0?Nn(on,Iy):Dp()})}function Du(){if(Oo===0){var e=ji;e===0&&(e=On,On<<=1,(On&261888)===0&&(On=256)),Oo=e}return Oo}function Ip(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hr(""+e)}function kp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Vy(e,t,i,s,u){if(t==="submit"&&i&&i.stateNode===u){var p=Ip((u[Ue]||null).action),x=s.submitter;x&&(t=(t=x[Ue]||null)?Ip(t.formAction):x.getAttribute("formAction"),t!==null&&(p=t,x=null));var A=new xr("action","action",null,s,u);e.push({event:A,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Oo!==0){var L=x?kp(u,x):new FormData(u);Kl(i,{pending:!0,data:L,method:u.method,action:p},null,L)}}else typeof p=="function"&&(A.preventDefault(),L=x?kp(u,x):new FormData(u),Kl(i,{pending:!0,data:L,method:u.method,action:p},p,L))},currentTarget:u}]})}}for(var _u=0;_u<fl.length;_u++){var Ru=fl[_u],Uy=Ru.toLowerCase(),Hy=Ru[0].toUpperCase()+Ru.slice(1);Mn(Uy,"on"+Hy)}Mn(cd,"onAnimationEnd"),Mn(dd,"onAnimationIteration"),Mn(fd,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Wh,"onTransitionRun"),Mn(ey,"onTransitionStart"),Mn(ty,"onTransitionCancel"),Mn(pd,"onTransitionEnd"),Ae("onMouseEnter",["mouseout","mouseover"]),Ae("onMouseLeave",["mouseout","mouseover"]),Ae("onPointerEnter",["pointerout","pointerover"]),Ae("onPointerLeave",["pointerout","pointerover"]),ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fa));function Vp(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],u=s.event;s=s.listeners;e:{var p=void 0;if(t)for(var x=s.length-1;0<=x;x--){var A=s[x],L=A.instance,q=A.currentTarget;if(A=A.listener,L!==p&&u.isPropagationStopped())break e;p=A,u.currentTarget=q;try{p(u)}catch(ee){Ar(ee)}u.currentTarget=null,p=L}else for(x=0;x<s.length;x++){if(A=s[x],L=A.instance,q=A.currentTarget,A=A.listener,L!==p&&u.isPropagationStopped())break e;p=A,u.currentTarget=q;try{p(u)}catch(ee){Ar(ee)}u.currentTarget=null,p=L}}}}function Be(e,t){var i=t[En];i===void 0&&(i=t[En]=new Set);var s=e+"__bubble";i.has(s)||(Up(t,e,2,!1),i.add(s))}function Lu(e,t,i){var s=0;t&&(s|=4),Up(i,e,s,t)}var us="_reactListening"+Math.random().toString(36).slice(2);function Iu(e){if(!e[us]){e[us]=!0,Q.forEach(function(i){i!=="selectionchange"&&(Oy.has(i)||Lu(i,!1,e),Lu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[us]||(t[us]=!0,Lu("selectionchange",!1,t))}}function Up(e,t,i,s){switch(dm(t)){case 2:var u=f0;break;case 8:u=p0;break;default:u=$u}i=u.bind(null,t,i,e),u=void 0,!Ws||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function ku(e,t,i,s,u){var p=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var x=s.tag;if(x===3||x===4){var A=s.stateNode.containerInfo;if(A===u)break;if(x===4)for(x=s.return;x!==null;){var L=x.tag;if((L===3||L===4)&&x.stateNode.containerInfo===u)return;x=x.return}for(;A!==null;){if(x=zn(A),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){s=p=x;continue e}A=A.parentNode}}s=s.return}zc(function(){var q=p,ee=Qs(i),ne=[];e:{var F=md.get(e);if(F!==void 0){var X=xr,Ce=e;switch(e){case"keypress":if(vr(i)===0)break e;case"keydown":case"keyup":X=Rh;break;case"focusin":Ce="focus",X=ol;break;case"focusout":Ce="blur",X=ol;break;case"beforeblur":case"afterblur":X=ol;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=kh;break;case cd:case dd:case fd:X=Ch;break;case pd:X=Uh;break;case"scroll":case"scrollend":X=yh;break;case"wheel":X=Oh;break;case"copy":case"cut":case"paste":X=Sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Gc;break;case"toggle":case"beforetoggle":X=zh}var _e=(t&4)!==0,nt=!_e&&(e==="scroll"||e==="scrollend"),j=_e?F!==null?F+"Capture":null:F;_e=[];for(var U=q,P;U!==null;){var te=U;if(P=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||P===null||j===null||(te=fa(U,j),te!=null&&_e.push(Ga(U,te,P))),nt)break;U=U.return}0<_e.length&&(F=new X(F,Ce,null,i,ee),ne.push({event:F,listeners:_e}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",F&&i!==Js&&(Ce=i.relatedTarget||i.fromElement)&&(zn(Ce)||Ce[jn]))break e;if((X||F)&&(F=ee.window===ee?ee:(F=ee.ownerDocument)?F.defaultView||F.parentWindow:window,X?(Ce=i.relatedTarget||i.toElement,X=q,Ce=Ce?zn(Ce):null,Ce!==null&&(nt=c(Ce),_e=Ce.tag,Ce!==nt||_e!==5&&_e!==27&&_e!==6)&&(Ce=null)):(X=null,Ce=q),X!==Ce)){if(_e=qc,te="onMouseLeave",j="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Gc,te="onPointerLeave",j="onPointerEnter",U="pointer"),nt=X==null?F:It(X),P=Ce==null?F:It(Ce),F=new _e(te,U+"leave",X,i,ee),F.target=nt,F.relatedTarget=P,te=null,zn(ee)===q&&(_e=new _e(j,U+"enter",Ce,i,ee),_e.target=P,_e.relatedTarget=nt,te=_e),nt=te,X&&Ce)t:{for(_e=jy,j=X,U=Ce,P=0,te=j;te;te=_e(te))P++;te=0;for(var Ee=U;Ee;Ee=_e(Ee))te++;for(;0<P-te;)j=_e(j),P--;for(;0<te-P;)U=_e(U),te--;for(;P--;){if(j===U||U!==null&&j===U.alternate){_e=j;break t}j=_e(j),U=_e(U)}_e=null}else _e=null;X!==null&&Hp(ne,F,X,_e,!1),Ce!==null&&nt!==null&&Hp(ne,nt,Ce,_e,!0)}}e:{if(F=q?It(q):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var $e=Wc;else if(Qc(F))if(ed)$e=Jh;else{$e=$h;var Ne=Xh}else X=F.nodeName,!X||X.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ks(q.elementType)&&($e=Wc):$e=Kh;if($e&&($e=$e(e,q))){Zc(ne,$e,i,ee);break e}Ne&&Ne(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&$s(F,"number",F.value)}switch(Ne=q?It(q):window,e){case"focusin":(Qc(Ne)||Ne.contentEditable==="true")&&(Ri=Ne,ul=q,xa=null);break;case"focusout":xa=ul=Ri=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,ld(ne,i,ee);break;case"selectionchange":if(Zh)break;case"keydown":case"keyup":ld(ne,i,ee)}var He;if(al)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else _i?Kc(e,i)&&(Fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Fe="onCompositionStart");Fe&&(Yc&&i.locale!=="ko"&&(_i||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&_i&&(He=Bc()):(Co=ee,el="value"in Co?Co.value:Co.textContent,_i=!0)),Ne=cs(q,Fe),0<Ne.length&&(Fe=new Fc(Fe,e,null,i,ee),ne.push({event:Fe,listeners:Ne}),He?Fe.data=He:(He=Jc(i),He!==null&&(Fe.data=He)))),(He=Ph?qh(e,i):Fh(e,i))&&(Fe=cs(q,"onBeforeInput"),0<Fe.length&&(Ne=new Fc("onBeforeInput","beforeinput",null,i,ee),ne.push({event:Ne,listeners:Fe}),Ne.data=He)),Vy(ne,e,q,i,ee)}Vp(ne,t)})}function Ga(e,t,i){return{instance:e,listener:t,currentTarget:i}}function cs(e,t){for(var i=t+"Capture",s=[];e!==null;){var u=e,p=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||p===null||(u=fa(e,i),u!=null&&s.unshift(Ga(e,u,p)),u=fa(e,t),u!=null&&s.push(Ga(e,u,p))),e.tag===3)return s;e=e.return}return[]}function jy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hp(e,t,i,s,u){for(var p=t._reactName,x=[];i!==null&&i!==s;){var A=i,L=A.alternate,q=A.stateNode;if(A=A.tag,L!==null&&L===s)break;A!==5&&A!==26&&A!==27||q===null||(L=q,u?(q=fa(i,p),q!=null&&x.unshift(Ga(i,q,L))):u||(q=fa(i,p),q!=null&&x.push(Ga(i,q,L)))),i=i.return}x.length!==0&&e.push({event:t,listeners:x})}var zy=/\r\n?/g,By=/\u0000|\uFFFD/g;function Op(e){return(typeof e=="string"?e:""+e).replace(zy,`
`).replace(By,"")}function jp(e,t){return t=Op(t),Op(e)===t}function tt(e,t,i,s,u,p){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ei(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ei(e,""+s);break;case"className":ye(e,"class",s);break;case"tabIndex":ye(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ye(e,i,s);break;case"style":Oc(e,s,p);break;case"data":if(t!=="object"){ye(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=hr(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(t!=="input"&&tt(e,t,"name",u.name,u,null),tt(e,t,"formEncType",u.formEncType,u,null),tt(e,t,"formMethod",u.formMethod,u,null),tt(e,t,"formTarget",u.formTarget,u,null)):(tt(e,t,"encType",u.encType,u,null),tt(e,t,"method",u.method,u,null),tt(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=hr(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Wn);break;case"onScroll":s!=null&&Be("scroll",e);break;case"onScrollEnd":s!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=hr(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":Be("beforetoggle",e),Be("toggle",e),je(e,"popover",s);break;case"xlinkActuate":Y(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Y(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Y(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Y(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Y(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Y(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Y(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Y(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Y(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":je(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=gh.get(i)||i,je(e,i,s))}}function Vu(e,t,i,s,u,p){switch(i){case"style":Oc(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Ei(e,s):(typeof s=="number"||typeof s=="bigint")&&Ei(e,""+s);break;case"onScroll":s!=null&&Be("scroll",e);break;case"onScrollEnd":s!=null&&Be("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!se.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),p=e[Ue]||null,p=p!=null?p[i]:null,typeof p=="function"&&e.removeEventListener(t,p,u),typeof s=="function")){typeof p!="function"&&p!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,u);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):je(e,i,s)}}}function Ot(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var s=!1,u=!1,p;for(p in i)if(i.hasOwnProperty(p)){var x=i[p];if(x!=null)switch(p){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:tt(e,t,p,x,i,null)}}u&&tt(e,t,"srcSet",i.srcSet,i,null),s&&tt(e,t,"src",i.src,i,null);return;case"input":Be("invalid",e);var A=p=x=u=null,L=null,q=null;for(s in i)if(i.hasOwnProperty(s)){var ee=i[s];if(ee!=null)switch(s){case"name":u=ee;break;case"type":x=ee;break;case"checked":L=ee;break;case"defaultChecked":q=ee;break;case"value":p=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,t));break;default:tt(e,t,s,ee,i,null)}}kc(e,p,A,L,q,x,u,!1);return;case"select":Be("invalid",e),s=x=p=null;for(u in i)if(i.hasOwnProperty(u)&&(A=i[u],A!=null))switch(u){case"value":p=A;break;case"defaultValue":x=A;break;case"multiple":s=A;default:tt(e,t,u,A,i,null)}t=p,i=x,e.multiple=!!s,t!=null?Ni(e,!!s,t,!1):i!=null&&Ni(e,!!s,i,!0);return;case"textarea":Be("invalid",e),p=u=s=null;for(x in i)if(i.hasOwnProperty(x)&&(A=i[x],A!=null))switch(x){case"value":s=A;break;case"defaultValue":u=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(e,t,x,A,i,null)}Uc(e,s,u,p);return;case"option":for(L in i)if(i.hasOwnProperty(L)&&(s=i[L],s!=null))switch(L){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:tt(e,t,L,s,i,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(s=0;s<Fa.length;s++)Be(Fa[s],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in i)if(i.hasOwnProperty(q)&&(s=i[q],s!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:tt(e,t,q,s,i,null)}return;default:if(Ks(t)){for(ee in i)i.hasOwnProperty(ee)&&(s=i[ee],s!==void 0&&Vu(e,t,ee,s,i,void 0));return}}for(A in i)i.hasOwnProperty(A)&&(s=i[A],s!=null&&tt(e,t,A,s,i,null))}function Py(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,p=null,x=null,A=null,L=null,q=null,ee=null;for(X in i){var ne=i[X];if(i.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":L=ne;default:s.hasOwnProperty(X)||tt(e,t,X,null,s,ne)}}for(var F in s){var X=s[F];if(ne=i[F],s.hasOwnProperty(F)&&(X!=null||ne!=null))switch(F){case"type":p=X;break;case"name":u=X;break;case"checked":q=X;break;case"defaultChecked":ee=X;break;case"value":x=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,t));break;default:X!==ne&&tt(e,t,F,X,s,ne)}}Xs(e,x,A,L,q,ee,p,u);return;case"select":X=x=A=F=null;for(p in i)if(L=i[p],i.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":X=L;default:s.hasOwnProperty(p)||tt(e,t,p,null,s,L)}for(u in s)if(p=s[u],L=i[u],s.hasOwnProperty(u)&&(p!=null||L!=null))switch(u){case"value":F=p;break;case"defaultValue":A=p;break;case"multiple":x=p;default:p!==L&&tt(e,t,u,p,s,L)}t=A,i=x,s=X,F!=null?Ni(e,!!i,F,!1):!!s!=!!i&&(t!=null?Ni(e,!!i,t,!0):Ni(e,!!i,i?[]:"",!1));return;case"textarea":X=F=null;for(A in i)if(u=i[A],i.hasOwnProperty(A)&&u!=null&&!s.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(e,t,A,null,s,u)}for(x in s)if(u=s[x],p=i[x],s.hasOwnProperty(x)&&(u!=null||p!=null))switch(x){case"value":F=u;break;case"defaultValue":X=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==p&&tt(e,t,x,u,s,p)}Vc(e,F,X);return;case"option":for(var Ce in i)if(F=i[Ce],i.hasOwnProperty(Ce)&&F!=null&&!s.hasOwnProperty(Ce))switch(Ce){case"selected":e.selected=!1;break;default:tt(e,t,Ce,null,s,F)}for(L in s)if(F=s[L],X=i[L],s.hasOwnProperty(L)&&F!==X&&(F!=null||X!=null))switch(L){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:tt(e,t,L,F,s,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in i)F=i[_e],i.hasOwnProperty(_e)&&F!=null&&!s.hasOwnProperty(_e)&&tt(e,t,_e,null,s,F);for(q in s)if(F=s[q],X=i[q],s.hasOwnProperty(q)&&F!==X&&(F!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,t));break;default:tt(e,t,q,F,s,X)}return;default:if(Ks(t)){for(var nt in i)F=i[nt],i.hasOwnProperty(nt)&&F!==void 0&&!s.hasOwnProperty(nt)&&Vu(e,t,nt,void 0,s,F);for(ee in s)F=s[ee],X=i[ee],!s.hasOwnProperty(ee)||F===X||F===void 0&&X===void 0||Vu(e,t,ee,F,s,X);return}}for(var j in i)F=i[j],i.hasOwnProperty(j)&&F!=null&&!s.hasOwnProperty(j)&&tt(e,t,j,null,s,F);for(ne in s)F=s[ne],X=i[ne],!s.hasOwnProperty(ne)||F===X||F==null&&X==null||tt(e,t,ne,F,s,X)}function zp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var u=i[s],p=u.transferSize,x=u.initiatorType,A=u.duration;if(p&&A&&zp(x)){for(x=0,A=u.responseEnd,s+=1;s<i.length;s++){var L=i[s],q=L.startTime;if(q>A)break;var ee=L.transferSize,ne=L.initiatorType;ee&&zp(ne)&&(L=L.responseEnd,x+=ee*(L<A?1:(A-q)/(L-q)))}if(--s,t+=8*(p+x)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uu=null,Hu=null;function ds(e){return e.nodeType===9?e:e.ownerDocument}function Bp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ju=null;function Fy(){var e=window.event;return e&&e.type==="popstate"?e===ju?!1:(ju=e,!0):(ju=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(e){return Fp.resolve(null).then(e).catch(Xy)}:qp;function Xy(e){setTimeout(function(){throw e})}function jo(e){return e==="head"}function Gp(e,t){var i=t,s=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(u),ia(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Ya(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ya(i);for(var p=i.firstChild;p;){var x=p.nextSibling,A=p.nodeName;p[Qn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=x}}else i==="body"&&Ya(e.ownerDocument.body);i=u}while(i);ia(t)}function Yp(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function zu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":zu(i),Zn(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function $y(e,t,i,s){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Qn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function Ky(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=An(e.nextSibling),e===null))return null;return e}function Xp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function Bu(e){return e.data==="$?"||e.data==="$~"}function Pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jy(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var qu=null;function $p(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return An(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Kp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Jp(e,t,i){switch(t=ds(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ya(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zn(e)}var Sn=new Map,Qp=new Set;function fs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ho=re.d;re.d={f:Qy,r:Zy,D:Wy,C:e0,L:t0,m:n0,X:i0,S:o0,M:a0};function Qy(){var e=ho.f(),t=os();return e||t}function Zy(e){var t=Bn(e);t!==null&&t.tag===5&&t.type==="form"?mf(t):ho.r(e)}var ta=typeof document>"u"?null:document;function Zp(e,t,i){var s=ta;if(s&&typeof t=="string"&&t){var u=hn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Qp.has(u)||(Qp.add(u),e={rel:e,crossOrigin:i,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),Ot(t,"link",e),ht(t),s.head.appendChild(t)))}}function Wy(e){ho.D(e),Zp("dns-prefetch",e,null)}function e0(e,t){ho.C(e,t),Zp("preconnect",e,t)}function t0(e,t,i){ho.L(e,t,i);var s=ta;if(s&&e&&t){var u='link[rel="preload"][as="'+hn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+hn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+hn(i.imageSizes)+'"]')):u+='[href="'+hn(e)+'"]';var p=u;switch(t){case"style":p=na(e);break;case"script":p=oa(e)}Sn.has(p)||(e=T({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Sn.set(p,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(Xa(p))||t==="script"&&s.querySelector($a(p))||(t=s.createElement("link"),Ot(t,"link",e),ht(t),s.head.appendChild(t)))}}function n0(e,t){ho.m(e,t);var i=ta;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+hn(s)+'"][href="'+hn(e)+'"]',p=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=oa(e)}if(!Sn.has(p)&&(e=T({rel:"modulepreload",href:e},t),Sn.set(p,e),i.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector($a(p)))return}s=i.createElement("link"),Ot(s,"link",e),ht(s),i.head.appendChild(s)}}}function o0(e,t,i){ho.S(e,t,i);var s=ta;if(s&&e){var u=Mt(s).hoistableStyles,p=na(e);t=t||"default";var x=u.get(p);if(!x){var A={loading:0,preload:null};if(x=s.querySelector(Xa(p)))A.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Sn.get(p))&&Fu(e,i);var L=x=s.createElement("link");ht(L),Ot(L,"link",e),L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ps(x,t,s)}x={type:"stylesheet",instance:x,count:1,state:A},u.set(p,x)}}}function i0(e,t){ho.X(e,t);var i=ta;if(i&&e){var s=Mt(i).hoistableScripts,u=oa(e),p=s.get(u);p||(p=i.querySelector($a(u)),p||(e=T({src:e,async:!0},t),(t=Sn.get(u))&&Gu(e,t),p=i.createElement("script"),ht(p),Ot(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(u,p))}}function a0(e,t){ho.M(e,t);var i=ta;if(i&&e){var s=Mt(i).hoistableScripts,u=oa(e),p=s.get(u);p||(p=i.querySelector($a(u)),p||(e=T({src:e,async:!0,type:"module"},t),(t=Sn.get(u))&&Gu(e,t),p=i.createElement("script"),ht(p),Ot(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(u,p))}}function Wp(e,t,i,s){var u=(u=oe.current)?fs(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=na(i.href),i=Mt(u).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=na(i.href);var p=Mt(u).hoistableStyles,x=p.get(e);if(x||(u=u.ownerDocument||u,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,x),(p=u.querySelector(Xa(e)))&&!p._p&&(x.instance=p,x.state.loading=5),Sn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Sn.set(e,i),p||r0(u,e,i,x.state))),t&&s===null)throw Error(r(528,""));return x}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oa(i),i=Mt(u).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function na(e){return'href="'+hn(e)+'"'}function Xa(e){return'link[rel="stylesheet"]['+e+"]"}function em(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function r0(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ot(t,"link",i),ht(t),e.head.appendChild(t))}function oa(e){return'[src="'+hn(e)+'"]'}function $a(e){return"script[async]"+e}function tm(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+hn(i.href)+'"]');if(s)return t.instance=s,ht(s),s;var u=T({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ht(s),Ot(s,"style",u),ps(s,i.precedence,e),t.instance=s;case"stylesheet":u=na(i.href);var p=e.querySelector(Xa(u));if(p)return t.state.loading|=4,t.instance=p,ht(p),p;s=em(i),(u=Sn.get(u))&&Fu(s,u),p=(e.ownerDocument||e).createElement("link"),ht(p);var x=p;return x._p=new Promise(function(A,L){x.onload=A,x.onerror=L}),Ot(p,"link",s),t.state.loading|=4,ps(p,i.precedence,e),t.instance=p;case"script":return p=oa(i.src),(u=e.querySelector($a(p)))?(t.instance=u,ht(u),u):(s=i,(u=Sn.get(p))&&(s=T({},i),Gu(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),ht(u),Ot(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,ps(s,i.precedence,e));return t.instance}function ps(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,p=u,x=0;x<s.length;x++){var A=s[x];if(A.dataset.precedence===t)p=A;else if(p!==u)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Gu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ms=null;function nm(e,t,i){if(ms===null){var s=new Map,u=ms=new Map;u.set(i,s)}else u=ms,s=u.get(i),s||(s=new Map,u.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var p=i[u];if(!(p[Qn]||p[ot]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(t)||"";x=e+x;var A=s.get(x);A?A.push(p):s.set(x,[p])}}return s}function om(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function s0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function im(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function l0(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=na(s.href),p=t.querySelector(Xa(u));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=gs.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=p,ht(p);return}p=t.ownerDocument||t,s=em(s),(u=Sn.get(u))&&Fu(s,u),p=p.createElement("link"),ht(p);var x=p;x._p=new Promise(function(A,L){x.onload=A,x.onerror=L}),Ot(p,"link",s),i.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=gs.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Yu=0;function u0(e,t){return e.stylesheets&&e.count===0&&ys(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&ys(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&Yu===0&&(Yu=62500*qy());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ys(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Yu?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function gs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ys(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hs=null;function ys(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hs=new Map,t.forEach(c0,e),hs=null,gs.call(e))}function c0(e,t){if(!(t.state.loading&4)){var i=hs.get(e);if(i)var s=i.get(null);else{i=new Map,hs.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<u.length;p++){var x=u[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(i.set(x.dataset.precedence,x),s=x)}s&&i.set(null,s)}u=t.instance,x=u.getAttribute("data-precedence"),p=i.get(x)||s,p===s&&i.set(null,u),i.set(x,u),this.count++,s=gs.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),p?p.parentNode.insertBefore(u,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ka={$$typeof:G,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function d0(e,t,i,s,u,p,x,A,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gn(0),this.hiddenUpdates=gn(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function am(e,t,i,s,u,p,x,A,L,q,ee,ne){return e=new d0(e,t,i,x,L,q,ee,ne,A),t=1,p===!0&&(t|=24),p=rn(3,null,null,t),e.current=p,p.stateNode=e,t=wl(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:s,isDehydrated:i,cache:t},Dl(p),e}function rm(e){return e?(e=ki,e):ki}function sm(e,t,i,s,u,p){u=rm(u),s.context===null?s.context=u:s.pendingContext=u,s=Mo(t),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Do(e,s,t),i!==null&&(Wt(i,e,t),Ea(i,e,t))}function lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Xu(e,t){lm(e,t),(e=e.alternate)&&lm(e,t)}function um(e){if(e.tag===13||e.tag===31){var t=si(e,67108864);t!==null&&Wt(t,e,67108864),Xu(e,67108864)}}function cm(e){if(e.tag===13||e.tag===31){var t=dn();t=ae(t);var i=si(e,t);i!==null&&Wt(i,e,t),Xu(e,t)}}var vs=!0;function f0(e,t,i,s){var u=O.T;O.T=null;var p=re.p;try{re.p=2,$u(e,t,i,s)}finally{re.p=p,O.T=u}}function p0(e,t,i,s){var u=O.T;O.T=null;var p=re.p;try{re.p=8,$u(e,t,i,s)}finally{re.p=p,O.T=u}}function $u(e,t,i,s){if(vs){var u=Ku(s);if(u===null)ku(e,t,s,bs,i),fm(e,s);else if(g0(u,e,t,i,s))s.stopPropagation();else if(fm(e,s),t&4&&-1<m0.indexOf(e)){for(;u!==null;){var p=Bn(u);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=st(p.pendingLanes);if(x!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;x;){var L=1<<31-Lt(x);A.entanglements[1]|=L,x&=~L}Gn(p),(Je&6)===0&&(ts=_t()+500,qa(0))}}break;case 31:case 13:A=si(p,2),A!==null&&Wt(A,p,2),os(),Xu(p,2)}if(p=Ku(s),p===null&&ku(e,t,s,bs,i),p===u)break;u=p}u!==null&&s.stopPropagation()}else ku(e,t,s,null,i)}}function Ku(e){return e=Qs(e),Ju(e)}var bs=null;function Ju(e){if(bs=null,e=zn(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=m(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bs=e,null}function dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case on:return 2;case $n:return 8;case In:case kn:return 32;case jt:return 268435456;default:return 32}default:return 32}}var Qu=!1,zo=null,Bo=null,Po=null,Ja=new Map,Qa=new Map,qo=[],m0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fm(e,t){switch(e){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":Ja.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(t.pointerId)}}function Za(e,t,i,s,u,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:p,targetContainers:[u]},t!==null&&(t=Bn(t),t!==null&&um(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function g0(e,t,i,s,u){switch(t){case"focusin":return zo=Za(zo,e,t,i,s,u),!0;case"dragenter":return Bo=Za(Bo,e,t,i,s,u),!0;case"mouseover":return Po=Za(Po,e,t,i,s,u),!0;case"pointerover":var p=u.pointerId;return Ja.set(p,Za(Ja.get(p)||null,e,t,i,s,u)),!0;case"gotpointercapture":return p=u.pointerId,Qa.set(p,Za(Qa.get(p)||null,e,t,i,s,u)),!0}return!1}function pm(e){var t=zn(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=m(i),t!==null){e.blockedOn=t,gt(e.priority,function(){cm(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,gt(e.priority,function(){cm(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Ku(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Js=s,i.target.dispatchEvent(s),Js=null}else return t=Bn(i),t!==null&&um(t),e.blockedOn=i,!1;t.shift()}return!0}function mm(e,t,i){xs(e)&&i.delete(t)}function h0(){Qu=!1,zo!==null&&xs(zo)&&(zo=null),Bo!==null&&xs(Bo)&&(Bo=null),Po!==null&&xs(Po)&&(Po=null),Ja.forEach(mm),Qa.forEach(mm)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Qu||(Qu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,h0)))}var Cs=null;function gm(e){Cs!==e&&(Cs=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Cs===e&&(Cs=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(Ju(s||i)===null)continue;break}var p=Bn(i);p!==null&&(e.splice(t,3),t-=3,Kl(p,{pending:!0,data:u,method:i.method,action:s},s,u))}}))}function ia(e){function t(L){return Ts(L,e)}zo!==null&&Ts(zo,e),Bo!==null&&Ts(Bo,e),Po!==null&&Ts(Po,e),Ja.forEach(t),Qa.forEach(t);for(var i=0;i<qo.length;i++){var s=qo[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<qo.length&&(i=qo[0],i.blockedOn===null);)pm(i),i.blockedOn===null&&qo.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var u=i[s],p=i[s+1],x=u[Ue]||null;if(typeof p=="function")x||gm(i);else if(x){var A=null;if(p&&p.hasAttribute("formAction")){if(u=p,x=p[Ue]||null)A=x.formAction;else if(Ju(u)!==null)continue}else A=x.action;typeof A=="function"?i[s+1]=A:(i.splice(s,3),s-=3),gm(i)}}}function hm(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return u=x})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Zu(e){this._internalRoot=e}As.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=dn();sm(i,s,e,t,null,null)},As.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sm(e.current,2,null,e,null,null),os(),t[jn]=null}};function As(e){this._internalRoot=e}As.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var i=0;i<qo.length&&t!==0&&t<qo[i].priority;i++);qo.splice(i,0,e),i===0&&pm(e)}};var ym=o.version;if(ym!=="19.2.0")throw Error(r(527,ym,"19.2.0"));re.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var y0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{Et=Ss.inject(y0),Rt=Ss}catch{}}return er.createRoot=function(e,t){if(!l(e))throw Error(r(299));var i=!1,s="",u=Sf,p=wf,x=Nf;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=am(e,1,!1,null,null,i,s,null,u,p,x,hm),e[jn]=t.current,Iu(e),new Zu(t)},er.hydrateRoot=function(e,t,i){if(!l(e))throw Error(r(299));var s=!1,u="",p=Sf,x=wf,A=Nf,L=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.formState!==void 0&&(L=i.formState)),t=am(e,1,!0,t,i??null,s,u,L,p,x,A,hm),t.context=rm(null),i=t.current,s=dn(),s=ae(s),u=Mo(s),u.callback=null,Do(i,u,s),i=s,t.current.lanes=i,qt(t,i),Gn(t),e[jn]=t.current,Iu(e),new As(t)},er.version="19.2.0",er}var Em;function N0(){if(Em)return tc.exports;Em=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(o){console.error(o)}}return a(),tc.exports=w0(),tc.exports}var E0=N0();const M0=jg(E0),Bg=V.createContext({showTooltip:()=>{},hideTooltip:()=>{},tooltip:null,setIsDragging:()=>{}}),at=()=>V.useContext(Bg),D0=({children:a})=>{const[o,n]=V.useState(null),r=V.useRef(!1),l=V.useCallback(v=>{r.current=v,v&&n(null)},[]),c=V.useCallback((v,g)=>{if(r.current||!v||!g)return;const b=g.getBoundingClientRect();n({content:v,top:b.top,left:b.left})},[]),m=V.useCallback(()=>{n(null)},[]),h={showTooltip:c,hideTooltip:m,tooltip:o,setIsDragging:l};return y.jsx(Bg.Provider,{value:h,children:a})},ac="google-ai-api-key",Os=V.createContext({apiKey:null,setApiKey:()=>{}}),_0=({children:a})=>{const[o,n]=V.useState(null);V.useEffect(()=>{try{const l=localStorage.getItem(ac);l&&n(l)}catch(l){console.error("Failed to read API key from localStorage",l)}},[]);const r=l=>{try{l?localStorage.setItem(ac,l):localStorage.removeItem(ac),n(l)}catch(c){console.error("Failed to save API key to localStorage",c)}};return y.jsx(Os.Provider,{value:{apiKey:o,setApiKey:r},children:a})},R0=a=>{const[o,n]=V.useState([a]),[r,l]=V.useState(0),c=o[r],m=r>0,h=r<o.length-1,v=V.useCallback(C=>{const N=o[r],D=typeof C=="function"?C(N):C;if(JSON.stringify(D)===JSON.stringify(N))return;const w=o.slice(0,r+1);w.push(D),n(w),l(w.length-1)},[o,r]),g=V.useCallback(()=>{m&&l(C=>C-1)},[m]),b=V.useCallback(()=>{h&&l(C=>C+1)},[h]),T=V.useCallback((C=a)=>{n([C]),l(0)},[a]);return[c,v,g,b,m,h,T]},L0=({onNodeMove:a,onNodeResize:o})=>{const[n,r]=V.useState({x:0,y:0,zoom:1}),[l,c]=V.useState(null),[m,h]=V.useState(null),[v,g]=V.useState(null),b=V.useRef(null),[T,C]=V.useState({width:0,height:0}),[N,D]=V.useState(0),w=V.useRef(0),E=V.useRef(performance.now());V.useEffect(()=>{let B;const ce=ie=>{w.current++;const Z=ie-E.current;Z>=1e3&&(D(Math.round(w.current*1e3/Z)),w.current=0,E.current=ie),B=requestAnimationFrame(ce)};return B=requestAnimationFrame(ce),()=>cancelAnimationFrame(B)},[]),V.useEffect(()=>{const B=b.current;if(!B)return;const ce=new ResizeObserver(ie=>{for(let Z of ie)C({width:Z.contentRect.width,height:Z.contentRect.height})});return ce.observe(B),C({width:B.clientWidth,height:B.clientHeight}),()=>ce.disconnect()},[]);const I=V.useCallback((B,ce)=>{const ie=b.current?.getBoundingClientRect();return ie?{x:(B-ie.left-n.x)/n.zoom,y:(ce-ie.top-n.y)/n.zoom}:{x:0,y:0}},[n]),z=V.useCallback(B=>{h(B)},[]),G=V.useCallback(B=>{h(B)},[]),M=V.useCallback(()=>{m&&(a(m),h(null))},[m,a]),S=V.useCallback((B,ce,ie)=>{g({id:B,width:ce,height:ie})},[]),J=V.useCallback((B,ce,ie)=>{g({id:B,width:ce,height:ie})},[]),k=V.useCallback(()=>{v&&(o(v.id,v.width,v.height),g(null))},[v,o]);return{viewState:n,setViewState:r,cursorPosition:l,setCursorPosition:c,draggingNodesPosition:m,resizingNodeDimensions:v,canvasContainerRef:b,canvasDimensions:T,fps:N,screenToWorld:I,handleNodeMoveStart:z,handleNodeMove:G,handleNodeMoveEnd:M,handleNodeResizeStart:S,handleNodeResize:J,handleNodeResizeEnd:k}};function pr(){return crypto.randomUUID()}function $o(){return`node-${pr()}`}function la(){return`conn-${pr()}`}function dc(){return`arg-${pr()}`}function Pg(){return`var-${pr()}`}function yo(){const a=pr();return{id:`d_input_id-${a}`,name:`d_input_name-${a}`}}const I0=[{name:"entsel",category:"User Input",description:"Prompts the user to select a single object (entity) by specifying a point. Supported on Windows, Mac OS, and Web.",args:[{name:"msg",type:"string",description:"A prompt string to be displayed to users. If omitted, entsel prompts with the message, 'Select object.'",optional:!0}],returnType:"list|nil"},{name:"getangle",category:"User Input",description:"Pauses for user input of an angle, and returns that angle in radians.",args:[{name:"pt",type:"point",description:"A 2D base point in the current UCS.",optional:!0},{name:"msg",type:"string",description:"Optional. A prompt string to display to the user.",optional:!0}],returnType:"real"},{name:"getcname",category:"User Input",description:"Retrieves the localized or English name of an AutoCAD command.",args:[{name:"cname",type:"string",description:"The localized or underscored English command name; must be 64 characters or less in length.",optional:!0}],returnType:"point"},{name:"getcorner",category:"User Input",description:"Pauses for user input of a rectangle's second corner.",args:[{name:"pt",type:"point",description:"A point to be used as the base point.",optional:!1},{name:"msg",type:"string",description:"Message to be displayed to prompt the user.",optional:!0}],returnType:"list"},{name:"getdist",signature:"(getdist [pt] [msg])",category:"User Input",description:"Pauses for user input of a distance",args:[{name:"pt",type:"point",description:"A 2D or 3D point to be used as the base point in the current UCS. If pt is provided, the user is prompted for the second point.",optional:!0},{name:"msg",type:"string",description:"Message to be displayed to prompt the user. If no string is supplied, AutoCAD does not display a message.",optional:!0}],returnType:"real|nil"},{name:"getstring",category:"User Input",description:"Pauses for user to enter a string.",args:[{name:"cr",type:"boolean",description:"If supplied and not nil, this argument indicates that users can include blanks in their input string (and must terminate the string by pressing Enter). Otherwise, the input string is terminated by entering a space or pressing Enter.",optional:!0},{name:"msg",type:"string",description:"Message to be displayed to prompt the user.",optional:!0}],returnType:"string"},{name:"getint",category:"User Input",description:"Pauses for user to enter an integer.",args:[{name:"msg",type:"string",description:"Message to be displayed to prompt the user; if omitted, no message is displayed.",optional:!0}],returnType:"integer|nil"},{name:"getkword",category:"User Input",description:"Pauses for user input of a keyword, and returns that keyword.",args:[{name:"msg",type:"string",description:"Message to be displayed to prompt the user; if omitted, getkword does not display a prompting message.",optional:!0}],returnType:"string"},{name:"getorient",category:"User Input",description:"Pauses for user input of an angle, and returns that angle in radians.",args:[{name:"pt",type:"point",description:"A 2D base point in the current UCS.",optional:!0},{name:"msg",type:"string",description:"Message to be displayed to prompt the user.",optional:!0}],returnType:"real"},{name:"getpoint",signature:"(getpoint [pt] [msg])",category:"User Input",description:"Pauses for the user to specify a point. An optional base point and prompt message can be provided.",args:[{name:"pt",type:"point",description:"Optional. A 2D or 3D base point for rubber-banding.",optional:!0},{name:"msg",type:"string",description:"Optional. A prompt string to display to the user.",optional:!0}],returnType:"point",example:`
(defun c:test ()
  (setq pt (getpoint "\\nSpecify a point: "))
  (if pt
    (princ (strcat "\\nYou selected point: " (vl-princ-to-string pt)))
    (princ "\\nNo point selected.")
  )
  (princ)
)`},{name:"getreal",category:"User Input",description:"Pauses for user to enter a real number.",args:[{name:"msg",type:"string",description:"Message to be displayed to prompt the user.",optional:!0}],returnType:"real"},{name:"initget",signature:"(initget [bits] [keywords])",category:"User Input",description:"Establishes keywords for use by the next user-input function call.",args:[{name:"bits",type:"integer",description:"A bit-coded that allows or disallows certain types of user input. The bits can be added together in any combination to form a value between 0 and 255. If no bits argument is supplied, zero (no conditions) is assumed. The bit values are as follows:",optional:!0},{name:"keywords",type:"string",description:"Series of keywords.",optional:!0}],returnType:"nil",example:`(initget "Abc Def _Ghi Jkl")
(getkword "
Enter an option (Abc/Def): ")
`}],k0=[{name:"+",signature:"(+ number [number] ...)",category:"Arithmetic",description:"Returns the sum of all numbers. Add numbers to sum using the '+' button.",args:[],hasDynamicInputs:!0,dynamicInputType:"number",returnType:"number",example:`(+ 1 2 3) ; returns 6
(+ 10.5 2.0) ; returns 12.5`},{name:"-",category:"Arithmetic",description:"Subtracts the numbers starting from the second number from the first number and returns the difference. Use the '+' button to subtract numbers from the sum.",args:[],hasDynamicInputs:!0,dynamicInputType:"number",returnType:"number"},{name:"*",category:"Arithmetic",description:"Returns the product of all numbers. Use the '+' button to multiply numbers by the sum.",args:[],hasDynamicInputs:!0,dynamicInputType:"number",returnType:"number"},{name:"/",category:"Arithmetic",description:"Divides the first number by the product of the remaining numbers and returns the quotient. Use the '+' button to divide numbers.",args:[],hasDynamicInputs:!0,dynamicInputType:"number",returnType:"number"},{name:"1+",category:"Arithmetic",description:"Increments a number by 1.",args:[{name:"number",type:"number",description:"A numeric value."}],returnType:"number"},{name:"1-",category:"Arithmetic",description:"Decrements a number by 1.",args:[{name:"number",type:"number",description:"A numeric value."}],returnType:"number"},{name:"~",category:"Arithmetic",description:"Returns the bitwise NOT (1's complement) of an integer.",args:[{name:"int",type:"integer",description:"A positive or negative integer value."}],returnType:"integer"},{name:"abs",category:"Arithmetic",description:"Returns the absolute value of a number.",args:[{name:"number",type:"number",description:"A numeric value."}],returnType:"number"},{name:"atan",category:"Arithmetic",description:"Returns the arctangent of a number in radians.",args:[{name:"num1",type:"number",description:"A numeric value."},{name:"num2",type:"number",description:"A numeric value.",optional:!0}],returnType:"number"},{name:"cos",category:"Arithmetic",description:"Returns the cosine of an angle expressed in radians.",args:[{name:"ang",type:"number",description:"An angle, in radians."}],returnType:"real"},{name:"exp",category:"Arithmetic",description:"Returns the constant e (a real number) raised to a specified power (the natural antilog).",args:[{name:"ang",type:"number",description:"An angle, in radians."}],returnType:"real"},{name:"expt",category:"Arithmetic",description:"Returns a number raised to a specified power.",args:[{name:"number",type:"number",description:"Any number."},{name:"power",type:"number",description:"The power to raise number to..",optional:!0}],returnType:"number"},{name:"fix",category:"Arithmetic",description:"Returns the conversion of a real number into the nearest smaller integer.",args:[{name:"number",type:"number",description:"Any number."}],returnType:"integer"},{name:"float",category:"Arithmetic",description:"Returns the conversion of a number into a real number.",args:[{name:"number",type:"number",description:"Any number."}],returnType:"real"},{name:"gcd",category:"Arithmetic",description:"Returns the greatest common denominator of two integers.",args:[{name:"int1",type:"integer",description:"An integer; must be greater than 0."},{name:"int2",type:"integer",description:"An integer; must be greater than 0."}],returnType:"integer"},{name:"log",category:"Arithmetic",description:"Returns the natural log of a number as a real number.",args:[{name:"num",type:"number",description:"A positive number."}],returnType:"real"},{name:"logand",category:"Arithmetic",description:"Returns the result of the logical bitwise AND of a list of integers.",args:[],hasDynamicInputs:!0,dynamicInputType:"integer",returnType:"integer"},{name:"logior",category:"Arithmetic",description:"Returns the logical bitwise inclusive OR result of a list of integers. Use the '+' button to add OR integers.",args:[],hasDynamicInputs:!0,dynamicInputType:"integer",returnType:"integer"},{name:"lsh",category:"Arithmetic",description:"Returns the logical bitwise shift of an integer by a specified number of bits.",args:[{name:"int",type:"integer",description:"A numeric value."},{name:"numbits",type:"integer",description:"Number of bits to shift int."}],returnType:"integer"},{name:"max",category:"Arithmetic",description:"Returns the largest of the numbers given.",args:[],hasDynamicInputs:!0,dynamicInputType:"number",returnType:"number"},{name:"min",category:"Arithmetic",description:"Returns the smallest of the numbers given.",args:[],hasDynamicInputs:!0,dynamicInputType:"number",returnType:"number"},{name:"minusp",category:"Arithmetic",description:"Verifies that a number is negative.",args:[{name:"num",type:"number",description:"A numeric value."}],returnType:"boolean"},{name:"rem",category:"Arithmetic",description:"Divides the first number by the second, and returns the remainder.",args:[],hasDynamicInputs:!0,dynamicInputType:"number",returnType:"number"},{name:"sin",category:"Arithmetic",description:"Returns the sine of an angle as a real number expressed in radians.",args:[{name:"ang",type:"number",description:"An angle, in radians."}],returnType:"real"},{name:"sqrt",category:"Arithmetic",description:"Returns the square root of a number as a real number.",args:[{name:"num",type:"number",description:"A numeric value."}],returnType:"number"},{name:"zerop",category:"Arithmetic",description:"Verifies that a number evaluates to zero.",args:[{name:"number",type:"number",description:"A numeric value."}],returnType:"boolean"},{name:"polar",category:"Arithmetic",description:"Calculates a point at a specified angle and distance from a base point.",args:[{name:"point",type:"point",description:"Base point."},{name:"angle",type:"angle",description:"Angle in radians."},{name:"distance",type:"real",description:"Distance."}],returnType:"point"}],V0=[{name:"acad-pop-dbmod",category:"Acad",description:"Restores the value of the DBMOD system variable to the value that was most recently stored with acad-push-dbmod.",args:[],returnType:"boolean"},{name:"acad-push-dbmod",category:"Acad",description:"Stores the current value of the DBMOD system variable",args:[],returnType:"boolean"},{name:"acad_truecolorcli",category:"Acad",description:"Prompts for colors at the Command prompt.",args:[{name:"color",type:"list",description:"A dotted pair describing the default color, e.g., '(62 . 2)'."},{name:"allowbylayer",type:"boolean",description:"If T, enables entering ByLayer or ByBlock.",optional:!0},{name:"alternatePrompt",type:"string",description:"An optional prompt string.",optional:!0}],returnType:"list"},{name:"acad_truecolordlg",category:"Acad",description:"Displays the AutoCAD color selection dialog box with tabs for index color, true color, and color books. Returns a list of dotted pairs describing the color, or nil if canceled. (Windows/Mac OS only)",args:[{name:"color",type:"list",description:"A dotted pair for the default color, e.g., '(62 . 1)'."},{name:"allowbylayer",type:"boolean",description:"If nil, disables the ByLayer and ByBlock buttons.",optional:!0},{name:"currentlayercolor",type:"list",description:"Optional dotted pair that sets the ByLayer/ByBlock color.",optional:!0}],returnType:"list"},{name:"acdimenableupdate",category:"Acad",description:"Controls the automatic updating of associative dimensions",args:[{name:"flag",type:"boolean",description:"Controls the automatic updating of associative dimensions when geometry is modified."}],returnType:"nil"}],U0=[{name:"acad_strlsort",category:"Acad",description:"Sorts a list of strings in alphabetical order",args:[],hasDynamicInputs:!0,dynamicInputType:"string",returnType:"list"},{name:"append",category:"List Manipulation",description:"Takes any number of lists and appends them together as one list. If no arguments are supplied, returns nil.",args:[],hasDynamicInputs:!0,dynamicInputType:"list",returnType:"list"},{name:"assoc",category:"List Manipulation",description:"Searches an association list for an element and returns that association list entry",args:[{name:"element",type:"integer|real|string",description:"Key of an element in an association list."},{name:"alist",type:"list",description:"An association list to be searched."}],returnType:"list|nil"},{name:"caddr",category:"List Manipulation",description:"Returns the third element of a list. Remarks: In AutoLISP, caddr is frequently used to obtain the Z coordinate of a 3D point (the third element of a list of three reals).",args:[{name:"list",type:"list",description:"A list with three or more elements."}],returnType:"any"},{name:"cadr",category:"List Manipulation",description:"Returns the second element of a list.",args:[{name:"list",type:"list",description:"A list with two or more elements."}],returnType:"any"},{name:"car",signature:"(car list)",category:"List Manipulation",description:"Returns the first element of a list.",args:[{name:"list",type:"list",description:"The list to process."}],returnType:"any"},{name:"cdr",category:"List Manipulation",description:"Returns a list containing all but the first element of a list.",args:[{name:"list",type:"list",description:"The list to process."}],returnType:"any"},{name:"chr",category:"List Manipulation",description:"Converts an integer representing a character code into a single-character string.",args:[{name:"int",type:"integer",description:"A numeric value in the range of 1-65536."}],returnType:"string"},{name:"cons",category:"List Manipulation",description:"Adds an element to the beginning of a list, or constructs a dotted list.",args:[{name:"new-first-element",type:"any",description:"Element to be added to the beginning of a list. This element can be an atom or a list."},{name:"list-or-atom",type:"any",description:"A list or an atom."}],returnType:"list"},{name:"foreach",category:"List Manipulation",description:"Evaluates expressions for all members of a list",args:[{name:"name ",type:"symbol",description:"Variable that each element in the list will be assigned to."},{name:"list",type:"list",description:"List to be stepped through and evaluated."},{name:"expr",type:"list",description:"Expression to be evaluated for each element in list.",optional:!0}],hasDynamicInputs:!0,returnType:"list"},{name:"last",category:"List Manipulation",description:"Returns the last element in a list",args:[{name:"lst",type:"list",description:"A list of one or more elements."}],returnType:"any"},{name:"length",category:"List Manipulation",description:"Returns an integer indicating the number of elements in a list",args:[{name:"lst",type:"list",description:"An empty list or a list with one or more elements."}],returnType:"integer"},{name:"list",category:"List Manipulation",description:"Creates a list from supplied expressions. Add items to the list using the '+' button.",args:[],hasDynamicInputs:!0,returnType:"any"},{name:"listp",category:"List Manipulation",description:"Verifies that an item is a list",args:[{name:"item",type:"any",description:"Any atom, list, or expression."}],returnType:"boolean"},{name:"mapcar",category:"List Manipulation",description:"Returns a list that is the result of executing a function with a list (or lists) supplied as arguments to the function",args:[{name:"function",type:"subroutine",description:"A function."}],hasDynamicInputs:!0,dynamicInputType:"list",returnType:"list"},{name:"member",category:"List Manipulation",description:"Searches a list for an occurrence of an expression and returns the remainder of the list, starting with the first occurrence of the expression",args:[{name:"expr",type:"any",description:"The expression to be searched for."},{name:"lst",type:"list",description:"The list in which to search for expr."}],returnType:"list|nil"},{name:"nth",category:"List Manipulation",description:"Returns the nth element of a list",args:[{name:"n",type:"integer",description:"The number of the element to return from the list (zero is the first element)."},{name:"lst",type:"list",description:"The list with one or more elements."}],hasDynamicInputs:!0,returnType:"any"},{name:"reverse",category:"List Manipulation",description:"Returns a copy of a list with its elements reversed",args:[{name:"lst",type:"list",description:"A list of the items to reverse."}],returnType:"list"},{name:"subst",category:"List Manipulation",description:"Searches a list for an old item and returns a copy of the list with a new item substituted in place of every occurrence of the old item",args:[{name:"newitem",type:"any",description:"An atom or list."},{name:"olditem",type:"any",description:"An atom or list."},{name:"lst",type:"list",description:"A list."}],returnType:"list"}],H0=[{name:"acet-layerp-mark",category:"Acet",description:"Places beginning and ending marks for Layer Previous recording, grouping multiple layer commands into a single transaction for the LAYERP command. LAYERPMODE must be On. (Windows/Mac OS only)",args:[{name:"status",type:"boolean",description:"T sets a begin mark; nil sets an end mark. Omit to get current status.",optional:!0}],returnType:"boolean"},{name:"acet-layerp-mode",category:"Acet",description:"Queries and sets the LAYERPMODE setting",args:[{name:"status",type:"boolean",description:"T - Turns LAYERPMODE on, enabling layer-change tracking. nil - Turns LAYERPMODE off. If this argument is not present, acet-layerp-mode returns the current status of LAYERPMODE.",optional:!0}],returnType:"boolean"},{name:"acet-laytrans",category:"Acet",description:"Translates drawing layers to standards defined in another drawing or standards file",args:[{name:"filename",type:"string",description:"A string specifying a file containing layer mappings to be used for translation."},{name:"settings",type:"integer",description:"A bit-coded integer specifying Layer Translator processing options. The bits can be added together in any combination to form a value between 0 and 15. If the settings argument is omitted, a value of 15 (all options selected) is assumed.",optional:!0}],returnType:"boolean"},{name:"acet-ms-to-ps",category:"Acet",description:"Converts a real value from model space units to paper space units",args:[{name:"value",type:"real",description:"Value to be converted.",optional:!0},{name:"viewport",type:"ename",description:"A viewport entity name.",optional:!0}],returnType:"real"},{name:"acet-ps-to-ms",category:"Acet",description:"Converts a real value from paper space units to model space units",args:[{name:"value",type:"real",description:"Value to be converted.",optional:!0},{name:"viewport",type:"ename",description:"A viewport entity name.",optional:!0}],returnType:"real"}],O0=[{name:"arx",category:"Application",description:"Returns a list of the currently loaded ObjectARX applications.",args:[],returnType:"list"},{name:"arxload",category:"Application",description:"Loads an ObjectARX application.",args:[{name:"application",type:"string",description:"A quoted string or a variable that contains the name of an executable file. You can omit the extension from the file name; .arx/.crx (Windows) or .bundle (Mac OS)."},{name:"onfailure",type:"string",description:"An expression to be executed if the load fails.",optional:!0}],returnType:"string"},{name:"arxunload",category:"Application",description:"Unloads an ObjectARX application",args:[{name:"application",type:"string",description:"A quoted string or a variable that contains the name of a file that was loaded with the arxload function. You can omit the extension from the file name; .arx/.crx (Windows) or .bundle (Mac OS)."},{name:"onfailure",type:"string",description:"An expression to be executed if the unload fails.",optional:!0}],returnType:"string"},{name:"autoarxload",category:"Application",description:"Predefines command names to load an associated ObjectARX file",args:[{name:"filename",type:"string",description:"ObjectARX file to be loaded when one of the commands defined by the cmdlist argument is entered at the Command prompt. You can omit the path from the filename, AutoCAD looks for the file in the support file search path. The extension from the filename can also be omitted; .arx (Windows) or .bundle (Mac OS)."},{name:"cmdlist",type:"list",description:"A list of strings.",optional:!0}],returnType:"nil"},{name:"autoload",category:"Application",description:"Predefines command names to load an associated AutoLISP file",args:[{name:"filename",type:"string",description:"AutoLISP file to be loaded when one of the commands defined by the cmdlist argument is entered at the Command prompt. You can omit the path from the filename, AutoCAD looks for the file in the support file search path. The extension from the filename can also be omitted; .lsp or .fas, or .vlx (Windows only)."},{name:"cmdlist",type:"list",description:"A list of strings.",optional:!0}],returnType:"nil"},{name:"initdia",category:"Application",description:"Forces the display of the next command's dialog box.",args:[{name:"dialogflag",type:"integer",description:"If non-zero (or omitted), forces the next command's dialog box. If zero, it clears the override.",optional:!0}],returnType:"nil"},{name:"load",category:"Application",description:"Evaluates the AutoLISP expressions in a file",args:[{name:"filename",type:"string",description:"Name of the AutoLISP file to load. If the filename argument does not specify a file extension, load adds an extension to the name when searching for a file to load. The function will try several extensions, if necessary, in the following order:.vlx,.fas,.lsp"},{name:"onfailure",type:"string",description:"A value returned if load fails.",optional:!0}],returnType:"string|subroutine|error"},{name:"showhtmlmodalwindow",category:"Application",description:"Displays a modal dialog box with a specified URI (Uniform Resource Identifier)",args:[{name:"uri",type:"string",description:"URI of the page to be loaded into the dialog box.The page that the URI references can utilize the AutoCAD JavaScript API."}],returnType:"nil"},{name:"startapp",category:"Application",description:"Starts an external application",args:[{name:"appcmd",type:"string",description:"Application to execute. If appcmd does not include a full path name, startapp searches the directories in the PATH environment variable on Windows for the application and the equivalent on Mac OS."},{name:"file",type:"string",description:"File name to be opened.",optional:!0}],returnType:"integer|nil"},{name:"vl-load-all",category:"Application",description:"Loads a file into all open AutoCAD documents, and into any document subsequently opened during the current AutoCAD session",args:[{name:"filename",type:"string",description:"File to be loaded. If the file is in the AutoCAD support file search path, you can omit the path name, but you must always specify the file extension; vl-load-all does not assume a file type."}],returnType:"nil|error"},{name:"vl-vbaload",category:"Application",description:"Supported Platforms: AutoCAD for Windows only; not available in AutoCAD LT for Windows, or on Mac OS and Web",args:[{name:"filename",type:"string",description:"Name of the VBA project file to be loaded."}],returnType:"string|error"},{name:"vl-vbarun",category:"Application",description:"Supported Platforms: AutoCAD for Windows only; not available in AutoCAD LT for Windows, or on Mac OS and Web",args:[{name:"macroname",type:"string",description:"Name of a macro in a loaded VBA project."}],returnType:"string|error"},{name:"vlax-add-cmd",category:"Application",description:"Adds commands to the AutoCAD built-in command set",args:[{name:"global-name",type:"string",description:"The global name for the command."},{name:"func-sym",type:"symbol",description:"A symbol naming an AutoLISP function with zero arguments."},{name:"local-name",type:"symbol",description:"A local name for the command (defaults to global-name)."},{name:"cmd-flags",type:"integer",description:"A numeric value (defaults to ACRX_CMD_MODAL + ACRX_CMD_REDRAW)"}],returnType:"string|nil"}],j0=[{name:"vl-bb-ref",category:"Communication",description:"Returns the value of a variable from the blackboard namespace",args:[{name:"variable",type:"symbol",description:"A symbol identifying the variable to be retrieved."}],returnType:"any"},{name:"vl-bb-set",category:"Communication",description:"Sets a variable in the blackboard namespace",args:[{name:"symbol",type:"symbol",description:"A symbol naming the variable to be set."},{name:"value",type:"any",description:"Any value, except a function."}],returnType:"any"},{name:"vl-load-all",category:"Communication",description:"Loads a file into all open AutoCAD documents, and into any document subsequently opened during the current AutoCAD session",args:[{name:"filename",type:"string",description:"File to be loaded. If the file is in the AutoCAD support file search path, you can omit the path name, but you must always specify the file extension; vl-load-all does not assume a file type."}],returnType:"nil|error"},{name:"vl-propagate",category:"Communication",description:"Copies the value of a variable into all open document namespaces (and sets its value in any subsequent drawings opened during the current AutoCAD session)",args:[{name:"symbol",type:"symbol",description:"A symbol naming an AutoLISP variable."}],returnType:"nil"}],z0=[{name:"if",category:"Condition",description:"Conditionally evaluates expressions. Returns the value of the selected expression. If elseexpr is missing and testexpr is nil, then it returns nil.",args:[{name:"testexpr",type:"any",description:"Expression to be tested."},{name:"thenexpr",type:"any",description:"Expression evaluated if testexpr is not nil."},{name:"elseexpr",type:"any",description:"Expression evaluated if testexpr is nil.",optional:!0}],returnType:"any"},{name:"=",category:"Condition",description:"Compares arguments for numerical equality. Add arguments to compare using the '+' button. Supported on Windows, Mac OS, and Web.",args:[{name:"numstr",type:"integer|real|string",description:"A number or string."}],hasDynamicInputs:!0,dynamicInputType:"integer|real|string",returnType:"boolean"},{name:"/=",category:"Condition",description:"Compares arguments for numerical inequality. Supported on Windows, Mac OS, and Web.",args:[{name:"numstr",type:"integer|real|string",description:"A number or string."}],hasDynamicInputs:!0,dynamicInputType:"integer|real|string",returnType:"boolean"},{name:"<",category:"Condition",description:"Returns T if each argument is numerically less than the argument to its right; otherwise nil",args:[{name:"numstr",type:"integer|real|string",description:"A number or string."}],hasDynamicInputs:!0,dynamicInputType:"integer|real|string",returnType:"boolean"},{name:"<=",category:"Condition",description:"Returns T if each argument is numerically less than or equal to the argument to its right; otherwise returns nil",args:[{name:"numstr",type:"integer|real|string",description:"A number or string."}],hasDynamicInputs:!0,dynamicInputType:"integer|real|string",returnType:"boolean"},{name:">",category:"Condition",description:"Returns T if each argument is numerically greater than the argument to its right; otherwise returns nil",args:[{name:"numstr",type:"integer|real|string",description:"A number or string."}],hasDynamicInputs:!0,dynamicInputType:"integer|real|string",returnType:"boolean"},{name:">=",category:"Condition",description:"Returns T if each argument is numerically greater than or equal to the argument to its right; otherwise returns nil",args:[{name:"numstr",type:"integer|real|string",description:"A number or string."}],hasDynamicInputs:!0,dynamicInputType:"integer|real|string",returnType:"boolean"},{name:"and",category:"Condition",description:"Returns the logical AND of the supplied arguments",args:[],hasDynamicInputs:!0,returnType:"boolean"},{name:"boole",category:"Condition",description:"Serves as a general bitwise Boolean function. Add additional integers to compare using the '+' button.",args:[{name:"operator",type:"integer",description:"An integer (0-15) for the Boolean operation."},{name:"int1",type:"integer",description:"The first integer for the operation."}],hasDynamicInputs:!0,dynamicInputType:"integer",returnType:"integer"},{name:"cond",category:"Condition",description:"Evaluates a series of test expressions. Returns the value of the result expression corresponding to the first true test. Add test-result pairs using the '+' button.",args:[],hasDynamicInputs:!0,hasPairedDynamicInputs:!0,returnType:"any"},{name:"eq",category:"Condition",description:"Determines whether two expressions are identical",args:[{name:"expr1",type:"any",description:"The expression to be compared."},{name:"expr2",type:"any",description:"The expression to compare with expr1."}],returnType:"boolean"},{name:"equal",category:"Condition",description:"Determines whether two expressions are equal",args:[{name:"expr1",type:"any",description:"The expression to be compared."},{name:"expr2",type:"any",description:"The expression to compare with expr1."},{name:"fuzz",type:"integer|real",description:"A real number defining the maximum amount by which expr1 and expr2 can differ and still be considered equal.",optional:!0}],returnType:"boolean"},{name:"or",category:"Condition",description:"Returns the logical OR of a list of expressions",args:[],hasDynamicInputs:!0,returnType:"boolean"},{name:"repeat",category:"Condition",description:"Evaluates each expression a specified number of times, and returns the value of the last expression",args:[{name:"int",type:"integer",description:"A numeric value. Must be a positive number."}],hasDynamicInputs:!0,dynamicInputType:"any",returnType:"any"},{name:"while",category:"Condition",description:"Evaluates a test expression, and if it is not nil, evaluates other expressions; repeats this process until the test expression evaluates to nil",args:[{name:"testexpr",type:"any",description:"The expression containing the test condition."}],hasDynamicInputs:!0,dynamicInputType:"any",returnType:"any"}],B0=[{name:"angtof",category:"Conversion",description:"Converts a string representing an angle into a real (floating-point) value in radians",args:[{name:"string",type:"string",description:"Formatted angular string that angtof can parse correctly to the specified unit. It can be in the same form that angtos returns, or in a form that AutoCAD allows for keyboard entry."},{name:"units",type:"integer",description:"Specifies the units in which the string is formatted. The value should correspond to values allowed for the AutoCAD AUNITS system variable. If unit is omitted, angtof uses the current value of AUNITS. The following units may be specified: 0 -- Degrees, 1 -- Degrees/minutes/seconds, 2 -- Grads, 3 -- Radians, 4 -- Surveyor's units",optional:!0}],returnType:"real"},{name:"angtos",category:"Conversion",description:"Converts an angular value in radians into a string. Supported on Windows, Mac OS, and Web.",args:[{name:"angle",type:"number",description:"A number, in radians."},{name:"unit",type:"integer",description:"An integer that specifies the angular units. If unit is omitted, angtos uses the current value of the AutoCAD AUNITS system variable. The following units may be specified: 0 -- Degrees, 1 -- Degrees/minutes/seconds, 2 -- Grads, 3 -- Radians, 4 -- Surveyor's units",optional:!0},{name:"precision",type:"integer",description:"Specifies the number of decimal places of precision to be returned. If omitted, angtos uses the current setting of the AutoCAD AUPREC system variable.",optional:!0}],returnType:"string|nil"},{name:"ascii",category:"Conversion",description:"Returns the conversion of the first character of a string into its character code (an integer)",args:[{name:"str",type:"string",description:"A single character or text string."}],returnType:"integer"},{name:"atof",category:"Conversion",description:"Converts a string into a real number",args:[{name:"str",type:"string",description:"A string to be converted into a real number."}],returnType:"real"},{name:"atoi",category:"Conversion",description:"Converts a string into an integer",args:[{name:"str",type:"string",description:"A string to be converted into an integer."}],returnType:"integer"},{name:"chr",category:"Conversion",description:"Converts an integer representing a character code into a single-character string",args:[{name:"int",type:"integer",description:"A numeric value in the range of 1-65536."}],returnType:"string"},{name:"cvunit",category:"Conversion",description:"Converts a value from one unit of measurement to another",args:[{name:"value",type:"integer|real|list",description:"The numeric value or point list (2D or 3D point) to be converted."},{name:"from-unit",type:"string",description:"The unit that value is being converted from."},{name:"to-unit",type:"string",description:"The unit that value is being converted to.",optional:!0}],returnType:"real|list|nil"},{name:"distof",category:"Conversion",description:"Converts a string that represents a real (floating-point) value into a real value",args:[{name:"str",type:"string",description:"A string to be converted. The argument must be a string that distof can parse correctly according to the units specified by mode. It can be in the same form that rtos returns, or in a form that AutoCAD allows for keyboard entry."},{name:"mode",type:"integer",description:"The units in which the string is currently formatted. The mode corresponds to the values allowed for the AutoCAD LUNITS system variable. Specify one of the following numbers for mode:",optional:!0}],returnType:"real"},{name:"itoa",category:"Conversion",description:"Returns the conversion of an integer into a string",args:[{name:"int",type:"integer",description:"A numeric value."}],returnType:"string"},{name:"rtos",category:"Conversion",description:"Converts a number into a string. Supported on Windows, Mac OS, and Web.",args:[{name:"number",type:"number",description:"A numeric value."},{name:"mode",type:"integer",description:`Linear units mode. The mode corresponds to the values allowed for the AutoCAD LUNITS system variable. The mode can be one of the following numbers:

1 -- Scientific

2 -- Decimal

3 -- Engineering (feet and decimal inches)

4 -- Architectural (feet and fractional inches)

5 -- Fractional`,optional:!0},{name:"precision",type:"integer",description:"An integer that specifies the precision.",optional:!0}],returnType:"string"},{name:"trans",signature:"(trans pt from to [disp])",category:"Conversion",description:"Translates a point (or a displacement) from one coordinate system to another",args:[{name:"pt",type:"list",description:"A list of three reals that can be interpreted as either a 3D point or a 3D displacement (vector)."},{name:"from",type:"integer|list|ename",description:"An integer code, entity name, or 3D extrusion vector identifying the coordinate system in which pt is expressed. The integer code can be one of the following:"},{name:"to",type:"integer|list|ename",description:"An integer code, entity name, or 3D extrusion vector identifying the coordinate system of the returned point. See the from argument for a list of valid integer codes."},{name:"disp",type:"list",description:"If present and is not nil, this argument specifies that pt is to be treated as a 3D displacement rather than as a point.",optional:!0}],returnType:"list"}],P0=[{name:"action_tile",category:"DCL",description:"Assigns an action to evaluate when the user selects the specified tile in a dialog box.",args:[{name:"key",type:"string",description:"Names the tile that triggers the action (specified as its key attribute). This argument is case-sensitive."},{name:"action-expression",type:"string",description:"Expression evaluated when the tile is selected."}],returnType:"boolean"},{name:"add_list",category:"DCL",description:"Adds or modifies a string in the currently active dialog box list",args:[{name:"str",type:"string",description:"Value to be assigned to the list."}],returnType:"string|nil"},{name:"client_data_tile",category:"DCL",description:"Associates application-managed data with a dialog box tile",args:[{name:"key",type:"string",description:"Value that specifies a tile. This argument is case-sensitive."},{name:"clientdata",type:"string",description:"Value to be associated with the key tile. An action expression or callback function can refer to the string as $data."}],returnType:"nil"},{name:"dimx_tile",category:"DCL",description:"Retrieves the width of a tile in dialog box units",args:[{name:"key",type:"string",description:"Value that specifies a tile. This argument is case-sensitive."}],returnType:"integer"},{name:"dimy_tile",category:"DCL",description:"Retrieves the height of a tile in dialog box units",args:[{name:"key",type:"string",description:"Value that specifies a tile. This argument is case-sensitive."}],returnType:"integer"},{name:"done_dialog",category:"DCL",description:"Terminates a dialog box",args:[{name:"status",type:"integer",description:"A positive integer that start_dialog will return instead of returning 1 for OK or 0 for Cancel. The meaning of any status value greater than 1 is determined by your application.",optional:!0}],returnType:"list"},{name:"end_image",category:"DCL",description:"Ends creation of the currently active dialog box image",args:[],returnType:"nil"},{name:"end_list",category:"DCL",description:"Ends processing of the currently active dialog box list",args:[],returnType:"nil"},{name:"fill_image",category:"DCL",description:"Draws a filled rectangle in the currently active dialog box image tile",args:[{name:"x1",type:"integer",description:"X coordinate of the upper-left corner of the rectangle located at (x1,y1). Must be a positive value."},{name:"y1",type:"integer",description:"Y coordinate of upper-left corner. Must be a positive value."},{name:"width",type:"integer",description:"Width of the fill area (in pixels), relative to x1."},{name:"height",type:"integer",description:"Width of the fill area (in pixels), relative to y1."},{name:"color",type:"integer",description:"An AutoCAD color number, or one of the logical color numbers shown in the following table:"}],returnType:"integer"},{name:"get_attr",category:"DCL",description:"Retrieves the DCL value of a dialog box attribute",args:[{name:"key",type:"string",description:"Value that specifies a tile. This argument is case-sensitive."},{name:"attribute",type:"string",description:"Name of the attribute as it appears in the tile's DCL description."}],returnType:"string"},{name:"get_tile",category:"DCL",description:"Retrieves the current runtime value of a dialog box tile",args:[{name:"key",type:"string",description:"Value that specifies a tile. This argument is case-sensitive."}],returnType:"string"},{name:"load_dialog",category:"DCL",description:"Loads a DCL file",args:[{name:"dclfile",type:"string",description:"DCL file to load. If the dclfile argument does not specify a file extension, .dcl is assumed."}],returnType:"integer"},{name:"mode_tile",category:"DCL",description:"Sets the mode of a dialog box tile",args:[{name:"key",type:"string",description:"Value that specifies a tile. This argument is case-sensitive."},{name:"mode",type:"integer",description:"A numeric value that can be one of the following:"}],returnType:"nil"},{name:"new_dialog",category:"DCL",description:"Begins a new dialog box and displays it, and can also specify a default action",args:[{name:"dlgname",type:"string",description:"Dialog box."},{name:"dcl_id",type:"integer",description:"The DCL file identifier obtained by load_dialog."},{name:"action",type:"string",description:`AutoLISP expression to use as the default action. If you don't want to define a default action, specify an empty string (""). The action argument is required if you specify screen-pt.`,optional:!0},{name:"screen-pt",type:"list",description:"A 2D point that specifies the X,Y location of the dialog box on the screen. The point specifies the upper-left corner of the dialog box. If you pass the point as '(-1 -1), the dialog box is opened in the default position (the center of the AutoCAD drawing area)."}],returnType:"T|nil"},{name:"set_tile",category:"DCL",description:"Sets the value of a dialog box tile",args:[{name:"key",type:"string",description:"Value that specifies a tile. This argument is case-sensitive."},{name:"value",type:"string",description:"New value to assign (initially set by the value attribute)."}],returnType:"string"},{name:"slide_image",category:"DCL",description:"Displays an AutoCAD slide in the currently active dialog box image tile",args:[{name:"x1",type:"integer",description:"X-offset from the upper-left corner of the tile, in pixels. Must be a positive value."},{name:"y1",type:"integer",description:"Y-offset from the upper-left corner of the tile, in pixels. Must be a positive value."},{name:"width",type:"integer",description:"Width of the image, in pixels."},{name:"height",type:"integer",description:"Height of the image, in pixels."},{name:"sldname",type:"string",description:"Identifies the slide. This argument can be a slide file (.sld) or a slide in a slide library file (.slb). Specify sldname the same way you would specify it for the AutoCAD VSLIDE command or for a customization file. Use one of the following formats for sldname: sldname or libname(sldname)"}],returnType:"integer"},{name:"start_dialog",category:"DCL",description:"Displays a dialog box and begins accepting user input",args:[],returnType:"nil"},{name:"start_image",category:"DCL",description:"Starts the creation of an image in the dialog box tile",args:[{name:"key",type:"string",description:"Value that specifies a tile. This argument is case-sensitive."}],returnType:"string|nil"},{name:"start_list",category:"DCL",description:"Starts the creation of an image in the dialog box tile",args:[{name:"key",type:"string",description:"Value that specifies a tile. This argument is case-sensitive."},{name:"operation",type:"integer",description:"A numeric value indicating the type of list operation to perform. You can specify one of the following:"},{name:"index",type:"integer",description:"A number indicating the list item to change by the subsequent add_list call. The first item in the list is index 0. If not specified, index defaults to 0. The index argument is ignored if start_list is not performing a change operation."}],returnType:"string"},{name:"term_dialog",category:"DCL",description:"Terminates all current dialog boxes as if the user had canceled each of them",args:[],returnType:"nil"},{name:"unload_dialog",category:"DCL",description:"Unloads a DCL file",args:[{name:"dcl_id",type:"integer",description:"A DCL file identifier obtained from a previous load_dialog call.."}],returnType:"nil"},{name:"vector_image",category:"DCL",description:"Draws a vector in the currently active dialog box image",args:[{name:"x1",type:"integer",description:"X coordinate of the first point."},{name:"y1",type:"integer",description:"Y coordinate of the first point."},{name:"x2",type:"integer",description:"X coordinate of the second point."},{name:"y2",type:"integer",description:"Y coordinate of the second point."},{name:"color",type:"integer",description:"An AutoCAD color number, or one of the logical color numbers shown in the following table:"}],returnType:"integer"}],q0=[{name:"grread",category:"Device Access",description:"Reads values from any of the AutoCAD input devices. Supported on Windows, Mac OS, and Web.",args:[{name:"track",type:"boolean",description:"If not nil, enables return of coordinates from pointing device as it is moved.",optional:!0},{name:"allkeys",type:"integer",description:"Bit-coded integer for functionality: 1=drag mode, 2=return all keys, 4=use curtype, 8=suppress Esc error.",optional:!0},{name:"curtype",type:"integer",description:"Cursor type to display (requires allkeys bit 2): 0=crosshairs, 1=no cursor, 2=target.",optional:!0}],returnType:"list"},{name:"tablet",category:"Device Access",description:"Retrieves and sets digitizer (tablet) calibrations. Supported on Windows only.",args:[{name:"code",type:"integer",description:"Specifies the operation: 0 = Return calibration, 1 = Set calibration."},{name:"row1",type:"list",description:"A 3D point for the first row of the tablet's transformation matrix.",optional:!0},{name:"row2",type:"list",description:"A 3D point for the second row of the tablet's transformation matrix.",optional:!0},{name:"row3",type:"list",description:"A 3D point for the third row of the tablet's transformation matrix.",optional:!0},{name:"direction",type:"list",description:"A 3D point vector (WCS) normal to the tablet's surface.",optional:!0}],returnType:"integer|nil"}],F0=[{name:"graphscr",category:"Display Control",description:"Displays the AutoCAD graphics screen. Supported on Windows, Mac OS, and Web.",args:[],returnType:"nil"},{name:"grdraw",category:"Display Control",description:"Draws a vector between two points, in the current viewport. Supported on Windows, Mac OS, and Web.",args:[{name:"from",type:"list",description:"2D or 3D point specifying one endpoint of the vector."},{name:"to",type:"list",description:"2D or 3D point specifying the other endpoint of the vector."},{name:"color",type:"integer",description:"Color used to draw the vector. A value of -1 signifies XOR ink."},{name:"highlight",type:"integer",description:"If non-zero, the vector is drawn highlighted (usually dashed).",optional:!0}],returnType:"nil"},{name:"grtext",category:"Display Control",description:"Writes text to the status line or to screen menu areas. Supported on Windows, Mac OS, and Web.",args:[{name:"box",type:"integer",description:"Location in which to write the text.",optional:!0},{name:"text",type:"string",description:"Specifies the text to be written to the screen menu or status line location. The text argument is truncated if it is too long to fit in the available area.",optional:!0},{name:"highlight",type:"integer",description:"Selects or deselects a screen menu location.",optional:!0}],returnType:"string"},{name:"grvecs",category:"Display Control",description:"Draws multiple vectors in the drawing area",args:[{name:"vlist",type:"list",description:"A vector list is composed of a series of optional color integers and two point lists. See below for details on how to format vlist.",optional:!0},{name:"trans",type:"list",description:"A transformation matrix used to change the location or proportion of the vectors defined in your vector list. This matrix is a list of four lists of four real numbers."}],returnType:"nil"},{name:"menucmd",category:"Display Control",description:"Issues menu commands, or sets and retrieves menu item status",args:[{name:"str",type:"string",description:"Menu area and the value to assign to that menu area. The string argument has the following syntax: 'menu_area=value'"}],returnType:"nil"},{name:"prin1",category:"Display Control",description:"Prints an expression to the command line or writes an expression to an open file.",args:[{name:"expr",type:"any",description:"A string or AutoLISP expression. Only the specified expr is printed; no newline or space is included.",optional:!0},{name:"file-desc",type:"any",description:"A file descriptor for a file opened for writing.",optional:!0}],returnType:"any"},{name:"princ",category:"Display Control",description:"Prints an expression to the command line, or writes it to a file. Unlike prin1, control characters are not expanded, making the output more human-readable.",args:[{name:"expr",type:"any",description:"The expression to print. If omitted, a null symbol is returned.",optional:!0},{name:"file-desc",type:"any",description:"A file descriptor for a file opened for writing.",optional:!0}],returnType:"any"},{name:"print",category:"Display Control",description:"Prints an expression to the command line, or writes an expression to an open file.",args:[{name:"expr",type:"any",description:"A string or AutoLISP expression. Only the specified expr is printed; no newline or space is included.",optional:!0},{name:"file-desc",type:"any",description:"A file descriptor for a file opened for writing.",optional:!0}],returnType:"any"},{name:"prompt",category:"Display Control",description:"Displays a string on your screen's prompt area. On dual-screen configurations, this is preferable to princ.",args:[{name:"msg",type:"string",description:"Message to be displayed to the user."}],returnType:"nil"},{name:"redraw",category:"Display Control",description:"Redraws the current viewport or a specified object (entity) in the current viewport",args:[{name:"ename",type:"ename",description:"The name of the entity name to be redrawn.",optional:!0},{name:"mode",type:"integer",description:`Value that controls the visibility and highlighting of the entity. The mode can be one of the following values:

1 -- Show entity

2 -- Hide entity (blank it out)

3 -- Highlight entity

4 -- Unhighlight entity

The use of entity highlighting (mode 3) must be balanced with entity unhighlighting (mode 4).`,optional:!0}],returnType:"nil"},{name:"terpri",category:"Display Control",description:"Prints a newline to the command line",args:[],returnType:"nil"},{name:"textpage",category:"Display Control",description:"Switches focus from the drawing area to the text screen",args:[],returnType:"nil"},{name:"textscr",category:"Display Control",description:"Switches focus from the drawing area to the text screen",args:[],returnType:"nil"},{name:"vports",category:"Display Control",description:"Returns a list of viewport descriptors for the current viewport configuration",args:[],returnType:"list"}],G0=[{name:"*error*",category:"Error-Handling",description:"A user-definable error-handling function. Supported on Windows, Mac OS, and Web.",args:[{name:"string",type:"string",description:"A textual string that contains a description of the error and is passed by AutoCAD."}],returnType:"nil"},{name:"*pop-error-mode*",category:"Error-Handling",description:"Error-handling function that ends the previous call to *push-error-using-command* or *push-error-using-stack*",args:[],returnType:"T"},{name:"*push-error-using-command*",category:"Error-Handling",description:"Error-handling function that indicates the use of the command function within a custom *error* handler",args:[],returnType:"T"},{name:"*push-error-using-stack*",category:"Error-Handling",description:"Error-handling function that indicates the use of variables from the AutoLISP stack within a custom *error* handler",args:[],returnType:"T"},{name:"alert",category:"Output",description:"Displays a dialog box containing an error or warning message.",args:[{name:"msg",type:"string",description:"The message to display in the alert box."}],returnType:"nil"},{name:"exit",category:"Error-Handling",description:"Forces the current application to quit",args:[],returnType:"nil"},{name:"quit",category:"Error-Handling",description:"Forces the current application to quit",args:[],returnType:"nil"},{name:"vl-catch-all-apply",category:"Error-Handling",description:"Passes a list of arguments to a specified function and traps any exceptions",args:[{name:"function",type:"symbol",description:"A function. The function argument can be either a symbol identifying a defun or lambda expression."}],returnType:"list"},{name:"vl-catch-all-error-message",category:"Error-Handling",description:"Passes a list of arguments to a specified function and traps any exceptions",args:[{name:"error-obj",type:"catch-all-apply-error",description:"An error object returned by vl-catch-all-apply."}],returnType:"string"},{name:"vl-catch-all-error-p",category:"Error-Handling",description:"Determines whether an argument is an error object returned from vl-catch-all-apply",args:[{name:"arg",type:"any",description:"Any argument."}],returnType:"string"}],Y0=[{name:"regapp",category:"Extended-Handling",description:"Registers an application name with the current AutoCAD drawing in preparation for using extended object data. Supported on Windows, Mac OS, and Web.",args:[{name:"application",type:"string",description:"Application name. The name must be a valid symbol table name."}],returnType:"xdroom"},{name:"regapp",category:"Extended-Handling",description:"Returns the amount of extended data (xdata) space that is available for an object (entity)",args:[{name:"ename",type:"ename",description:"An entity name."}],returnType:"integer|nil"},{name:"xdsize",category:"Extended-Handling",description:"Returns the size (in bytes) that a list occupies when it is linked to an object (entity) as extended data",args:[{name:"lst",type:"list",description:"A valid list of extended data that contains an application name previously registered with the use of the regapp function."}],returnType:"integer"}],X0=[{name:"close",category:"File-Handling",description:"Closes an open file. Supported on Windows, Mac OS, and Web.",args:[{name:"file-desc",type:"File",description:"A file descriptor obtained from the open function."}],returnType:"nil"},{name:"findfile",category:"File-Handling",description:"Searches the AutoCAD library and trusted paths for the specified file or directory.",args:[{name:"filename",type:"string",description:"Name of the file or directory to be searched for."}],returnType:"string"},{name:"findtrustedfile",category:"File-Handling",description:"Searches the AutoCAD trusted locations for the specified file",args:[{name:"filename",type:"string",description:"Name of the file to be searched for."}],returnType:"string"},{name:"getfiled",category:"File-Handling",description:"Displays a standard file selection dialog box.",args:[{name:"title",type:"string",description:"The title for the dialog box."},{name:"defname",type:"string",description:"The default file name or path."},{name:"defext",type:"string",description:"The default file extension."},{name:"flags",type:"integer",description:"A bit-coded integer that specifies how the dialog box should behave."}],returnType:"string|nil"},{name:"open",category:"File-Handling",description:"Opens a file for access by the AutoLISP I/O functions",args:[{name:"filename",type:"string",description:"Name and extension of the file to be opened. If you do not specify the full path name of the file, open assumes you are referring to the AutoCAD default drawing directory."},{name:"mode",type:"string",description:"Indicates whether the file is open for reading, writing, or appending. Specify a string containing one of the following letters:r Open for reading.w Open for writing.a Open for appending."},{name:"encoding",type:"string",description:"Indicates the character encoding to use when reading the file. When a value isn't provided for the argument, the file is assumed to contain multibyte character set (MBCS) which is the legacy behavior.utf8 UTF-8,utf8-bom UTF-8 with Byte Order Marks",optional:!0}],returnType:"file|nil"},{name:"read-char",category:"File-Handling",description:"Reads a string from the keyboard or from an open file, until an end-of-line marker is encountered",args:[{name:"file-desc",type:"file",description:"A file descriptor (obtained from open) referring to an open file. If no file-desc is specified, read-line obtains input from the keyboard input buffer.",optional:!0}],returnType:"string"},{name:"read-line",category:"File-Handling",description:"Reads a string from the keyboard or from an open file, until an end-of-line marker is encountered",args:[{name:"file-desc",type:"file",description:"A file descriptor (obtained from open) referring to an open file. If no file-desc is specified, read-line obtains input from the keyboard input buffer.",optional:!0}],returnType:"string"},{name:"write-char",category:"File-Handling",description:"Writes one character to the screen or an open file",args:[{name:"num",type:"integer",description:"The integer value in the range of 1-65536 representing the character to be written."},{name:"file-desc",type:"file",description:"A file descriptor for an open file.",optional:!0}],returnType:"integer"},{name:"write-line",category:"File-Handling",description:"Writes a string to the screen or to an open file",args:[{name:"str",type:"integer",description:"A textual value."},{name:"file-desc",type:"file",description:"A file descriptor for an open file.",optional:!0}],returnType:"string"}],$0=[{name:"apply",category:"Function-Handling",description:"Passes a list of arguments to, and executes, a specified function.",args:[{name:"function",type:"symbol",description:"A function symbol or a lambda expression to execute."},{name:"list",type:"list",description:"A list of arguments to pass to the function. Can be nil."}],returnType:"any"},{name:"defun",signature:"(defun sym (arg... / var...) expr...)",category:"Function-Handling",description:"Defines a new function. Add arguments and local variables dynamically using the '+' buttons. The function body is built by adding expressions.",args:[{name:"sym",type:"symbol",description:"A symbol naming the function."}],hasDynamicArgs:!0,hasDynamicInputs:!0,returnType:"any",example:`(defun c:hello ( / msg )
  (setq msg "Hello, world!")
  (alert msg)
  (princ)
)`},{name:"defun-q",category:"Function-Handling",description:"Defines a function as a list. Supported on Windows, Mac OS, and Web.",args:[{name:"sym",type:"symbol",description:"A symbol naming the function."}],hasDynamicArgs:!0,hasDynamicInputs:!0,returnType:"list|symbol"},{name:"defun-q-list-ref",category:"Function-Handling",description:"Displays the list structure of a function defined with defun-q",args:[{name:"function",type:"symbol",description:"A symbol naming the function."}],returnType:"list|symbol|nil"},{name:"defun-q-list-set",category:"Function-Handling",description:"Sets the value of a symbol to be a function defined by a list",args:[{name:"sym",type:"symbol",description:"A symbol naming the function"},{name:"list",type:"list",description:"A list containing the expressions to be included in the function."}],returnType:"list|symbol|nil"},{name:"eval",category:"Function-Handling",description:"Returns the result of evaluating an AutoLISP expression",args:[{name:"expr",type:"any",description:"The expression to be evaluated."}],returnType:"any"},{name:"lambda",category:"Function-Handling",description:"Defines an anonymous function. Add arguments and expressions dynamically.",args:[],hasDynamicArgs:!0,hasDynamicInputs:!0,returnType:"any"},{name:"progn",category:"Function-Handling",description:"Evaluates expressions sequentially and returns the value of the last one. Add expressions to execute using the '+' button.",args:[],hasDynamicInputs:!0,returnType:"any"},{name:"trace",category:"Function-Handling",description:"Aids in AutoLISP debugging",args:[{name:"function",type:"symbol",description:"A symbol that names a function. If no argument is supplied, trace has no effect.",optional:!0}],hasDynamicInputs:!0,dynamicInputType:"symbol",returnType:"symbol|nil"},{name:"untrace",category:"Function-Handling",description:"Clears the trace flag for the specified functions",args:[{name:"function",type:"symbol",description:"A symbol that names a function. If function is not specified, untrace has no effect.",optional:!0}],hasDynamicInputs:!0,dynamicInputType:"symbol",returnType:"symbol|nil"}],K0=[{name:"angle",category:"Geometric",description:"Returns an angle in radians of a line defined by two endpoints. Supported on Windows, Mac OS, and Web.",args:[{name:"pt1",type:"point",description:"An endpoint."},{name:"pt2",type:"point",description:"An endpoint."}],returnType:"real"},{name:"distance",category:"Geometric",description:"Returns the 3D distance between two points",args:[{name:"pt1",type:"point",description:"A 2D or 3D point list."},{name:"pt2",type:"point",description:"A 2D or 3D point list."}],returnType:"real"},{name:"inters",category:"Geometric",description:"Finds the intersection of two lines",args:[{name:"pt1",type:"point",description:"One endpoint of the first line."},{name:"pt2",type:"point",description:"The other endpoint of the first line."},{name:"pt3",type:"point",description:"One endpoint of the second line."},{name:"pt4",type:"point",description:"The other endpoint of the second line."},{name:"onseg",type:"list|nil",description:"If specified as nil, the lines defined by the four pt arguments are considered infinite in length. If the onseg argument is omitted or is not nil, the intersection point must lie on both lines or inters returns nil."}],returnType:"list|nil"},{name:"osnap",category:"Geometric",description:"Returns a 3D point that is the result of applying an Object Snap mode to a specified point",args:[{name:"pt",type:"list",description:"A point."},{name:"mode",type:"string",description:"One or more valid Object Snap identifiers, such as mid, cen, and so on, separated by commas."}],returnType:"list|nil"},{name:"polar",category:"Geometric",description:"Returns a 3D point that is the result of applying an Object Snap mode to a specified point",args:[{name:"pt",type:"point",description:"A 2D or 3D point."},{name:"ang",type:"integer|real",description:"An angle expressed in radians relative to the world X axis. Angles increase in the counterclockwise direction, independent of the current construction plane."},{name:"dist",type:"integer|real",description:"Distance from the specified pt."}],returnType:"list|nil"},{name:"textbox",category:"Geometric",description:"Measures a specified text object, and returns the diagonal coordinates of a box that encloses the text",args:[{name:"elist",type:"list",description:"An entity definition list defining a text object, in the format returned by entget.If fields that define text parameters other than the text itself are omitted from elist, the current (or default) settings are used.The minimum list accepted by textbox is that of the text itself."}],returnType:"list|nil"}],J0=[{name:"alloc",category:"Memory Management",description:"Sets the size of the segment to be used by the expand function. Supported on Windows, Mac OS, and Web.",args:[{name:"n-alloc",type:"integer",description:"A number indicating the amount of memory to be allocated. The integer represents the number of symbols, strings, usubrs, reals, and cons cells."}],returnType:"integer"},{name:"expand",category:"Memory Management",description:"Allocates additional memory for AutoLISP",args:[{name:"n-expand",type:"integer",description:"An number indicating the amount of additional memory to be allocated. Memory is allocated as follows:"}],returnType:"integer"},{name:"gc",category:"Memory Management",description:"Forces a garbage collection, which frees up unused memory",args:[],returnType:"nil"},{name:"mem",category:"Memory Management",description:"Displays the current state of the AutoLISP memory",args:[],returnType:"nil"}],Q0=[{name:"dumpallproperties",category:"Object-Handling",description:"Retrieves an entitys supported properties.",args:[{name:"ename",type:"ename",description:"Name of the entity being queried. Can be a graphical or nongraphical entity."},{name:"context",type:"integer",description:"If 1, some properties (like points) are promoted to individual X, Y, Z values. Default is 0.",optional:!0}],returnType:"nil"},{name:"entdel",category:"Object-Handling",description:"Deletes objects (entities) or restores previously deleted objects",args:[{name:"ename",type:"ename",description:"Name of the entity to be deleted or restored."}],returnType:"ename"},{name:"entget",category:"Object-Handling",description:"Retrieves an object's (entity's) definition data",args:[{name:"ename",type:"ename",description:"Name of the entity to be deleted or restored."},{name:"applist",type:"list",description:"A list of registered application names.",optional:!0}],returnType:"ename|list"},{name:"entlast",category:"Object-Handling",description:"Returns the name of the last nondeleted main object (entity) in the drawing.",args:[],returnType:"ename"},{name:"entmake",category:"Object-Handling",description:"Creates a new entity in the drawing.",args:[{name:"elist",type:"list",description:"An entity definition list.",optional:!0}],returnType:"list"},{name:"entmakex",category:"Object-Handling",description:"Makes a new object or entity, gives it a handle and entity name (but does not assign an owner), and then returns the new entity name",args:[{name:"elist",type:"list",description:"Entity definition data in a format similar to that returned by the entget function. The elist argument must contain all of the information necessary to define the entity. If any required definition data is omitted, entmakex returns nil and the entity is rejected. If you omit optional definition data (such as the layer), entmakex uses the default value.",optional:!0}],returnType:"ename"},{name:"entmod",category:"Object-Handling",description:"Modifies the definition data of an object (entity)",args:[{name:"elist",type:"list",description:"Entity definition data in a format similar to that returned by the entget function."}],returnType:"list|nil"},{name:"entnext",category:"Object-Handling",description:"Returns the name of the next object (entity) in the drawing",args:[{name:"ename",type:"ename",description:"The name of an existing entity.",optional:!0}],returnType:"ename|nil"},{name:"entupd",category:"Object-Handling",description:"Updates the screen image of an object (entity)",args:[{name:"ename",type:"ename",description:"The name of the entity to be updated on the screen."}],returnType:"ename|nil"},{name:"getpropertyvalue",category:"Object-Handling",description:"Returns the current value of an entitys property",args:[{name:"ename",type:"ename",description:"Name of the entity being queried. The ename can refer to either a graphical or a nongraphical entity."},{name:"propertyname",type:"string",description:"Name of the property being queried. For a list of all the valid property names of a given object, use dumpallproperties."},{name:"name",type:"string",description:"The name of the property within the collection being queried.",optional:!0}],returnType:"any"},{name:"handent",category:"Object-Handling",description:"Returns an object (entity) name based on its handle",args:[{name:"handle",type:"string",description:"A string identifying an entity handle."}],returnType:"ename|nil"},{name:"ispropertyreadonly",category:"Object-Handling",description:"Returns the read-only state of an entitys property",args:[{name:"ename",type:"ename",description:"Name of the entity being queried. The ename can refer to either a graphical or a non-graphical entity."},{name:"propertyname",type:"string",description:"Name of the property being queried. For a list of all the valid property names of a given object, use dumpallproperties."},{name:"name",type:"string",description:"The name of the property within the collection being queried.",optional:!0}],returnType:"integer"},{name:"setpropertyvalue",category:"Object-Handling",description:"Sets the property value for an entity",args:[{name:"ename",type:"ename",description:"Name of the entity being modified. The ename can refer to either a graphical or a non-graphical entity."},{name:"propertyname",type:"string",description:"Name of the property to be modified. For a list of all the valid property names of a given object, use dumpallproperties."},{name:"value",type:"any",description:"Value to set the property to when the object is not a collection."},{name:"val",type:"any",description:"Value to set the property to.",optional:!0}],returnType:"nil"}],Z0=[{name:"acad_colordlg",category:"Query&Command",description:"Displays the standard AutoCAD color selection dialog box.",args:[{name:"colornum",type:"integer",description:"An integer (0-256) for the default color. 0=ByBlock, 256=ByLayer."},{name:"flag",type:"boolean",description:"If nil, disables ByLayer/ByBlock buttons.",optional:!0}],returnType:"integer"},{name:"acad_helpdlg",category:"Query&Command",description:"Invokes the help facility (obsolete).",args:[{name:"helpfile",type:"string",description:"The path and file name of the help file to open."},{name:"topic",type:"string",description:"The name of the topic to display in the help file."}],returnType:"string"},{name:"command",category:"Query&Command",description:"Executes an AutoCAD command. Add arguments dynamically using the '+' button. Returns nil, but the output can be used to enforce execution order.",args:[{name:"command_name",type:"string",description:"The command name, e.g., '._LINE'"}],hasDynamicInputs:!0,returnType:"any",example:'(command "._line" "0,0" "10,10" "")'},{name:"command-s",category:"Query&Command",description:"Executes an AutoCAD command and the supplied input. Add arguments dynamically using the '+' button.",args:[{name:"cmdname",type:"string",description:"Name of the command to execute."}],hasDynamicInputs:!0,returnType:"nil"},{name:"getcfg",category:"Query&Command",description:"Obsolete. Retrieves application data from the AppData section of the acad20xx.cfg file. NOTE: This may be removed in a future release.",args:[{name:"cfgname",type:"string",description:'Section name/parameter to retrieve. Form: "AppData/app/.../param"'}],returnType:"string|nil"},{name:"getcname",category:"Query&Command",description:"Retrieves the localized or English name of an AutoCAD command",args:[{name:"cname",type:"string",description:"The localized or underscored English command name; must be 64 characters or less in length."}],returnType:"string|nil"},{name:"getenv",category:"Query&Command",description:"Returns the string value assigned to a system environment variable",args:[{name:"variable-name",type:"string",description:"A string specifying the name of the variable to be read. Environment variable names must be spelled and cased exactly as they are stored in the system registry."}],returnType:"string|nil"},{name:"getvar",category:"Query&Command",description:"Retrieves the value of a system variable.",args:[{name:"varname",type:"string",description:"The name of the system variable."}],returnType:"any"},{name:"help",category:"Query&Command",description:"Invokes the Help facility",args:[{name:"helpfile",type:"string",description:"Help file name.",optional:!0},{name:"topic",type:"string",description:"Help topic ID.",optional:!0},{name:"command",type:"string",description:"Specifies the initial state of the Help window. The command argument is a string used by the uCommand (in HTML Help) or the fuCommand (in WinHelp) argument of the HtmlHelp() and WinHelp() functions as defined in the Microsoft Windows SDK.",optional:!0}],returnType:"string|nil"},{name:"setcfg",category:"Query&Command",description:"Obsolete. Writes application data to the AppData section of the acad20xx.cfg file",args:[{name:"cfgname",type:"string",description:"Section and parameter to set with the value of cfgval. The cfgname argument must be a string of the following form:"},{name:"cfgval",type:"string",description:"Application data. The string can be up to 512 characters in length. Larger strings are accepted by setcfg, but cannot be returned by getcfg."}],returnType:"any"},{name:"setenv",category:"Query&Command",description:"Sets a system environment variable to a specified value",args:[{name:"varname",type:"string",description:"Name of the environment variable to be set. Environment variable names must be spelled and cased exactly as they are stored in the system registry."},{name:"value",type:"string",description:"Value to set varname to."}],returnType:"string"},{name:"setfunhelp",category:"Query&Command",description:"Registers a user-defined command with the Help facility so the appropriate Help file and topic are called when the user requests help on that command",args:[{name:"c:fname",type:"string",description:"User-defined command (the C:XXXfunction). You must include the c: prefix."},{name:"helpfile",type:"string",description:"Help file name. The file extension is not required with the helpfile argument. If a file extension is provided, AutoCAD looks only for a file with the exact name specified.",optional:!0},{name:"topic",type:"string",description:"Help topic ID. If you are calling a topic within a CHM file, provide the file name without the extension; AutoCAD adds an .htm extension.",optional:!0},{name:"command",type:"string",description:"Initial state of the Help window. The command argument is a string used by the uCommand (in HTML Help) or the fuCommand (in WinHelp) argument of the HtmlHelp() and WinHelp() functions as defined in the Microsoft Windows SDK.",optional:!0}],returnType:"string|nil"},{name:"setvar",category:"Query&Command",description:"Sets a system variable to a new value.",args:[{name:"varname",type:"string",description:"The name of the system variable."},{name:"value",type:"any",description:"The new value for the variable."}],returnType:"any"},{name:"ver",category:"Query&Command",description:"Returns a string that contains the current AutoLISP version number",args:[],returnType:"string"}],W0=[{name:"ssadd",category:"Selection Set",description:"Adds an object (entity) to a selection set, or creates a new selection set. Supported on Windows, Mac OS, and Web.",args:[{name:"ename",type:"ename",description:"An entity name.",optional:!0},{name:"ss",type:"pickset",description:"A selection set.",optional:!0}],returnType:"pickset|nil"},{name:"ssdel",category:"Selection Set",description:"Deletes an object (entity) from a selection set. Supported on Windows, Mac OS, and Web.",args:[{name:"ename",type:"ename",description:"An entity name."},{name:"ss",type:"pickset",description:"A selection set."}],returnType:"pickset|nil"},{name:"ssget",category:"Selection Set",description:"Creates a selection set from the selected object. Supported on Windows, Mac OS, and Web.",args:[{name:"sel-method",type:"string",description:"Object selection method (e.g., 'A', 'C', 'X', ':S').",optional:!0},{name:"pt1",type:"list",description:"A point relative to the selection.",optional:!0},{name:"pt2",type:"list",description:"A point relative to the selection.",optional:!0},{name:"pt-list",type:"list",description:"A list of points for polygon or fence selection.",optional:!0},{name:"filter-list",type:"list",description:"An association list that specifies object properties for filtering.",optional:!0}],returnType:"pickset|nil"},{name:"ssgetfirst",category:"Selection Set",description:"Determines which objects are selected and gripped",args:[],returnType:"list|nil"},{name:"sslength",category:"Selection Set",description:"Returns an integer containing the number of objects (entities) in a selection set",args:[{name:"ss",type:"pickset",description:"A selection set.",optional:!0}],returnType:"integer"},{name:"ssmemb",category:"Selection Set",description:"Tests whether an object (entity) is a member of a selection set",args:[{name:"ename",type:"ename",description:"An entity name.",optional:!0},{name:"ss",type:"pickset",description:"A selection set."}],returnType:"ename|nil"},{name:"ssname",category:"Selection Set",description:"Tests whether an object (entity) is a member of a selection set",args:[{name:"ss",type:"pickset",description:"A selection set."},{name:"index",type:"integer|real",description:"Element in a selection set. The first element in the set has an index of zero. To access entities beyond number 32,767 in a selection set, you must supply the index argument as a real."}],returnType:"ename|nil"},{name:"ssnamex",category:"Selection Set",description:"Retrieves information about how a selection set was created.",args:[{name:"ss",type:"pickset",description:"A selection set."},{name:"index",type:"integer|real",description:"Element in a selection set. The first element in the set has an index of zero.",optional:!0}],returnType:"ename|nil"},{name:"sssetfirst",category:"Selection Set",description:"Sets which objects are selected and gripped",args:[{name:"gripset",type:"nil",description:"AutoCAD no longer supports grips on unselected objects, so this argument is ignored. However, if gripset is nil and no pickset is specified, sssetfirst turns off the grip handles and selections it previously turned on."},{name:"pickset",type:"pickset",description:"A selection set to be selected.",optional:!0}],returnType:"list"}],ev=[{name:"read",category:"String-Handling",description:"Returns the first list or atom obtained from a string. Supported on Windows, Mac OS, and Web.",args:[{name:"string",type:"string",description:"A text value. The string argument should not contain blanks, except within a list or string.",optional:!0}],returnType:"any"},{name:"strcase",category:"String-Handling",description:"Returns a string where all alphabetic characters have been converted to uppercase or lowercase",args:[{name:"string",type:"string",description:"The text string to convert."},{name:"which",type:"T|nil",description:"If specified as T, all alphabetic characters in string are converted to lowercase. Otherwise, characters are converted to uppercase.",optional:!0}],returnType:"string"},{name:"strcat",category:"String-Handling",description:"Concatenates multiple strings",args:[],hasDynamicInputs:!0,dynamicInputType:"string",returnType:"string"},{name:"strlen",category:"String-Handling",description:"Returns an integer that is the number of characters in a string",args:[],hasDynamicInputs:!0,dynamicInputType:"string",returnType:"integer"},{name:"substr",category:"String-Handling",description:"Returns a substring of a string",args:[{name:"str",type:"string",description:"A textual value."},{name:"start",type:"integer",description:"A positive numeric value indicating the starting position in str. The first character in the string is position 1."},{name:"length",type:"integer",description:"A positive numeric value specifying the number of characters to search through in str. If length is not specified, the substring continues to the end of str.",optional:!0}],returnType:"string"},{name:"wcmatch",category:"String-Handling",description:"Performs a wild-card pattern match on a string",args:[{name:"str",type:"string",description:"A textual value to be compared. The comparison is case-sensitive, so uppercase and lowercase characters must match."},{name:"pattern",type:"string",description:"Pattern to match against str. The pattern can contain the wild-card pattern-matching characters shown in the table Wild-card characters. You can use commas in a pattern to enter more than one pattern condition. Only the first 500 characters (approximately) of the str and pattern are compared; anything beyond that is ignored."}],returnType:"string|nil"}],tv=[{name:"dictadd",signature:"(dictadd ename symbol newobj)",category:"Symbol Table",description:"Adds a nongraphical object to the specified dictionary. Supported on Windows, Mac OS, and Web.",args:[{name:"ename",type:"ename",description:"Name of the dictionary the object is being added to."},{name:"symbol",type:"string",description:"The key name of the object being added to the dictionary; symbol must be a unique name that does not already exist in the dictionary."},{name:"newobj",type:"ename",description:"A nongraphical object to be added to the dictionary."}],returnType:"ename",example:`
(setq dictionary (list '(0 . "DICTIONARY") '(100 . "AcDbDictionary")))
(setq xname (entmakex dictionary))(setq xname (entmakex dictionary))
(setq newdict (dictadd (namedobjdict) "MY_WAY_COOL_DICTIONARY" xname))    
    `},{name:"dictnext",signature:"(dictnext ename [rewind])",category:"Symbol Table",description:"Finds the next item in a dictionary",args:[{name:"ename",type:"ename",description:"Name of the dictionary being viewed."},{name:"rewind",type:"T|nil",description:"If this argument is present and is not nil, the dictionary is rewound and the first entry in it is retrieved."}],returnType:"ename",example:`
  (setq xname (entmakex datalist))
    `},{name:"dictremove",signature:"(dictremove ename symbol)",category:"Symbol Table",description:"Removes an entry from the specified dictionary",args:[{name:"ename",type:"ename",description:"Name of the dictionary being modified."},{name:"symbol",type:"string",description:"The entry to be removed from ename."}],returnType:"ename|nil",example:`
(dictremove (namedobjdict) "my_way_cool_dictionary")
    `},{name:"dictrename",signature:"(dictrename ename oldsym newsym)",category:"Symbol Table",description:"Renames a dictionary entry",args:[{name:"ename",type:"ename",description:"Name of the dictionary being modified."},{name:"oldsym",type:"string",description:"Original key name of the entry."},{name:"newsym",type:"string",description:"New key name of the entry."}],returnType:"string|nil",example:`
(dictrename (namedobjdict) "my_way_cool_dictionary" "An even cooler dictionary")
  `},{name:"dictsearch",signature:"(dictsearch ename symbol [setnext])",category:"Symbol Table",description:"Searches a dictionary for an item",args:[{name:"ename",type:"ename",description:"Name of the dictionary being searched."},{name:"symbol",type:"string",description:"A string that specifies the item to be searched for within the dictionary."},{name:"setnext",type:"T|nil",description:"If present and not nil, the dictnext entry counter is adjusted so the following dictnext call returns the entry after the one returned by this dictsearch call.",optional:!0}],returnType:"list|nil",example:`
(setq newdictlist (dictsearch (namedobjdict) "my_way_cool_dictionary"))    
    `},{name:"layoutlist",signature:"(layoutlist)",category:"Symbol Table",description:"Returns a list of all paper space layouts in the current drawing",args:[],returnType:"list"},{name:"namedobjdict",category:"Symbol Table",description:"Returns the entity name of the current drawing's named object dictionary, which is the root of all nongraphical objects in the drawing",args:[],returnType:"ename"},{name:"setview",signature:"(setview view_descriptor [vport_id])",category:"Symbol Table",description:"Establishes a view for a specified viewport",args:[{name:"view_descriptor",type:"ename",description:"An entity definition list similar to that returned by tblsearch when applied to the VIEW symbol table."},{name:"vport_id",type:"integer",description:"Viewport to receive the new view. If vport_id is 0, the current viewport receives the new view.",optional:!0}],returnType:"ename|nil"},{name:"snvalid",signature:"(snvalid sym_name [flag])",category:"Symbol Table",description:"Checks the symbol table name for valid characters",args:[{name:"sym_name",type:"string",description:"Symbol table name."},{name:"flag",type:"integer",description:"Specifies whether the vertical bar character is allowed within sym_name.",optional:!0}],returnType:"T|nil",example:`
(snvalid "hocus-pocus")
    `},{name:"tblnext",signature:"(tblnext table-name [rewind])",category:"Symbol Table",description:"Finds the next item in a symbol table",args:[{name:"table-name",type:"string",description:"Symbol table name."},{name:"rewind",type:"T|nil",description:"If this argument is present and is not nil, the symbol table is rewound and the first entry in it is retrieved.",optional:!0}],returnType:"list|nil",example:`
(tblnext "layer" T)    
    `},{name:"tblobjname",signature:"(tblobjname table-name symbol)",category:"Symbol Table",description:"Returns the entity name of a specified symbol table entry",args:[{name:"table-name",type:"string",description:"Symbol table to be searched. The argument is not case-sensitive."},{name:"symbol",type:"string",description:"Symbol to be searched for."}],returnType:"ename|nil",example:`
(tblobjname "block" "ESC-01")    
    `},{name:"tblsearch",signature:"(tblsearch table-name symbol [setnext])",category:"Symbol Table",description:"Searches a symbol table for a symbol name",args:[{name:"table-name",type:"string",description:"Symbol table to be searched. The argument is not case-sensitive."},{name:"symbol",type:"string",description:"Symbol to be searched for."},{name:"setnext",type:"T|nil",description:"If this argument is supplied and is not nil, the tblnext entry counter is adjusted so the following tblnext call returns the entry after the one returned by this tblsearch call. Otherwise, tblsearch has no effect on the order of entries retrieved by tblnext.",optional:!0}],returnType:"list|nil",example:`
(tblsearch "style" "standard")    
    `}],nv=[{name:"atom",category:"Symbol-Handling",description:"Verifies that an item is an atom. Supported on Windows, Mac OS, and Web.",args:[{name:"item",type:"any",description:"Any AutoLISP element."}],returnType:"boolean"},{name:"atoms-family",category:"Symbol-Handling",description:"Returns a list of the currently defined symbols",args:[{name:"format",type:"integer",description:"An integer value of 0 or 1 that determines the format in which atoms-family returns the symbol names"},{name:"symlist",type:"list",description:"A list of strings that specify the symbol names you want atoms-family to search for.",optional:!0}],returnType:"list"},{name:"boundp",category:"Symbol-Handling",description:"Verifies if a value is bound to a symbol",args:[{name:"sym",type:"symbol",description:"A symbol."}],returnType:"T|nil"},{name:"not",category:"Symbol-Handling",description:"Verifies that an item evaluates to nil",args:[{name:"not",type:"any",description:"An AutoLISP expression."}],returnType:"T|nil"},{name:"null",category:"Symbol-Handling",description:"Verifies that an item is bound to nil",args:[{name:"item",type:"any",description:"An AutoLISP expression."}],returnType:"T|nil"},{name:"numberp",category:"Symbol-Handling",description:"Verifies that an item is a real number or an integer",args:[{name:"item",type:"any",description:"An AutoLISP expression."}],returnType:"T|nil"},{name:"quote",category:"Symbol-Handling",description:"Returns an expression without evaluating it",args:[{name:"expr",type:"any",description:"An AutoLISP expression."}],returnType:"any"},{name:"set",category:"Symbol-Handling",description:"Sets the value of a quoted symbol name to an expression",args:[{name:"sym",type:"symbol",description:"The user-defined variable to assign expr to."},{name:"expr",type:"any",description:"An AutoLISP expression."}],returnType:"any"},{name:"setq",category:"Symbol-Handling",description:"Sets the value of one or more variables. The first symbol and expression are required. Additional symbol-expression pairs can be added dynamically using the '+' button.",args:[{name:"sym",type:"symbol",description:"The user-defined variable to assign expr to. This argument is not evaluated."},{name:"expr",type:"any",description:"An expression to assign to the symbol."}],hasDynamicInputs:!0,hasPairedDynamicInputs:!0,returnType:"any",example:"(setq a 1 b 2 c (+ a b)) ; sets a to 1, b to 2, and c to 3"},{name:"type",category:"Symbol-Handling",description:"Returns the type of a specified item",args:[{name:"item",type:"any",description:"A symbol."}],returnType:"any"}],ov=[{name:"proxy",category:"Utility",description:"A Lisp function used when the corresponding Lisp function cannot be found.",args:[{name:"func name",type:"symbol",description:"Missing Lisp function name"}],hasDynamicInputs:!0,returnType:"any"},{name:"code-block",category:"Utility",description:"Allows writing a block of raw LISP code. The block is inserted directly into the script. Its output is the value of the last expression in the block.",args:[],hasCodeBlock:!0,returnType:"any"},{name:"note",category:"Utility",description:"Adds a resizable text note to the canvas for explanations. This does not generate any LISP code.",args:[],returnType:null,isUtility:!0},{name:"image",category:"Utility",description:"Adds a resizable node to display an image. Paste an image from the clipboard.",args:[],returnType:null,isUtility:!0},{name:"caller",category:"Utility",description:"Calls a user-defined function by name with the provided arguments. The function name is specified in the input field, and arguments are added dynamically.",args:[{name:"function_name",type:"symbol",description:"The name of the function to call."}],hasDynamicInputs:!0,returnType:"any"},{name:"chat",category:"Utility",description:"An AI assistant to help build and refactor diagrams using natural language.",args:[],returnType:"any",isUtility:!0},{name:"initget-bits",category:"Utility",description:"A helper node to visually configure the bit-coded options for the initget function. Connect its output to the 'bits' input of an initget node.",args:[],returnType:"integer",isUtility:!0},{name:"getstring-cr",category:"Utility",description:"A helper node to visually configure the 'cr' (carriage return) option for the getstring function. This determines if spaces are allowed in the input. Connect its output to the 'cr' input of a getstring node.",args:[],returnType:"boolean",isUtility:!0},{name:"grread-allkeys",category:"Utility",description:"A helper node to visually configure the bit-coded options for the grread function. Connect its output to the 'allkeys' input of a grread node.",args:[],returnType:"integer",isUtility:!0},{name:"getfiled-flags",category:"Utility",description:"A helper node to visually configure the bit-coded options for the getfiled function. Connect its output to the 'flags' input of a getfiled node.",args:[],returnType:"integer",isUtility:!0},{name:"acad_colordlg-flag",category:"Utility",description:"A helper node to visually configure the 'flag' option for the acad_colordlg function. Connect its output to the 'flag' input of an acad_colordlg node.",args:[],returnType:"boolean",isUtility:!0},{name:"acad_colordlg-colornum",category:"Utility",description:"A helper node to visually select the initial color number (0-256) for the acad_colordlg function, including 'ByBlock' and 'ByLayer' options.",args:[],returnType:"integer",isUtility:!0},{name:"boole-operator",category:"Utility",description:"A helper node to visually select the bitwise operator for the boole function. Connect its output to the 'operator' input of a boole node.",args:[],returnType:"integer",isUtility:!0},{name:"dxf-code-selector",category:"Utility",description:"A helper node to easily search and select a DXF group code. Connect its output to the 'element' input of an 'assoc' node.",args:[],returnType:"integer",isUtility:!0},{name:"acad_truecolordlg-allowbylayer",category:"Utility",description:"A helper node for the 'allowbylayer' option of acad_truecolordlg. T enables ByLayer/ByBlock.",args:[],returnType:"boolean",isUtility:!0},{name:"acdimenableupdate-flag",category:"Utility",description:"A helper node for the 'flag' option of acdimenableupdate. T enables auto-update.",args:[],returnType:"boolean",isUtility:!0},{name:"acet-layerp-mode-status",category:"Utility",description:"A helper node for the 'status' option of acet-layerp-mode. T turns LAYERPMODE on.",args:[],returnType:"boolean",isUtility:!0},{name:"vlax-dump-object-flag",category:"Utility",description:"A helper node for the 'flag' option of vlax-dump-object. T lists object methods.",args:[],returnType:"boolean",isUtility:!0},{name:"cvunit-helper",category:"Utility",description:"A helper node to visually select a unit for the cvunit function. Connect its output to the 'from-unit' or 'to-unit' input of a cvunit node.",args:[],returnType:"string",isUtility:!0},{name:"open-mode",category:"Utility",description:"A helper node to visually select the file open mode ('read', 'write', or 'append'). Connect its output to the 'mode' input of an 'open' node.",args:[],returnType:"string",isUtility:!0},{name:"tablet-code",category:"Utility",description:"A helper node to visually select the operation code for the 'tablet' function. Connect its output to the 'code' input of a 'tablet' node.",args:[],returnType:"integer",isUtility:!0},{name:"angtof-units",category:"Utility",description:"A helper node to visually select the angular units for the 'angtof' function. Connect its output to the 'units' input of an 'angtof' node.",args:[],returnType:"integer",isUtility:!0},{name:"angtos-unit",category:"Utility",description:"A helper node to visually select the angular units for the 'angtos' function. Connect its output to the 'unit' input of an 'angtos' node.",args:[],returnType:"integer",isUtility:!0},{name:"angtos-precision",category:"Utility",description:"A helper node to visually select the precision for the 'angtos' function. Connect its output to the 'precision' input of an 'angtos' node.",args:[],returnType:"integer",isUtility:!0},{name:"distof-mode",category:"Utility",description:"A helper node to visually select the unit mode for the 'distof' function. Connect its output to the 'mode' input of a 'distof' node.",args:[],returnType:"integer",isUtility:!0},{name:"redraw-mode",category:"Utility",description:"A helper node to visually select the visibility mode for the 'redraw' function. Connect its output to the 'mode' input of a 'redraw' node.",args:[],returnType:"integer",isUtility:!0},{name:"rtos-mode",category:"Utility",description:"A helper node to visually select the unit mode for the 'rtos' function. Connect its output to the 'mode' input of an 'rtos' node.",args:[],returnType:"integer",isUtility:!0},{name:"rtos-precision",category:"Utility",description:"A helper node to visually select the precision for the 'rtos' function. Connect its output to the 'precision' input of an 'rtos' node.",args:[],returnType:"integer",isUtility:!0},{name:"trans-from",category:"Utility",description:"An integer code, entity name, or 3D extrusion vector identifying the coordinate system in which pt is expressed. The integer code can be one of the following",args:[],returnType:"integer",isUtility:!0},{name:"trans-to",category:"Utility",description:"An integer code, entity name, or 3D extrusion vector identifying the coordinate system of the returned point. See the from argument for a list of valid integer codes.",args:[],returnType:"integer",isUtility:!0}],iv=[{name:"vl-acad-defun",category:"VL",description:"Defines an AutoLISP function symbol as an external subroutine",args:[{name:"symbol",type:"symbol",description:"A symbol identifying a function."}],returnType:"integer"},{name:"vl-acad-undefun",category:"VL",description:"Removes an external subroutine definition for an AutoLISP function symbol.",args:[{name:"symbol",type:"symbol",description:"A symbol identifying a function."}],returnType:"integer"},{name:"vl-arx-import",category:"VL",description:"Imports ObjectARX functions into a separate-namespace VLX",args:[{name:"target",type:"string",description:"Symbol name of a function or an application name to import.",optional:!0}],returnType:"nil"},{name:"vl-catch-all-apply",category:"VL",description:"Passes a list of arguments to a specified function and traps any exceptions",args:[{name:"function",type:"symbol",description:"A function. The function argument can be either a symbol identifying a defun or lambda expression."},{name:"list",type:"list",description:"A list containing arguments to be passed to the function."}],returnType:"any"},{name:"vl-catch-all-error-message",category:"VL",description:"Returns a string from an error object",args:[{name:"error-obj",type:"catch-all-apply-error",description:"An error object returned by vl-catch-all-apply."}],returnType:"string"},{name:"vl-catch-all-error-p",category:"VL",description:"Determines whether an argument is an error object returned from vl-catch-all-apply",args:[{name:"arg",type:"any",description:"Any argument."}],returnType:"boolean"},{name:"vl-cmdf",category:"Query&Command",description:"Executes an AutoCAD command. Arguments can be strings, reals, integers, or points, as expected by the command's prompt sequence.",args:[],hasDynamicInputs:!0,returnType:"T"},{name:"vl-consp",category:"List Manipulation",description:"Determines whether or not a list is nil",args:[{name:"list-variable",type:"any",description:"A list."}],returnType:"boolean"},{name:"vl-directory-files",category:"File-Handling",description:"Lists all files in a given directory.",args:[{name:"directory",type:"string",description:"Directory name to collect files for; if nil or absent, uses the current directory.",optional:!0},{name:"pattern",type:"string",description:'Valid wildcard pattern; if nil or absent, assumes "*.*".',optional:!0},{name:"directories",type:"integer",description:"Value to control output: -1 for directories only, 0 for files and directories (default), 1 for files only.",optional:!0}],returnType:"list"},{name:"vl-doc-export",category:"VL",description:"Makes a function available to the current document",args:[{name:"function",type:"symbol",description:"A symbol naming the function to be exported."}],returnType:"boolean"},{name:"vl-doc-import",category:"VL",description:"Imports a previously exported function into a VLX namespace.",args:[{name:"application",type:"string",description:"Name of the VLX application whose functions are to be imported. Do not include the .vlx extension."}],hasDynamicInputs:!0,dynamicInputType:"symbol",returnType:"nil"},{name:"vl-doc-ref",category:"VL",description:"Retrieves the value of a variable from the current document's namespace",args:[{name:"symbol",type:"symbol",description:"A symbol naming a variable."}],returnType:"any"},{name:"vl-doc-set",category:"VL",description:"Sets the value of a variable in the current document's namespace",args:[{name:"symbol",type:"symbol",description:"A symbol naming a variable."},{name:"value",type:"any",description:"Any value."}],returnType:"any"},{name:"vl-every",category:"List Manipulation",description:"Checks whether the predicate is true for every element combination.",args:[{name:"predicate-function",type:"symbol",description:"The test function (symbol or lambda) which accepts as many arguments as lists provided."},{name:"list",type:"list",description:"A list to be tested."}],hasDynamicInputs:!0,dynamicInputType:"list",returnType:"boolean"},{name:"vl-exit-with-error",category:"VL",description:"Passes control from an error handler to the *error* function of the calling namespace",args:[{name:"msg",type:"string",description:"Message displayed to the user."}],returnType:"none"},{name:"vl-exit-with-value",category:"VL",description:"Returns a value to the function that invoked the *error* handler from another namespace",args:[{name:"value",type:"any",description:"Any value."}],returnType:"any"},{name:"vl-file-copy",category:"File-Handling",description:"Copies or appends the contents of one file to another file",args:[{name:"source-file",type:"string",description:"Name of file to be copied. If you do not specify a full path name, vl-file-copy looks in the AutoCAD default drawing directory."},{name:"destination-file",type:"string",description:"Name of the destination file. If you do not specify a path name, vl-file-copy writes to the AutoCAD default drawing directory."},{name:"append",type:"boolean",description:"If specified and not nil, source-file is appended to destination-file (that is, copied to the end of the destination file).",optional:!0}],returnType:"integer"},{name:"vl-file-delete",category:"File-Handling",description:"Deletes a file",args:[{name:"filename",type:"string",description:"Name of the file to be deleted. If you do not specify a full path name, vl-file-delete searches the AutoCAD default drawing directory."}],returnType:"boolean"},{name:"vl-file-directory-p",category:"File-Handling",description:"Determines if a file name refers to a directory",args:[{name:"filename",type:"string",description:"File name. If you do not specify a full path name, vl-file-directory-p searches only the AutoCAD default drawing directory."}],returnType:"boolean"},{name:"vl-file-rename",category:"File-Handling",description:"Renames a file",args:[{name:"old-filename",type:"string",description:"Name of the file you want to rename. If you do not specify a full path name, vl-file-rename looks in the AutoCAD default drawing directory."},{name:"new-filename",type:"string",description:"New name to be assigned to the file.Note: If you do not specify a path name, vl-file-rename writes the renamed file to the AutoCAD default drawing directory."}],returnType:"boolean"},{name:"vl-file-size",category:"File-Handling",description:"Determines the size of a file, in bytes",args:[{name:"filename",type:"string",description:"Naming the file to be sized. If you do not specify a full path name, vl-file-size searches the AutoCAD default drawing directory for the file."}],returnType:"integer"},{name:"vl-file-systime",category:"File-Handling",description:"Returns last modification time of the specified file",args:[{name:"filename",type:"string",description:"Name of the file to be checked."}],returnType:"list"},{name:"vl-file-base",category:"File-Handling",description:"Returns the name of a file, after stripping out the directory path and extension",args:[{name:"filename",type:"string",description:"File name. The vl-filename-base function does not check to see if the file exists."}],returnType:"string"},{name:"vl-file-directory",category:"File-Handling",description:"Returns the directory path of a file, after stripping out the name and extension",args:[{name:"filename",type:"string",description:"Complete file name, including the path. The vl-filename-directory function does not check to see if the specified file exists. Slashes (/) and backslashes () are accepted as directory delimiters."}],returnType:"string"},{name:"vl-file-extension",category:"File-Handling",description:"Returns the extension from a file name, after stripping out the rest of the name",args:[{name:"filename",type:"string",description:"File name, including the extension. The vl-filename-extension function does not check to see if the specified file exists."}],returnType:"string"},{name:"vl-filename-mktemp",category:"File-Handling",description:"Calculates a unique file name to be used for a temporary file",args:[{name:"pattern",type:"string",description:"File name pattern; if nil or absent, vl-filename-mktemp uses $VL~~.",optional:!0},{name:"directory",type:"string",description:"Directory for temporary files; if nil or absent, vl-filename-mktemp chooses a directory in the following order:",optional:!0},{name:"extension",type:"string",description:"Extension to be assigned to the file; if nil or absent, vl-filename-mktemp uses the extension part of pattern (which may be an empty string).",optional:!0}],returnType:"string"},{name:"vl-list*",category:"List Manipulation",description:"Constructs and returns a list",args:[{name:"object",type:"any",description:"Any LISP object."}],hasDynamicInputs:!0,returnType:"list"},{name:"vl-list->string",category:"List Manipulation",description:"Combines the characters associated with a list of integers into a string",args:[{name:"char-codes-list",type:"list",description:"A list of non-negative integers. Each integer must be in the range of 1-65536."}],returnType:"string"},{name:"vl-list-length",category:"List Manipulation",description:"Calculates list length of a true list",args:[{name:"list-or-cons-object",type:"list|nil",description:"A true or dotted list."}],returnType:"integer|nil"},{name:"vl-member-if",category:"List Manipulation",description:"Determines if the predicate is true for one of the list members",args:[{name:"predicate-function",type:"subroutine|symbol",description:"The test function. This can be any function that accepts a single argument and returns T for any user-specified condition. The predicate-function value can take one of the following forms:"},{name:"lst",type:"list",description:"A list to be tested."}],returnType:"list|nil"},{name:"vl-member-if-not",category:"List Manipulation",description:"Determines if the predicate is nil for one of the list members",args:[{name:"predicate-function",type:"subroutine|symbol",description:"The test function. This can be any function that accepts a single argument and returns T for any user-specified condition. The predicate-function value can take one of the following forms:"},{name:"lst",type:"list",description:"A list to be tested."}],returnType:"list|nil"},{name:"vl-position",category:"List Manipulation",description:"Returns the index of the specified list item",args:[{name:"symbol",type:"any",description:"Any AutoLISP symbol."},{name:"lst",type:"list",description:"A true list."}],returnType:"integer|nil"},{name:"vl-prin1-to-string",category:"String-Handling",description:"Returns the string representation of LISP data as if it were output by the prin1 function",args:[{name:"data",type:"any",description:"Any AutoLISP data."}],returnType:"string"},{name:"vl-princ-to-string",category:"String-Handling",description:"Returns the string representation of LISP data as if it were output by the princ function",args:[{name:"data",type:"any",description:"Any AutoLISP data."}],returnType:"string"},{name:"vl-remove",category:"List Manipulation",description:"Removes elements from a list",args:[{name:"element-to-remove",type:"any",description:"The value of the element to be removed; may be any LISP data type."},{name:"lst",type:"list",description:"Any list."}],returnType:"list|nil"},{name:"vl-remove-if",category:"List Manipulation",description:"Returns all elements of the supplied list that fail the test function",args:[{name:"element-to-remove",type:"any",description:"The test function. This can be any function that accepts a single argument and returns T for any user-specified condition. The predicate-function value can take one of the following forms:"},{name:"lst",type:"list",description:"A list to be tested."}],returnType:"list|nil"},{name:"vl-remove-if-not",category:"List Manipulation",description:"Returns all elements of the supplied list that pass the test function",args:[{name:"element-to-remove",type:"any",description:"The test function. This can be any function that accepts a single argument and returns T for any user-specified condition. The predicate-function value can take one of the following forms:"},{name:"lst",type:"list",description:"A list to be tested."}],returnType:"list|nil"},{name:"vl-some",category:"List Manipulation",description:"Checks whether the predicate is not nil for one element combination",args:[{name:"predicate-function",type:"subroutine|symbol",description:"The test function. This can be any function that accepts as many arguments as there are lists provided with vl-some, and returns T on a user-specified condition. The predicate-function value can take one of the following forms:"},{name:"lst",type:"list",description:"A list to be tested."}],hasDynamicInputs:!0,dynamicInputType:"list",returnType:"list|nil"},{name:"vl-sort",category:"List Manipulation",description:"Sorts the elements in a list according to a given compare function",args:[{name:"lst",type:"list",description:"Any list to sort."},{name:"comparison-function",type:"subroutine|symbol",description:"A comparison function. This can be any function that accepts two arguments and returns T (or any non-nil value) if the first argument precedes the second in the sort order. The comparison-function value can take one of the following forms:"}],returnType:"list"},{name:"vl-sort-i",category:"List Manipulation",description:"Sorts the elements in a list according to a given compare function, and returns the element index numbers",args:[{name:"lst",type:"list",description:"Any list to sort."},{name:"comparison-function",type:"subroutine|symbol",description:"A comparison function. This can be any function that accepts two arguments and returns T (or any non-nil value) if the first argument precedes the second in the sort order. The comparison-function value can take one of the following forms:"}],returnType:"list"},{name:"vl-string->list",category:"String-Handling",description:"Converts a string into a list of character codes",args:[{name:"str",type:"string",description:"A textual value."}],returnType:"list|nil"},{name:"vl-string-elt",category:"String-Handling",description:"Returns the character code for the character at a specified position in a string",args:[{name:"str",type:"string",description:"A textual value to be inspected."},{name:"position",type:"integer",description:"A displacement in the string; the first character is displacement 0."}],returnType:"integer|error"},{name:"vl-string-left-trim",category:"String-Handling",description:"Removes the specified characters from the beginning of a string",args:[{name:"char-set",type:"string",description:"A textual value listing the characters to be removed."},{name:"str",type:"string",description:"The textual value to be stripped of char-set."}],returnType:"string"},{name:"vl-string-mismatch",category:"String-Handling",description:"Returns the length of the longest common prefix for two strings, starting at specified positions",args:[{name:"str1",type:"string",description:"The first textual value to be matched."},{name:"str2",type:"string",description:"The second textual value to be matched."},{name:"pos1",type:"integer",description:"A numeric value identifying the position to search from in the first string; 0 if omitted.",optional:!0},{name:"pos2",type:"integer",description:"A numeric value identifying the position to search from in the second string; 0 if omitted.",optional:!0},{name:"ignore-case-p",type:"T|nil",description:"If T is specified for this argument, case is ignored; otherwise, case is considered.",optional:!0}],returnType:"integer"},{name:"vl-string-position",category:"String-Handling",description:"Looks for a character with the specified character code in a string",args:[{name:"char-code",type:"integer",description:"A numeric value representation of the character to be searched."},{name:"str",type:"string",description:"The textual value to be searched."},{name:"start-pos",type:"integer",description:"The position to begin searching from in the string (first character is 0); 0 if omitted.",optional:!0},{name:"from-end-p",type:"T|nil",description:"If T is specified for this argument, the search begins at the end of the string and continues backward to pos.",optional:!0}],returnType:"integer|nil"},{name:"vl-string-right-trim",category:"String-Handling",description:"Removes the specified characters from the end of a string",args:[{name:"char-set",type:"string",description:"A textual value listing the characters to be removed."},{name:"str",type:"string",description:"The textual value to be stripped of char-set."}],returnType:"string"},{name:"vl-string-search",category:"String-Handling",description:"Searches for the specified pattern in a string",args:[{name:"pattern",type:"string",description:"The textual value containing the pattern to be searched for."},{name:"str",type:"string",description:"The textual value to be searched for pattern."},{name:"start-pos",type:"integer",description:"A numeric value identifying the starting position of the search; 0 if omitted.",optional:!0}],returnType:"integer"},{name:"vl-string-subst",category:"String-Handling",description:"Substitutes one string for another, within a string",args:[{name:"new-str",type:"string",description:"The textual value to be substituted for pattern."},{name:"pattern",type:"string",description:"The textual value containing the pattern to be replaced."},{name:"str",type:"string",description:"The textual value to be searched for pattern."},{name:"start-pos",type:"integer",description:"A numeric value identifying the starting position of the search; 0 if omitted.",optional:!0}],returnType:"string"},{name:"vl-string-translate",category:"String-Handling",description:"Replaces characters in a string with a specified set of characters",args:[{name:"source-set",type:"string",description:"Characters to be matched."},{name:"dest-set",type:"string",description:"Characters to be substituted for those in source-set."},{name:"str",type:"string",description:"The textual value to be searched and translated."}],returnType:"string"},{name:"vl-string-trim",category:"String-Handling",description:"Removes the specified characters from the beginning and end of a string ",args:[{name:"char-set",type:"string",description:"Characters to be removed."},{name:"str",type:"string",description:"The textual value to be trimmed of char-set."}],returnType:"string"},{name:"vl-symbol-name",category:"Symbol-Handling",description:"Returns a string containing the name of a symbol",args:[{name:"symbol",type:"symbol",description:"Any LISP symbol."}],returnType:"string|error"},{name:"vl-symbol-value",category:"Symbol-Handling",description:"Returns the current value bound to a symbol",args:[{name:"symbol",type:"symbol",description:"Any LISP symbol."}],returnType:"any"},{name:"vl-symbolp",category:"Symbol-Handling",description:"Identifies whether or not a specified object is a symbol",args:[{name:"object",type:"any",description:"Any LISP symbol."}],returnType:"T|nil"},{name:"vl-load-com",category:"VL",description:"Loads the extended AutoLISP functions related to ActiveX support. (Windows only)",args:[],returnType:"nil"},{name:"vl-load-reactors",category:"VL",description:"Loads reactor support functions",args:[],returnType:"nil"}],av=[{name:"vla-Activate",category:"VLA",description:"Makes the specified drawing active.",args:[{name:"Object",type:"VLA-object",description:"The Document object to make active."}],returnType:"nil"}],rv=[],sv=[],lv=[{name:"vlax-3D-point",signature:"(vlax-3D-point lst) (vlax-3D-point x y [z])",category:"VLAX",description:"Creates an ActiveX-compatible (variant) 3D point structure. Can be called with a list of 2/3 numbers, or with individual x, y, [z] coordinates. (Windows only)",args:[{name:"x_or_list",type:"any",description:"A list of 2 or 3 numbers, or the X coordinate."},{name:"y",type:"number",description:"The Y coordinate.",optional:!0},{name:"z",type:"number",description:"The Z coordinate.",optional:!0}],returnType:"any",example:`
(vlax-3D-point 5 20)
(vlax-3D-point '(33.6 44.0 90.0))    
    `},{name:"vlax-add-cmd",signature:"(vlax-add-cmd global-name func-sym [local-name cmd-flags])",category:"Query&Command",description:"Adds commands to the AutoCAD built-in command set. (Windows, Mac OS, and Web)",args:[{name:"global-name",type:"string",description:"The global name for the command."},{name:"func-sym",type:"symbol",description:"A symbol naming an AutoLISP function with zero arguments."},{name:"local-name",type:"string",description:"A local name for the command (defaults to global-name).",optional:!0},{name:"cmd-flags",type:"integer",description:"A numeric value specifying command flags (e.g., modal, transparent).",optional:!0}],returnType:"nil",example:`
(defun hello-autocad () (princ "hello Visual LISP"))
(vlax-add-cmd "hello-autocad" 'hello-autocad)    
    `},{name:"vlax-create-object",signature:"(vlax-create-object prog-id)",category:"VLAX",description:"Creates a new instance of an application object. (AutoCAD for Windows only)",args:[{name:"prog-id",type:"string",description:"Programmatic identifier of the ActiveX object, e.g., 'AutoCAD.AcCmColor.24'."}],returnType:"any"},{name:"vlax-curve-getArea",category:"VLAX",description:"Returns the area inside the curve. (Windows only)",args:[{name:"curve-obj",type:"any",description:"The VLA-object to be measured."}],returnType:"real",example:`
(vlax-create-object "Excel.Application")    
    `},{name:"vlax-curve-getClosestPointTo",signature:"(vlax-curve-getClosestPointTo curve-obj givenPnt [extend])",category:"VLAX",description:"Returns the point (in WCS) on a curve that is nearest to the specified point",args:[{name:"curve-obj",type:"VLA-object",description:"The VLA-object to be measured."},{name:"givenPnt",type:"list",description:"A point (in WCS) for which to find the nearest point on the curve."},{name:"extend",type:"boolean",description:"If specified and not nil, the curve is extended when searching.",optional:!0}],returnType:"list",example:"(vlax-curve-getClosestPointTo arcObj '(6.0 0.5 0.0))"},{name:"vlax-curve-getClosestPointToProjection",signature:"(vlax-curve-getClosestPointToProjection curve-obj givenPnt normal [extend])",category:"VLAX",description:"Returns the closest point (in WCS) on a curve after projecting the curve onto a plane",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."},{name:"givenPnt",type:"list",description:"A point (in WCS) for which to find the nearest point on the curve."},{name:"normal",type:"list",description:"A normal vector (in WCS) for the plane to project onto.",optional:!0},{name:"extend",type:"boolean",description:"If specified and not nil, the curve is extended when searching.",optional:!0}],returnType:"list"},{name:"vlax-curve-getClosestPointToProjection",signature:"(vlax-curve-getClosestPointToProjection curve-obj givenPnt normal [extend])",category:"VLAX",description:"Returns the closest point (in WCS) on a curve after projecting the curve onto a plane",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."},{name:"givenPnt",type:"list",description:"A point (in WCS) for which to find the nearest point on the curve."},{name:"normal",type:"list",description:"A normal vector (in WCS) for the plane to project onto.",optional:!0},{name:"extend",type:"boolean",description:"If specified and not nil, the curve is extended when searching.",optional:!0}],returnType:"list"},{name:"vlax-curve-getDistAtParam",signature:"(vlax-curve-getDistAtParam curve-obj param)",category:"VLAX",description:"Returns the length of the curve's segment from the curve's beginning to the specified parameter",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."},{name:"param",type:"number",description:"A number specifying a parameter on the curve."}],returnType:"real",example:`
(vlax-curve-getDistAtParam splineObj
   ( / (- endspline startspline) 2)
)
    `},{name:"vlax-curve-getDistAtPoint",category:"VLAX",description:"Returns the length of the curve's segment between the curve's start point and the specified point",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."},{name:"point",type:"list",description:"A 3D point list (in WCS) on curve-obj."}],returnType:"real",example:`
  (setq selPt (getpoint))
  (vlax-curve-getDistAtPoint splineObj selpt)`},{name:"vlax-curve-getEndParam",signature:"(vlax-curve-getEndParam curve-obj)",category:"VLAX",description:"Returns the parameter of the endpoint of the curve",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."}],returnType:"real",example:"(vlax-curve-getendparam ellipseObj)"},{name:"vlax-curve-getEndPoint",category:"VLAX",description:"Returns the endpoint (in WCS) of the curve",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."}],returnType:"list"},{name:"vlax-curve-getFirstDeriv",signature:"(vlax-curve-getFirstDeriv curve-obj param)",category:"VLAX",description:"Returns the first derivative (in WCS) of a curve at the specified location",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."},{name:"param",type:"number",description:"A number specifying a parameter on the curve."}],returnType:"list",example:`
(setq startSpline (vlax-curve-getStartParam splineObj))
(setq endSpline (vlax-curve-getEndParam splineObj))
(vlax-curve-getFirstDeriv splineObj
   ( / (- endspline startspline) 2)
)
    `},{name:"vlax-curve-getParamAtDist",category:"VLAX",description:"Returns the parameter of a curve at the specified distance from the beginning of the curve",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."},{name:"dist",type:"number",description:"A number specifying the distance from the beginning of the curve."}],returnType:"real"},{name:"vlax-curve-getParamAtPoint",category:"VLAX",description:"Returns the parameter of the curve at the point",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."},{name:"point",type:"list",description:"A 3D point (in WCS) on curve-obj."}],returnType:"real"},{name:"vlax-curve-getPointAtDist",category:"VLAX",description:"Returns the point (in WCS) along a curve at the distance specified by the user",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."},{name:"dist",type:"real",description:"The distance along the curve from the beginning of the curve to the location of the specified point."}],returnType:"list"},{name:"vlax-curve-getPointAtParam",category:"VLAX",description:"Returns the point at the specified parameter value along a curve",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."},{name:"param",type:"number",description:"A number specifying a parameter on the curve."}],returnType:"list"},{name:"vlax-curve-getSecondDeriv",category:"VLAX",description:"Returns the second derivative (in WCS) of a curve at the specified location",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."},{name:"param",type:"number",description:"A number specifying a parameter on the curve."}],returnType:"list"},{name:"vlax-curve-getStartParam",category:"VLAX",description:"Returns the start parameter on the curve",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."}],returnType:"real"},{name:"vlax-curve-getStartPoint",category:"VLAX",description:"Returns the start point (in WCS) of the curve",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be measured."}],returnType:"list"},{name:"vlax-curve-isClosed",category:"VLAX",description:"Determines if the specified curve is closed (that is, the start point is the same as the endpoint)",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be tested."}],returnType:"boolean"},{name:"vlax-curve-isPeriodic",category:"VLAX",description:"Determines if the specified curve has an infinite range in both directions and there is a period value dT, such that a point on the curve at (u + dT) = point on curve (u), for any parameter u",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be tested."}],returnType:"boolean"},{name:"vlax-curve-isPlanar",category:"VLAX",description:"Determines if there is a plane that contains the curve",args:[{name:"curve-obj",type:"VLA-object",description:"The object to be tested."}],returnType:"boolean"},{name:"vlax-dump-object",category:"Object-Handling",description:"Determines if there is a plane that contains the curve",args:[{name:"obj",type:"VLA-object",description:"An object."},{name:"flag",type:"boolean",description:"If specified and not nil, vlax-dump-object also lists all methods that apply to obj.",optional:!0}],returnType:"boolean"},{name:"vlax-ename->vla-object",category:"VLAX",description:"Transforms an entity to a VLA-object",args:[{name:"entname",type:"ename",description:"An entity name."}],returnType:"VLA-object"},{name:"vlax-erased-p",category:"Object-Handling",description:"Determines whether an object was erased",args:[{name:"obj",type:"VLA-object",description:"An object."}],returnType:"boolean"},{name:"vlax-for",category:"VLAX",description:"Iterates through a collection of objects, evaluating each expression for each object. (Windows only)",args:[{name:"symbol",type:"symbol",description:"A symbol to be assigned to each VLA-object in a collection."},{name:"collection",type:"any",description:"A VLA-object representing a collection object."}],hasDynamicInputs:!0,returnType:"any"},{name:"vlax-get-acad-object",category:"Object-Handling",description:"Retrieves the top level AutoCAD application object for the current AutoCAD session",args:[],returnType:"VLA-object"},{name:"vlax-get-object",category:"VLAX",description:"Returns a running instance of an application object",args:[{name:"prog-id",type:"string",description:"Identifies the desired application object. The format of prog-id is:"}],returnType:"VLA-object"},{name:"vlax-get-or-create-object",category:"VLAX",description:"Returns a running instance of an application object",args:[{name:"prog-id",type:"string",description:"Programmatic identifier of the desired ActiveX object. The format of prog-id is <Vendor>.<Component>.<Version>"}],returnType:"VLA-object"},{name:"vlax-get-property",category:"VLAX",description:"Retrieves a VLA-object's property",args:[{name:"object",type:"VLA-object",description:"An object."},{name:"property",type:"symbol|string",description:"Name of the property to be retrieved."}],returnType:"any"},{name:"vlax-import-type-library",category:"VLAX",description:"Imports information from a type library. (Windows only)",args:[{name:"filename",type:"string",description:"Name of the type library file (.tlb, .olb, .exe, .dll). Keyword: :tlb-filename"},{name:"mprefix",type:"string",description:"Prefix for method wrapper functions. Keyword: :methods-prefix",optional:!0},{name:"pprefix",type:"string",description:"Prefix for property wrapper functions. Keyword: :properties-prefix",optional:!0},{name:"cprefix",type:"string",description:"Prefix for constants. Keyword: :constants-prefix",optional:!0}],returnType:"boolean"},{name:"vlax-invoke-method",category:"VLAX",description:"Calls the specified ActiveX method. Add arguments for the method using the '+' button.",args:[{name:"obj",type:"VLA-object",description:"The VLA-object whose method is being called."},{name:"method",type:"symbol|string",description:"A symbol or string naming the method to be called."}],hasDynamicInputs:!0,returnType:"any"},{name:"vlax-ldata-delete",category:"VLAX",description:"Erases LISP data from a drawing dictionary",args:[{name:"dict",type:"VLA-object|string",description:"An object, AutoCAD drawing entity object, or a string naming a global dictionary."},{name:"key",type:"string",description:"Dictionary key."},{name:"private",type:"boolean",description:"If a non-nil value is specified for private and vlax-ldata-delete is called from a separate-namespace VLX, vlax-ldata-delete deletes private LISP data from dict.",optional:!0}],returnType:"any"},{name:"vlax-method-applicable-p",category:"Object-Handling",description:"Determines if an object supports a particular method",args:[{name:"obj",type:"VLA-object",description:"An object"},{name:"method",type:"symbol|string",description:"A symbol or string containing the name of the method to be checked."}],returnType:"T|nil"},{name:"vlax-object-released-p",category:"Object-Handling",description:"Determines if an object has been released",args:[{name:"obj",type:"VLA-object",description:"An object"}],returnType:"T|nil"},{name:"vlax-read-enabled-p",category:"Object-Handling",description:"Determines if an object can be read",args:[{name:"obj",type:"VLA-object",description:"An object"}],returnType:"T|nil"},{name:"vlax-release-object",category:"Object-Handling",description:"Releases a drawing object",args:[{name:"obj",type:"VLA-object",description:"After release, the drawing object is no longer accessible through obj."}],returnType:"integer|error"},{name:"vlax-remove-cmd",category:"Query&Command",description:"Removes a single command or a command group",args:[{name:"global-name",type:"string|T",description:"Name of the command, or T. If global-name is T, the whole command group VLC-AppName (for example, VLC-VLIDE) is deleted."}],returnType:"T|nil"},{name:"vlax-typeinfo-available-p",category:"Object-Handling",description:"Determines whether TypeLib information is present for the specified type of object",args:[{name:"obj",type:"VLA-object",description:"An object."}],returnType:"T|nil"},{name:"vlax-write-enabled-p",category:"Object-Handling",description:"Determines if an AutoCAD drawing object can be modified",args:[{name:"obj",type:"VLA-object|ename",description:"An object or entity name."}],returnType:"T|nil"}],uv=[{name:"vlr-acdb-reactor",category:"VLR",description:"Constructs a reactor object that notifies when an object is added to, modified in, or erased from a drawing database",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with a reactor object; otherwise nil, if no data.",optional:!0},{name:"callbacks",type:"list",description:"A list of pairs of the following form: (event-name . callback_function)"}],returnType:"VLR-object"},{name:"vlr-add",category:"VLR",description:"Enables a disabled reactor object",args:[{name:"obj",type:"VLR-object",description:"A object representing the reactor to be enabled."}],returnType:"VLR-object"},{name:"vlr-added-p",category:"VLR",description:"Tests to determine if a reactor object is enabled",args:[{name:"obj",type:"VLR-object",description:"A object representing the reactor to be tested."}],returnType:"T|nil"},{name:"vlr-beep-reaction",category:"VLR",description:"Produces a beep sound",args:[],hasDynamicInputs:!0,dynamicInputType:"any",returnType:"nil"},{name:"vlr-command-reactor",category:"VLR",description:"Constructs an editor reactor that notifies of a command event",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data is to be associated with the reactor."},{name:"callbacks",type:"list",description:"A list of pairs of the following form: (event-name . callback_function )"}],returnType:"VLR-object"},{name:"vlr-current-reaction-name",category:"VLR",description:"Returns the name (symbol) of the current event, if called from within a reactor's callback",args:[],returnType:"VLR-object"},{name:"vlr-data",category:"VLR",description:"Returns application-specific data associated with a reactor",args:[{name:"obj",type:"VLR-object",description:"A object representing the reactor object from which to extract data."}],returnType:"any"},{name:"vlr-data-set",category:"VLR",description:"Overwrites application-specific data associated with a reactor",args:[{name:"obj",type:"VLR-object",description:"A object representing the reactor object whose data is to be overwritten."},{name:"data",type:"any",description:"Any AutoLISP data."}],returnType:"any"},{name:"vlr-deepclone-reactor",category:"VLR",description:"Overwrites application-specific data associated with a reactor",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-docmanager-reactor",category:"VLR",description:"Constructs a reactor object that notifies of events relating to drawing documents",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-dwg-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of a drawing event (for example, opening or closing a drawing file)",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-dxf-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of an event related to reading or writing a DXF file",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-editor-reactor",category:"VLR",description:"Constructs an editor reactor object",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-insert-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of an event related to block insertion",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-linker-reactor",category:"VLR",description:"Constructs a reactor object that notifies your application every time an ObjectARX application is loaded or unloaded",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-lisp-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of a LISP event",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-miscellaneous-reactor",category:"VLR",description:"Constructs an editor reactor object that does not fall under any other editor reactor types",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-mouse-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of a mouse event (for example, a double-click)",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-notification",category:"VLR",description:"Determines whether or not a reactor will fire if its associated namespace is not active",args:[{name:"reactor",type:"VLR-object",description:"An object."}],returnType:"symbol"},{name:"vlr-object-reactor",category:"VLR",description:"Constructs a drawing object reactor object",args:[{name:"owners",type:"list",description:"An AutoLISP list of VLA-objects identifying the drawing objects to be watched."},{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-owner-add",category:"VLR",description:"Adds an object to the list of owners of an object reactor",args:[{name:"reactor",type:"VLR-object",description:"An object."},{name:"owner",type:"VLR-object",description:"An object to be added to the list of notifiers for this reactor."}],returnType:"VLA-object"},{name:"vlr-owner-remove",category:"VLR",description:"Removes an object from the list of owners of an object reactor",args:[{name:"reactor",type:"VLR-object",description:"An object."},{name:"owner",type:"VLR-object",description:"An object to be added to the list of notifiers for this reactor."}],returnType:"VLA-object"},{name:"vlr-owner",category:"VLR",description:"Returns the list of owners of an object reactor",args:[{name:"reactor",type:"VLR-object",description:"An object to be added to the list of notifiers for this reactor."}],returnType:"lsit"},{name:"vlr-pers-list",category:"VLR",description:"Returns a list of persistent reactors in the current drawing document",args:[{name:"reactor",type:"VLR-object",description:"The reactor object to be listed. If reactor is not specified, vlr-pers-list lists all persistent reactors.",optional:!0}],returnType:"lsit"},{name:"vlr-pers-p",category:"VLR",description:"Determines whether a reactor is persistent",args:[{name:"reactor",type:"VLR-object",description:"An object."}],returnType:"VLR-object|nil"},{name:"vlr-pers",category:"VLR",description:"Makes a reactor persistent",args:[{name:"reactor",type:"VLR-object",description:"An object."}],returnType:"VLR-object|nil"},{name:"vlr-pers-release",category:"VLR",description:"Makes a reactor transient",args:[{name:"reactor",type:"VLR-object",description:"An object."}],returnType:"VLR-object|nil"},{name:"vlr-reaction-name",category:"VLR",description:"Makes a reactor transient",args:[{name:"reactor-type",type:"symbol",description:"One of the following:"}],returnType:"list"},{name:"vlr-reaction-set",category:"VLR",description:"Adds or replaces a callback function in a reactor",args:[{name:"reactor",type:"VLR-object",description:"An object."},{name:"event",type:"symbol",description:"A symbol denoting one of the event types available for this reactor type."},{name:"function",type:"symbol",description:"A symbol representing the AutoLISP function to be added or replaced."}],returnType:"symbol"},{name:"vlr-reactions",category:"VLR",description:"Returns a list of pairs (event-name . callback_function) for the reactor",args:[{name:"reactor",type:"VLR-object",description:"An object."}],returnType:"list"},{name:"vlr-reactors",category:"VLR",description:"Returns a list of existing reactors",args:[{name:"reactor-type",type:"symbol",description:"An object.",optional:!0}],hasDynamicInputs:!0,dynamicInputType:"reactor-type",returnType:"list"},{name:"vlr-remove",category:"VLR",description:"Disables a reactor",args:[{name:"reactor",type:"VLR-object",description:"An object."}],returnType:"VLR-object|nil"},{name:"vlr-remove-all",category:"VLR",description:"Disables all reactor",args:[{name:"reactor-type",type:"symbol",description:"If no reactor-type is specified, vlr-remove-all disables all reactors."}],returnType:"list"},{name:"vlr-set-notification",category:"VLR",description:"Defines whether a reactor's callback function will execute if its associated namespace is not active",args:[{name:"reactor",type:"VLR-object",description:"The range argument is a symbol that can be either 'all-documents (execute the callback regardless of whether the reactor is associated with the active document), or 'active-document-only (execute the callback only if the reactor is associated with the active document)."}],returnType:"VLR-object"},{name:"vlr-sysvar-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of a change to a system variable",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-toolbar-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of a change to the bitmaps in a toolbar",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-trace-reactor",category:"VLR",description:"A predefined callback function that prints one or more callback arguments in the Trace window",args:[],returnType:"nil"},{name:"vlr-type",category:"VLR",description:"Returns a list of pairs (event-name . callback_function) for the reactor",args:[{name:"reactor",type:"VLR-object",description:"An object."}],returnType:"symbol"},{name:"vlr-types",category:"VLR",description:"Returns a list of all reactor types",args:[],returnType:"list"},{name:"vlr-undo-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of a change to the bitmaps in a toolbar",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-wblock-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of an event related to writing a block",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-window-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of an event related to moving or sizing an AutoCAD window",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"},{name:"vlr-xref-reactor",category:"VLR",description:"Constructs an editor reactor object that notifies of an event related to attaching or modifying XREFs",args:[{name:"data",type:"any",description:"Any AutoLISP data to be associated with the reactor object; otherwise nil if no data."},{name:"callbacks",type:"list",description:"A list of pairs of the following form:"}],returnType:"VLR-object"}],Ko=[...V0,...H0,...O0,...k0,...j0,...z0,...B0,...P0,...q0,...F0,...G0,...Y0,...X0,...$0,...K0,...U0,...J0,...Q0,...Z0,...W0,...ev,...tv,...nv,...I0,...ov,...iv,...av,...rv,...sv,...lv,...uv],js=new Map(Ko.map(a=>[a.name,a])),Mm="___OMIT_ARG___",cv=[{name:"Disallow null input",value:1,key:"disallowNull"},{name:"Disallow zero values",value:2,key:"disallowZero"},{name:"Disallow negative values",value:4,key:"disallowNegative"},{name:"Allow input outside limits",value:8,key:"allowOutsideLimits"},{name:"Use dashed lines for box",value:32,key:"useDashedLines"},{name:"Disallow text input",value:128,key:"disallowTextInput"}],dv=[{name:"Enable drag mode",value:1,key:"dragMode"},{name:"Return all keys",value:2,key:"allKeys"},{name:"Use curtype",value:4,key:"useCurtype"},{name:"Suppress ESC error",value:8,key:"suppressEsc"}],fv=[{name:"Allow non-existent file",value:1,key:"allowNonExistent"},{name:"Use literal default name",value:2,key:"literalDefault"},{name:"Allow URLs",value:4,key:"allowUrl"},{name:"defext is filter list",value:8,key:"defextIsFilter"},{name:"Do not transfer file",value:16,key:"noTransfer"},{name:"Replace without warning",value:32,key:"noWarningReplace"},{name:"Disable UNC support",value:64,key:"disableUnc"},{name:"Select directory only",value:128,key:"selectDirectory"}],pv=[{name:"clear (0)",value:0},{name:"AND",value:1},{name:"AND NOT",value:2},{name:"int1",value:3},{name:"NOT AND",value:4},{name:"int2",value:5},{name:"XOR",value:6},{name:"OR",value:7},{name:"NOR",value:8},{name:"XNOR",value:9},{name:"NOT int2",value:10},{name:"OR NOT",value:11},{name:"NOT int1",value:12},{name:"NOT OR",value:13},{name:"NAND",value:14},{name:"set (1)",value:15}],Ci=new Map([["initget-bits",cv],["grread-allkeys",dv],["getfiled-flags",fv]]),fc=new Map([["getstring-cr",{label:"Allow Spaces in Input"}],["acad_colordlg-flag",{label:"Enable ByLayer/ByBlock"}],["acad_truecolordlg-allowbylayer",{label:"Enable ByLayer/ByBlock"}],["acdimenableupdate-flag",{label:"Enable Auto Update"}],["acet-layerp-mode-status",{label:"Set LAYERPMODE On"}],["vlax-dump-object-flag",{label:"Include Methods in Dump"}]]),mv=[{name:'Open for reading. ("r")',value:"r"},{name:'Open for writing. ("w")',value:"w"},{name:'Open for appending. ("a")',value:"a"}],fr=new Map([["open-mode",mv]]),gv=[{name:"Return calibration data (0)",value:0},{name:"Set calibration data (1)",value:1}],Dm=[{name:"Degrees (0)",value:0},{name:"Degrees/minutes/seconds (1)",value:1},{name:"Grads (2)",value:2},{name:"Radians (3)",value:3},{name:"Surveyor's units (4)",value:4}],_m=[{name:"0",value:0},{name:"0.0",value:1},{name:"0.00",value:2},{name:"0.000",value:3},{name:"0.0000",value:4},{name:"0.00000",value:5},{name:"0.000000",value:6},{name:"0.0000000",value:7},{name:"0.00000000",value:8}],hv=[{name:"Scientific (1)",value:1},{name:"Decimal (2)",value:2},{name:"Engineering (3)",value:3},{name:"Architectural (4)",value:4},{name:"Fractional (5)",value:5}],yv=[{name:"Scientific (1)",value:1},{name:"Decimal (2)",value:2},{name:"Engineering (3)",value:3},{name:"Architectural (4)",value:4},{name:"Fractional (5)",value:5}],vv=[{name:"Show entity (1)",value:1},{name:"Hide entity (2)",value:2},{name:"Highlight entity (3)",value:3},{name:"Unhighlight entity (4)",value:4}],Rm=[{name:"WCS (0)",value:0},{name:"UCS (1)",value:1},{name:"DCS (2)",value:2},{name:"PSDCS (3)",value:3}],en=new Map([["tablet-code",gv],["angtof-units",Dm],["angtos-unit",Dm],["angtos-precision",_m],["distof-mode",hv],["redraw-mode",vv],["rtos-mode",yv],["rtos-precision",_m],["trans-from",Rm],["trans-to",Rm]]),Ls=(a,o)=>{const n=new Map(o.map(r=>[r.key,r.value]));return Object.keys(a.inputValues).reduce((r,l)=>a.inputValues[l]==="true"&&n.has(l)?r+(n.get(l)||0):r,0)},Ti=a=>a.inputValues.value==="true"?"T":"nil",zs=a=>{if(!a)return null;const o=a.trim().replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"");return/^\d+$/.test(o)?`var_${o}`:o||null},Ec=(a,o)=>{const n=new Map,r=new Map(a.map(l=>[l.id,l]));for(const l of a){const c=o.filter(h=>h.fromNode===l.id);let m=null;if(c.length>0)for(const h of c){const v=r.get(h.toNode);if(v?.dynamicInputs&&["progn","command","defun","defun-q","lambda"].includes(v.functionName)){const g=v.dynamicInputs.find(b=>b.name===h.toSocket);if(g?.label&&(m=zs(g.label),m))break}}n.set(l.id,m||`var_${l.id}`)}return n},bv=(a,o,n)=>{const r=new Map(o.map(h=>[h.id,h])),l=new Map,c=[a],m=new Set;for(;c.length>0;){const h=c.shift();if(m.has(h))continue;if(m.add(h),h!==a){const g=r.get(h);g&&l.set(h,g)}const v=n.filter(g=>g.toNode===h);for(const g of v)m.has(g.fromNode)||c.push(g.fromNode)}return Array.from(l.values())},Bs=(a,o,n)=>{if(o.map(l=>l.text).join("").includes(`
`)){const l=o.map(c=>({...c,text:c.text.replace(/\n/g,`
  `)}));return[{nodeId:n,text:`(setq ${a}
  `},...l,{nodeId:n,text:`
)`}]}return[{nodeId:n,text:`(setq ${a} `},...o,{nodeId:n,text:")"}]},qg=(a,o,n,r,l,c,m)=>{const h=[],v=a.functionName==="lambda",g=a.functionName==="defun-q",b=a.dynamicArgs?.map(w=>w.name).filter(Boolean)||[],T=`(${b.join(" ")})`;if(v)h.push({nodeId:a.id,text:`${r}(lambda ${T}`});else{const E=g?"defun-q":"defun",I=a.inputValues.sym||"",z=a.dynamicVars?.map(M=>M.name).filter(Boolean)||[];let G=`(${b.join(" ")}`;z.length>0&&(G+=` / ${z.join(" ")}`),G+=")",h.push({nodeId:a.id,text:`${r}(${E} `}),h.push({nodeId:a.id,text:I,inputKey:"sym"}),h.push({nodeId:a.id,text:` ${G}`})}const C=[],N=new Map(o.map(w=>[w.id,w])),D=`${r}  `;if(a.dynamicInputs&&a.dynamicInputs.length>0)for(const w of a.dynamicInputs){const E=zs(w.label),I=n.find(M=>M.toNode===a.id&&M.toSocket===w.name);let z=null,G=a.id;if(I){const M=l.get(I.fromNode);M&&(z=Rn(M,n,N,c,l,m,D),G=M.id)}else w.value&&w.value.trim()!==""&&(z=[{nodeId:a.id,text:w.value.trim(),inputKey:w.id}]);z&&(E?C.push(Bs(E,z,G)):C.push(z))}return C.length>0&&C.forEach(w=>{h.push({nodeId:null,text:`
${D}`}),h.push(...w)}),h.push({nodeId:a.id,text:`
${r})`}),h},ws=a=>["defun","defun-q","lambda"].includes(a.functionName),xv=(a,o)=>{const n=a,r=a.filter(E=>{const I=js.get(E.functionName);return I&&!I.isUtility});if(r.length===0)return[{nodeId:null,text:";; No functional nodes on canvas."}];const l=new Map(n.map(E=>[E.id,E])),c=Ec(r,o),m=new Set,h=[],v=new Set(r.filter(ws).map(E=>E.id)),g=new Set;for(const E of o)v.has(E.fromNode)&&(l.get(E.fromNode).functionName==="lambda"||l.get(E.toNode)?.dynamicInputs?.some(G=>G.name===E.toSocket))&&g.add(E.fromNode);const b=r.filter(E=>ws(E)&&!g.has(E.id)),T=r.filter(ws),C=new Set;T.forEach(E=>{C.add(E.id);const I=o.filter(z=>z.toNode===E.id&&E.dynamicInputs?.some(G=>G.name===z.toSocket));I.length>0&&I.map(G=>G.fromNode).forEach(G=>{C.add(G),bv(G,n,o).forEach(M=>C.add(M.id))})});for(const E of b)h.push(...qg(E,n,o,"",l,c,m)),h.push({nodeId:null,text:`

`});const D=r.filter(E=>!C.has(E.id)&&!ws(E)).filter(E=>E.functionName==="code-block"?o.some(I=>I.fromNode===E.id):!0);if(D.length>0){const E=Nv(D,o);if(!E)h.push({nodeId:null,text:";; Error: Circular dependency detected in main script."});else{const I=E.length>0?E[E.length-1].id:void 0;h.push(...Ev(E,o,I,D,c,"",l,m))}}return h.map(E=>E.text).join("").trim()===""?[{nodeId:null,text:";; Diagram is empty or contains only function definitions."}]:h},Tv=(a,o,n,r,l,c,m)=>{const h=new Map(Array.from(r.values()).map(b=>[b.id,b])),v=b=>{const T=r.get(b);if(!T)return{text:"nil"};if(["defun","defun-q","lambda"].includes(T.functionName)){const w=T.inputValues.sym||"";if(T.functionName==="lambda"){const E=`${m}  `;return Rn(T,n,h,l,r,c,E)}return{text:`'${w}`}}if(n.filter(D=>D.fromNode===T.id).length>1||c.has(b))return{text:l.get(b)};const N=`${m}  `;return Rn(T,n,h,l,r,c,N)},g=[];for(const b of o.args){const T=n.find(N=>N.toNode===a.id&&N.toSocket===b.name),C=a.inputValues[b.name];if(T)g.push(v(T.fromNode));else if(C&&C.trim()!=="")g.push({text:pc(C,b.type),inputKey:b.name});else if(b.optional)g.push({text:Mm});else{const N=wv(b.type);g.push({text:pc(N,b.type),inputKey:b.name})}}return g.filter(b=>Array.isArray(b)?!0:b.text!==Mm)},Cv=(a,o,n,r,l,c)=>{const m=[],h=new Map(Array.from(n.values()).map(b=>[b.id,b])),v=`${c}  `;if(a.dynamicInputs)for(const b of a.dynamicInputs){const T=zs(b.label),C=o.find(w=>w.toNode===a.id&&w.toSocket===b.name);let N=null,D=a.id;if(C){const w=n.get(C.fromNode);w&&(N=Rn(w,o,h,r,n,l,v),D=w.id)}else b.value&&b.value.trim()!==""&&(N=[{nodeId:a.id,text:b.value.trim(),inputKey:b.id}]);N&&(T?m.push(Bs(T,N,D)):m.push(N))}const g=[{nodeId:a.id,text:"(progn"}];return m.length>0?(m.forEach(b=>{g.push({nodeId:null,text:`
${v}`}),g.push(...b)}),g.push({nodeId:a.id,text:`
${c})`})):g.push({nodeId:a.id,text:")"}),g},Av=(a,o,n,r,l,c)=>{const m=[{nodeId:a.id,text:"(cond"}],h=new Map(Array.from(n.values()).map(g=>[g.id,g])),v=`${c}  `;if(a.dynamicInputs&&a.dynamicInputs.length>0){for(let g=0;g<a.dynamicInputs.length;g+=2){const b=a.dynamicInputs[g],T=a.dynamicInputs[g+1];if(!b||!T)continue;const C=[],N=`${v} `,D=o.find(E=>E.toNode===a.id&&E.toSocket===b.name);if(D){const E=n.get(D.fromNode);if(E){const I=Rn(E,o,h,r,n,l,N);C.push(...I)}}else C.push({nodeId:a.id,text:(b.value||"nil").trim(),inputKey:b.id});C.push({nodeId:null,text:" "});const w=o.find(E=>E.toNode===a.id&&E.toSocket===T.name);if(w){const E=n.get(w.fromNode);if(E){const I=Rn(E,o,h,r,n,l,N);C.push(...I)}}else C.push({nodeId:a.id,text:(T.value||"nil").trim(),inputKey:T.id});m.push({nodeId:null,text:`
${v}(`}),m.push(...C),m.push({nodeId:null,text:")"})}m.push({nodeId:a.id,text:`
${c})`})}else m.push({nodeId:a.id,text:")"});return m},Sv=(a,o,n,r,l,c,m,h)=>{const v=o.name==="caller",g=v?a.inputValues.function_name||"nil":o.name,b=[{nodeId:a.id,text:`(${g}`}],T=v?[]:Tv(a,o,n,c,l,m,h);if(o.hasDynamicInputs&&a.dynamicInputs)for(const N of a.dynamicInputs){const D=n.find(w=>w.toNode===a.id&&w.toSocket===N.name);if(D){const w=c.get(D.fromNode);if(w){const E=`${h}  `,I=Rn(w,n,r,l,c,m,E),z=zs(N.label),G=js.get(w.functionName);z&&G?.returnType?T.push(Bs(z,I,w.id)):T.push(I)}}else N.value&&N.value.trim()!==""?T.push({text:N.value,inputKey:N.id}):T.push({text:"nil",inputKey:N.id})}if(!T.some(N=>Array.isArray(N))&&T.length>0)T.forEach(N=>{b.push({nodeId:null,text:" "}),Array.isArray(N)?b.push(...N):b.push({nodeId:a.id,text:N.text,inputKey:N.inputKey})}),b.push({nodeId:a.id,text:")"});else if(T.length>0){const N=`${h}  `;let D=!1;T.forEach(w=>{const E=Array.isArray(w);if(E||D){if(b.push({nodeId:null,text:`
${N}`}),E)b.push(...w);else{const I=w;b.push({nodeId:a.id,text:I.text,inputKey:I.inputKey})}D=!0}else{b.push({nodeId:null,text:" "});const I=w;b.push({nodeId:a.id,text:I.text,inputKey:I.inputKey})}}),D?b.push({nodeId:null,text:`
${h})`}):b.push({nodeId:a.id,text:")"})}else b.push({nodeId:a.id,text:")"});return b},Rn=(a,o,n,r,l,c,m)=>{if(["defun","defun-q","lambda"].includes(a.functionName))return qg(a,Array.from(l.values()),o,m,l,r,c);if(a.functionName==="code-block")return[{nodeId:a.id,text:a.codeBlockValue||"(princ)"}];if(Ci.has(a.functionName)){const v=Ci.get(a.functionName);return[{nodeId:a.id,text:String(Ls(a,v))}]}if(fc.has(a.functionName))return[{nodeId:a.id,text:Ti(a)}];if(a.functionName==="boole-operator")return[{nodeId:a.id,text:a.inputValues.operator||"1"}];if(a.functionName==="acad_colordlg-colornum"){const v=a.inputValues.value||"0";return[{nodeId:a.id,text:String(v)}]}if(fr.has(a.functionName)){const v=fr.get(a.functionName),g=v.length>0?v[0].value:"",b=a.inputValues.value||g;return[{nodeId:a.id,text:`"${b}"`}]}if(en.has(a.functionName)){const v=en.get(a.functionName),g=v.length>0?v[0].value:0,b=a.inputValues.value||String(g);return[{nodeId:a.id,text:String(b)}]}if(a.functionName==="dxf-code-selector"){const v=a.inputValues.value||"0";return[{nodeId:a.id,text:String(v)}]}if(a.functionName==="cvunit-helper"){const v=a.inputValues.unit||"";return[{nodeId:a.id,text:`"${v}"`}]}const h=js.get(a.functionName);if(!h)return console.error(`Unknown function '${a.functionName}' encountered during code generation.`),[{nodeId:a.id,text:`;; ERROR: Unknown function '${a.functionName}'.`}];if(a.functionName==="progn")return Cv(a,o,l,r,c,m);if(a.functionName==="cond")return Av(a,o,l,r,c,m);if(a.functionName==="vlax-import-type-library"){const v={filename:":tlb-filename",mprefix:":methods-prefix",pprefix:":properties-prefix",cprefix:":constants-prefix"};let g="";const b=[{nodeId:a.id,text:`(${a.functionName}`}];for(const T of h.args){const C=o.find(w=>w.toNode===a.id&&w.toSocket===T.name),N=a.inputValues[T.name];let D=null;if(C){const w=l.get(C.fromNode);w&&(D=Rn(w,o,n,r,l,c,"").map(E=>E.text).join(""))}else N&&N.trim()!==""&&(D=pc(N,T.type));if(D){const w=v[T.name];w&&(g+=` ${w} ${D}`)}}return b.push({nodeId:a.id,text:g+")"}),b}return Sv(a,h,o,n,r,l,c,m)},wv=a=>{switch(a){case"string":return'""';case"number":case"integer":case"real":return"0";case"point":return"'(0 0 0)";case"boolean":return"nil";case"list":return"'()";default:return"nil"}},pc=(a,o)=>o==="string"&&!a.startsWith('"')&&!a.endsWith('"')?`"${a.replace(/"/g,'\\"')}"`:a,Nv=(a,o)=>{const n=new Map,r=new Map,l=new Map(a.map(v=>[v.id,v])),c=new Set(a.map(v=>v.id));for(const v of a)n.set(v.id,0),r.set(v.id,[]);for(const v of o)c.has(v.fromNode)&&c.has(v.toNode)&&(r.get(v.fromNode)?.push(v.toNode),n.set(v.toNode,(n.get(v.toNode)||0)+1));const m=[];for(const[v,g]of n.entries())g===0&&m.push(v);const h=[];for(;m.length>0;){const v=m.shift(),g=l.get(v);g&&h.push(g);for(const b of r.get(v)||[]){const T=(n.get(b)||1)-1;n.set(b,T),T===0&&m.push(b)}}return h.length!==a.length?null:h},Ev=(a,o,n,r,l,c,m,h,v)=>{const g=[],b=new Map(r.map(T=>[T.id,T]));return a.forEach((T,C)=>{if(h.has(T.id))return;const N=js.get(T.functionName);if(!N)return;const D=o.filter(M=>M.fromNode===T.id),w=T.id===n,E=N.returnType!==null&&D.length>1;let I=!1;if(I=w||E||D.length===0,!I)return;const z=Rn(T,o,b,l,m,h,c);let G;if(E&&!w){const M=l.get(T.id);G=Bs(M,z,T.id)}else G=z;C>0&&g.length>0&&g[g.length-1].text!==`

`&&g.push({nodeId:null,text:`
`}),g.push(...G),N.returnType&&D.length>0&&h.add(T.id)}),g},Ps=(a,o)=>{const n=Array.isArray(a)?a:[a],r=new Set(n),l=[...n];for(;l.length>0;){const c=l.shift();for(const m of o.filter(h=>h.toNode===c))r.has(m.fromNode)||(r.add(m.fromNode),l.push(m.fromNode))}return r},Lm=a=>{if(a.height)return a.height;switch(a.functionName){case"note":return 44;case"image":return 150;case"chat":return 300;default:return 200}},Mv=(a,o,n)=>{const r=Ps(a.id,n),l=o.filter(h=>r.has(h.id));if(l.length===0)return{x1:a.x,y1:a.y,x2:a.x+(a.width||300),y2:a.y+Lm(a)};const c=l.map(h=>[h.x,h.x+(h.width||300)]).flat(),m=l.map(h=>[h.y,h.y+Lm(h)]).flat();return{x1:Math.min(...c),y1:Math.min(...m),x2:Math.max(...c),y2:Math.max(...m)}},Dv=(a,o,n,r,l)=>{const c={left:a,top:o,right:a+n,bottom:o+r};for(const m of l){const h=m.width||(m.functionName==="chat"?400:300);let v;if(m.height)v=m.height;else switch(m.functionName){case"note":v=44;break;case"image":v=150;break;case"chat":v=300;break;default:v=200}const g={left:m.x,top:m.y,right:m.x+h,bottom:m.y+v};if(c.left<g.right&&c.right>g.left&&c.top<g.bottom&&c.bottom>g.top)return!0}return!1},_v=(a,o,n,r,l)=>{let c=o;const m=25;for(;Dv(a,c,n,r,l);)c+=m;return{x:a,y:c}},Rv=(a,o)=>{const{nodes:n,connections:r}=a,l=new Map(Ko.map(S=>[S.name,S])),c=V.useCallback((S,J)=>{o(k=>{const{x:B,y:ce}=J,ie=S.name==="chat"?400:S.name==="image"?250:300;let Z;switch(S.name){case"note":Z=44;break;case"image":Z=150;break;case"chat":Z=300;break;default:Z=200}const{x:fe,y:ue}=_v(B,ce,ie,Z,k.nodes),de={id:$o(),functionName:S.name,x:fe,y:ue,inputValues:{},...S.hasDynamicArgs?{dynamicArgs:[]}:{},...S.name==="defun"||S.name==="defun-q"?{dynamicVars:[]}:{},...S.hasDynamicInputs?{dynamicInputs:[]}:{},...S.hasCodeBlock||S.isUtility?{codeBlockValue:S.name==="note"?"My Note...":S.name==="image"?"":'(princ "Hello from Code Block!")'}:{},...S.name==="chat"?{chatHistory:[],width:400,height:300,selectedModel:"gemini-2.5-flash"}:{},...S.name==="image"?{width:250,height:150}:{},...S.name==="note"?{width:300,height:44}:{}};return{...k,nodes:[...k.nodes,de]}})},[o]),m=V.useCallback(S=>{const J=new Map(S.map(k=>[k.id,{x:k.x,y:k.y}]));o(k=>({...k,nodes:k.nodes.map(B=>{const ce=J.get(B.id);return ce?{...B,...ce}:B})}))},[o]),h=V.useCallback((S,J,k)=>{o(B=>({...B,nodes:B.nodes.map(ce=>ce.id===S?{...ce,width:J,height:k}:ce)}))},[o]),v=V.useCallback((S,J,k)=>{o(B=>({...B,nodes:B.nodes.map(ce=>ce.id===S?{...ce,inputValues:{...ce.inputValues,[J]:k}}:ce)}))},[o]),g=V.useCallback((S,J)=>{o(k=>({...k,nodes:k.nodes.map(B=>B.id===S?{...B,codeBlockValue:J}:B)}))},[o]),b=V.useCallback((S,J)=>{o(k=>({...k,nodes:k.nodes.map(B=>B.id===S?{...B,color:J}:B)}))},[o]),T=V.useCallback((S,J)=>{o(k=>({...k,nodes:k.nodes.map(B=>B.id===S?{...B,selectedModel:J}:B)}))},[o]),C=V.useCallback((S,J)=>{o(k=>({...k,nodes:k.nodes.map(B=>B.id===S?{...B,dynamicArgs:J}:B)}))},[o]),N=V.useCallback((S,J)=>{o(k=>({...k,nodes:k.nodes.map(B=>B.id===S?{...B,dynamicVars:J}:B)}))},[o]),D=V.useCallback((S,J)=>{o(k=>({...k,nodes:k.nodes.map(B=>B.id===S?{...B,dynamicInputs:J}:B)}))},[o]),w=V.useCallback(S=>{o(J=>{let k=[...J.connections].filter(ce=>!(ce.toNode===S.toNode&&ce.toSocket===S.toSocket));S.fromSocket==="__ai_output"&&(k=k.filter(ce=>!(ce.fromNode===S.fromNode&&ce.fromSocket==="__ai_output")));const B={...S,id:la()};return{...J,connections:[...k,B]}})},[o]),E=V.useCallback((S,J,k)=>{o(B=>{const ce=B.connections.filter(ie=>!(ie.toNode===J&&ie.toSocket===k&&ie.id!==S));return{...B,connections:ce.map(ie=>ie.id===S?{...ie,toNode:J,toSocket:k}:ie)}})},[o]),I=V.useCallback(S=>{o(J=>({...J,connections:J.connections.filter(k=>k.id!==S)}))},[o]),z=V.useCallback(S=>{const J=r.filter(Z=>Z.fromNode===S);if(J.length===0){o(Z=>({nodes:Z.nodes.filter(fe=>fe.id!==S),connections:Z.connections.filter(fe=>fe.fromNode!==S&&fe.toNode!==S)}));return}const k=n.find(Z=>Z.id===S);if(!k)return;const B=new Map(n.map(Z=>[Z.id,Z])),ce=Ec(n,r),ie=Rn(k,r,B,ce,B,new Set,"").map(Z=>Z.text).join("");o(Z=>{const fe=new Map;for(const ue of J){const de=fe.get(ue.toNode)||Z.nodes.find(he=>he.id===ue.toNode);if(de){const he=l.get(de.functionName);let O=null;he?.args.some(re=>re.name===ue.toSocket)?O={...de,inputValues:{...de.inputValues,[ue.toSocket]:ie}}:he?.hasDynamicInputs&&de.dynamicInputs&&(O={...de,dynamicInputs:de.dynamicInputs.map(re=>re.name===ue.toSocket?{...re,value:ie}:re)}),O&&fe.set(ue.toNode,O)}}return{nodes:Z.nodes.filter(ue=>ue.id!==S).map(ue=>fe.get(ue.id)||ue),connections:Z.connections.filter(ue=>ue.fromNode!==S&&ue.toNode!==S)}})},[n,r,o,l]),G=V.useCallback((S,J,k)=>{const B=n.find(de=>de.id===S);if(!B)return;const ce=B.dynamicArgs?.find(de=>de.id===J),ie=B.dynamicVars?.find(de=>de.id===J),Z=ce||ie;if(!Z)return;const fe=Z.name;if(k.trim()===""&&fe.trim()===""||k===fe)return;const ue=fe&&fe.trim()!=="";o(de=>{const he=de.nodes.find(we=>we.id===S),re=de.connections.filter(we=>we.toNode===S&&he.dynamicInputs?.some(R=>R.name===we.toSocket)).map(we=>we.fromNode),xe=Ps(re,de.connections);xe.add(S);const Re=de.nodes.map(we=>{let R={...we};if(we.id===S&&(R.dynamicArgs&&(R.dynamicArgs=R.dynamicArgs.map(K=>K.id===J?{...K,name:k}:K)),R.dynamicVars&&(R.dynamicVars=R.dynamicVars.map(K=>K.id===J?{...K,name:k}:K))),ue&&xe.has(we.id)){const K=fe.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),pe=new RegExp(`\\b${K}\\b`,"g");R.inputValues&&(R.inputValues=Object.fromEntries(Object.entries(R.inputValues).map(([be,Me])=>typeof Me=="string"?[be,Me.replace(pe,k)]:[be,Me]))),R.dynamicInputs&&(R.dynamicInputs=R.dynamicInputs.map(be=>({...be,value:(be.value||"").replace(pe,k)}))),R.codeBlockValue&&(R.codeBlockValue=R.codeBlockValue.replace(pe,k))}return R});return{...de,nodes:Re}})},[n,o]),M=V.useCallback((S,J)=>{o(k=>({...k,nodes:k.nodes.map(B=>{if(B.id===S&&B.chatHistory){const ce=[...B.chatHistory];return ce.splice(J,1),{...B,chatHistory:ce}}return B})}))},[o]);return{addNode:c,updateNodePositions:m,updateNodeSize:h,updateNodeInputValue:v,updateNodeCodeBlockValue:g,updateNodeColor:b,updateNodeModel:T,updateNodeDynamicArgs:C,updateNodeDynamicVars:N,updateNodeDynamicInputs:D,addConnection:w,updateConnection:E,removeConnection:I,handleNodeDeletionAndCollapse:z,handleRenameVariable:G,deleteChatMessage:M}},Lv=(a,o)=>{const[n,r]=V.useState(null),[l,c]=V.useState(null),[m,h]=V.useState(null),[v,g]=V.useState(null),[b,T]=V.useState(null),[C,N]=V.useState(null),[D,w]=V.useState(null),E=V.useMemo(()=>new Map(Ko.map(k=>[k.name,k])),[]),I=V.useMemo(()=>n?a.find(k=>k.id===n):null,[n,a]),z=V.useMemo(()=>{if(!I)return null;const k=E.get(I.functionName);return k?k.description:null},[I,E]),G=V.useMemo(()=>{if(!C)return new Set;const{defunNodeId:k}=C,B=a.find(fe=>fe.id===k);if(!B||B.functionName!=="defun"&&B.functionName!=="defun-q")return new Set;const ie=o.filter(fe=>fe.toNode===k&&B.dynamicInputs?.some(ue=>ue.name===fe.toSocket)).map(fe=>fe.fromNode),Z=Ps(ie,o);return Z.add(k),Z},[C,a,o]),M=V.useCallback((k,B)=>{B&&B.trim()!==""&&N({defunNodeId:k,varName:B})},[]),S=V.useCallback(()=>{N(null)},[]),J=V.useCallback((k,B)=>{w({nodeId:k,inputKey:B})},[]);return{selectedNodeId:n,setSelectedNodeId:r,nodeToFocusInCode:l,setNodeToFocusInCode:c,activeInputDescription:m,setActiveInputDescription:h,activeEditor:v,setActiveEditor:g,clipboard:b,setClipboard:T,highlightedVar:C,setHighlightedVar:N,selectedNode:I,selectedNodeDescription:z,scopedNodeIdsForHighlight:G,handleVariableFocus:M,handleVariableBlur:S,focusedInput:D,handleFocusInput:J}},Iv=a=>{const o=/\s*([()']|"(?:\\.|[^"\\])*"|;.*|[^\s()']+)/g,n=[];let r;for(o.lastIndex=0;(r=o.exec(a))!==null;){const l=r[1];l&&!l.startsWith(";")&&n.push(l)}return n},mc=a=>{if(a.length===0)throw new Error("Parser Error: Unexpected end of input while parsing.");const o=a.shift();if(o==="'")return["quote",mc(a)];if(o==="("){const n=[];for(;a.length>0&&a[0]!==")";)n.push(mc(a));if(a.length===0)throw new Error("Parser Error: Mismatched parentheses, missing ')'");return a.shift(),n}else{if(o===")")throw new Error("Parser Error: Unexpected ')'");return o}},kv=a=>{if(!a||a.trim()==="")return[];const o=Iv(a),n=[];for(;o.length>0;)n.push(mc(o));return n},Vv=new Map(Ko.map(a=>[a.name,a])),Xo=a=>typeof a=="string"?a:Array.isArray(a)?a[0]==="quote"&&a.length===2?`'${Xo(a[1])}`:`(${a.map(Xo).join(" ")})`:"",Uv=(a,o,n,r)=>{if(typeof a!="object"||a.length===0)return null;const[l,...c]=a,m=typeof l=="string"?l.toLowerCase():"list",h=Vv.get(m);if(!h){console.warn(`Function not found in library: ${m}. Creating a caller node.`);const g={id:$o(),functionName:"caller",x:n,y:r,inputValues:{function_name:m},dynamicInputs:[]};return c.forEach(b=>{const{id:T,name:C}=yo();g.dynamicInputs.push({id:T,name:C,label:"",value:Xo(b)})}),o.nodes.push(g),{nodeId:g.id,socketName:"caller"}}const v={id:$o(),functionName:m,x:n,y:r,inputValues:{}};if(h.hasDynamicInputs&&(v.dynamicInputs=[]),h.hasDynamicArgs&&(v.dynamicArgs=[]),(m==="defun"||m==="defun-q")&&(v.dynamicVars=[]),o.nodes.push(v),m==="lambda"){const g=c[0];if(Array.isArray(g))for(const T of g)typeof T=="string"&&v.dynamicArgs.push({id:dc(),name:T});const b=c.slice(1);for(const T of b){const{id:C,name:N}=yo();v.dynamicInputs.push({id:C,name:N,label:"",value:Xo(T)})}}else if(m==="cond")c.forEach(g=>{if(Array.isArray(g)&&g.length>0){const b=g,T=b[0],C=b.length>1?b[1]:T,N=yo();v.dynamicInputs.push({id:N.id,name:N.name,label:"",value:Xo(T)});const D=yo();v.dynamicInputs.push({id:D.id,name:D.name,label:"",value:Xo(C)})}});else{const g=h.args;let b=0;for(const T of c){const C=g[b]?g[b].name:null;if((m==="defun"||m==="defun-q")&&b===1){if(Array.isArray(T)){const N=T;let D=!1;for(const w of N)if(typeof w=="string"){if(w==="/"){D=!0;continue}D?v.dynamicVars.push({id:Pg(),name:w}):v.dynamicArgs.push({id:dc(),name:w})}}}else if(typeof T=="string"){const N=Xo(T);if(C)v.inputValues[C]=N;else if(h.hasDynamicInputs){const{id:D,name:w}=yo();v.dynamicInputs.push({id:D,name:w,label:"",value:N})}}else if(Array.isArray(T)){const N=Xo(T);if(C)v.inputValues[C]=N;else if(h.hasDynamicInputs){const{id:D,name:w}=yo();v.dynamicInputs.push({id:D,name:w,label:"",value:N})}}b++}}return{nodeId:v.id,socketName:h.returnType?h.name:""}},gc=(a,o,n)=>{let r;try{r=kv(a)}catch(h){throw console.error("LISP parsing error:",h),new Error(`LISP parsing error: ${h.message}`)}if(r.length===0)return{nodes:[],connections:[]};const l={nodes:[],connections:[],yOffset:0};let c=null,m=n;for(const h of r)c=Uv(h,l,o,m),m+=l.yOffset+200,l.yOffset=0;return{nodes:l.nodes,connections:l.connections,rootNodeId:c?.nodeId}},rc={nodes:[],connections:[]},sc="autolisp_blueprint_autosave",Hv=(a,o,n,r)=>{const[l,c]=V.useState(!1),[m,h]=V.useState(!1),v=V.useCallback(E=>{const I=JSON.stringify(E,null,2),z=new Blob([I],{type:"application/json"}),G=URL.createObjectURL(z),M=document.createElement("a");M.href=G,M.download="autolisp-blueprint.lispbp",M.click(),URL.revokeObjectURL(G),M.remove()},[]),g=V.useCallback(()=>{v(a),n(a)},[a,v,n]),b=V.useCallback(()=>{r?c(!0):(localStorage.removeItem(sc),n(rc))},[r,n,c]),T=V.useCallback(()=>{v(a),localStorage.removeItem(sc),n(rc),c(!1)},[a,v,n,c]),C=V.useCallback(()=>{localStorage.removeItem(sc),n(rc),c(!1)},[n,c]),N=V.useCallback(E=>{const I=E.target.files?.[0];if(!I)return;const z=new FileReader;z.onload=G=>{try{const M=G.target?.result,S=JSON.parse(M);S&&Array.isArray(S.nodes)&&Array.isArray(S.connections)?n(S):alert("Error: The selected file has an invalid format.")}catch(M){alert(`Error: Could not load the blueprint file. ${M.message}`)}},z.readAsText(I),E.target&&(E.target.value="")},[n]),D=V.useCallback(E=>{const I=E.target.files?.[0];if(!I)return;const z=new FileReader;z.onload=G=>{try{const M=JSON.parse(G.target?.result),S=new Map,J=a.nodes.length>0?Math.max(...a.nodes.map(ue=>ue.x+(ue.width||300))):0,k=M.nodes.length>0?Math.min(...M.nodes.map(ue=>ue.x)):0,B=M.nodes.length>0?Math.min(...M.nodes.map(ue=>ue.y)):0,ce=J-k+100,ie=100-B,Z=M.nodes.map(ue=>{const de=ue.id,he=$o();return S.set(de,he),{...ue,id:he,x:ue.x+ce,y:ue.y+ie}}),fe=M.connections.map(ue=>({...ue,id:la(),fromNode:S.get(ue.fromNode),toNode:S.get(ue.toNode)}));o(ue=>({nodes:[...ue.nodes,...Z],connections:[...ue.connections,...fe]}))}catch(M){alert(`Error: Could not import the diagram file. ${M.message}`)}},z.readAsText(I),E.target&&(E.target.value="")},[a.nodes,o]),w=V.useCallback(E=>{const I=E.target.files?.[0];if(!I)return;const z=new FileReader;z.onload=G=>{h(!0);try{const M=G.target?.result;if(!M.trim())throw new Error("File is empty.");const S=a.nodes.length>0?Math.max(...a.nodes.map(ie=>ie.x+(ie.width||300))):0,J=a.nodes.length>0?S+100:100,{nodes:k,connections:B}=gc(M,J,100);if(k.length===0)throw new Error("No valid LISP expressions found.");const ce={id:$o(),functionName:"code-block",x:Math.max(50,J-400),y:100,inputValues:{},codeBlockValue:`;; Original LISP code from imported file:

${M}`,color:"#ca8a04"};o(ie=>({nodes:[...ie.nodes,...k,ce],connections:[...ie.connections,...B]}))}catch(M){alert(`Error: Could not import LISP file. ${M.message}`)}finally{h(!1)}},z.readAsText(I,"EUC-KR"),E.target&&(E.target.value="")},[a.nodes,o]);return{isConfirmNewDialogOpen:l,setIsConfirmNewDialogOpen:c,isImporting:m,handleSave:g,handleNew:b,handleConfirmNewAndSave:T,handleConfirmNewWithoutSave:C,handleFileSelected:N,handleImportDiagramFileSelected:D,handleLispFileSelected:w}};let Ov,jv;function zv(){return{geminiUrl:Ov,vertexUrl:jv}}function Bv(a,o,n){var r,l,c;if(!(!((r=a.httpOptions)===null||r===void 0)&&r.baseUrl)){const m=zv();return a.vertexai?(l=m.vertexUrl)!==null&&l!==void 0?l:o:(c=m.geminiUrl)!==null&&c!==void 0?c:n}return a.httpOptions.baseUrl}class mr{}function Le(a,o){const n=/\{([^}]+)\}/g;return a.replace(n,(r,l)=>{if(Object.prototype.hasOwnProperty.call(o,l)){const c=o[l];return c!=null?String(c):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(a,o,n){for(let c=0;c<o.length-1;c++){const m=o[c];if(m.endsWith("[]")){const h=m.slice(0,-2);if(!(h in a))if(Array.isArray(n))a[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(a[h])){const v=a[h];if(Array.isArray(n))for(let g=0;g<v.length;g++){const b=v[g];f(b,o.slice(c+1),n[g])}else for(const g of v)f(g,o.slice(c+1),n)}return}else if(m.endsWith("[0]")){const h=m.slice(0,-3);h in a||(a[h]=[{}]);const v=a[h];f(v[0],o.slice(c+1),n);return}(!a[m]||typeof a[m]!="object")&&(a[m]={}),a=a[m]}const r=o[o.length-1],l=a[r];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else a[r]=n}function d(a,o){try{if(o.length===1&&o[0]==="_self")return a;for(let n=0;n<o.length;n++){if(typeof a!="object"||a===null)return;const r=o[n];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in a){const c=a[l];return Array.isArray(c)?c.map(m=>d(m,o.slice(n+1))):void 0}else return}else a=a[r]}return a}catch(n){if(n instanceof TypeError)return;throw n}}function pt(a,o){if(!o||typeof o!="string")throw new Error("model is required and must be a string");if(a.isVertexAI()){if(o.startsWith("publishers/")||o.startsWith("projects/")||o.startsWith("models/"))return o;if(o.indexOf("/")>=0){const n=o.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${o}`}else return o.startsWith("models/")||o.startsWith("tunedModels/")?o:`models/${o}`}function Fg(a,o){const n=pt(a,o);return n?n.startsWith("publishers/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/${n}`:n.startsWith("models/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/publishers/google/${n}`:n:""}function Gg(a,o){return Array.isArray(o)?o.map(n=>Vs(a,n)):[Vs(a,o)]}function Vs(a,o){if(typeof o=="object"&&o!==null)return o;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof o}`)}function Pv(a,o){const n=Vs(a,o);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function qv(a,o){const n=Vs(a,o);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Im(a,o){if(o==null)throw new Error("PartUnion is required");if(typeof o=="object")return o;if(typeof o=="string")return{text:o};throw new Error(`Unsupported part type: ${typeof o}`)}function Yg(a,o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("PartListUnion is required");return Array.isArray(o)?o.map(n=>Im(a,n)):[Im(a,o)]}function hc(a){return a!=null&&typeof a=="object"&&"parts"in a&&Array.isArray(a.parts)}function km(a){return a!=null&&typeof a=="object"&&"functionCall"in a}function Vm(a){return a!=null&&typeof a=="object"&&"functionResponse"in a}function tn(a,o){if(o==null)throw new Error("ContentUnion is required");return hc(o)?o:{role:"user",parts:Yg(a,o)}}function Xg(a,o){if(!o)return[];if(a.isVertexAI()&&Array.isArray(o))return o.flatMap(n=>{const r=tn(a,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(a.isVertexAI()){const n=tn(a,o);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(o)?o.map(n=>tn(a,n)):[tn(a,o)]}function Jo(a,o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("contents are required");if(!Array.isArray(o)){if(km(o)||Vm(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tn(a,o)]}const n=[],r=[],l=hc(o[0]);for(const c of o){const m=hc(c);if(m!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(m)n.push(c);else{if(km(c)||Vm(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(c)}}return l||n.push({role:"user",parts:Yg(a,r)}),n}function $g(a,o){return o}function Kg(a,o){if(typeof o=="object")return o;if(typeof o=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:o}}};throw new Error(`Unsupported speechConfig type: ${typeof o}`)}function qs(a,o){return o}function Fs(a,o){if(!Array.isArray(o))throw new Error("tool is required and must be an array of Tools");return o}function Fv(a,o,n,r=1){const l=!o.startsWith(`${n}/`)&&o.split("/").length===r;return a.isVertexAI()?o.startsWith("projects/")?o:o.startsWith("locations/")?`projects/${a.getProject()}/${o}`:o.startsWith(`${n}/`)?`projects/${a.getProject()}/locations/${a.getLocation()}/${o}`:l?`projects/${a.getProject()}/locations/${a.getLocation()}/${n}/${o}`:o:l?`${n}/${o}`:o}function Qo(a,o){if(typeof o!="string")throw new Error("name must be a string");return Fv(a,o,"cachedContents")}function Jg(a,o){switch(o){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return o}}function Zo(a,o){if(typeof o!="string")throw new Error("fromImageBytes must be a string");return o}function Gv(a){return a!=null&&typeof a=="object"&&"name"in a}function Yv(a){return a!=null&&typeof a=="object"&&"video"in a}function Xv(a){return a!=null&&typeof a=="object"&&"uri"in a}function Qg(a,o){var n;let r;if(Gv(o)&&(r=o.name),!(Xv(o)&&(r=o.uri,r===void 0))&&!(Yv(o)&&(r=(n=o.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof o=="string"&&(r=o),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const c=r.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${r}`);r=c[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Zg(a,o){let n;return a.isVertexAI()?n=o?"publishers/google/models":"models":n=o?"models":"tunedModels",n}function Wg(a,o){for(const n of["models","tunedModels","publisherModels"])if($v(o,n))return o[n];return[]}function $v(a,o){return a!==null&&typeof a=="object"&&o in a}function Kv(a,o){const n={};if(d(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(o,["data"]);r!=null&&f(n,["data"],r);const l=d(o,["mimeType"]);return l!=null&&f(n,["mimeType"],l),n}function Jv(a,o){const n={};if(d(o,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=d(o,["thought"]);r!=null&&f(n,["thought"],r);const l=d(o,["inlineData"]);l!=null&&f(n,["inlineData"],Kv(a,l));const c=d(o,["codeExecutionResult"]);c!=null&&f(n,["codeExecutionResult"],c);const m=d(o,["executableCode"]);m!=null&&f(n,["executableCode"],m);const h=d(o,["fileData"]);h!=null&&f(n,["fileData"],h);const v=d(o,["functionCall"]);v!=null&&f(n,["functionCall"],v);const g=d(o,["functionResponse"]);g!=null&&f(n,["functionResponse"],g);const b=d(o,["text"]);return b!=null&&f(n,["text"],b),n}function Um(a,o){const n={},r=d(o,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>Jv(a,m))),f(n,["parts"],c)}const l=d(o,["role"]);return l!=null&&f(n,["role"],l),n}function Qv(){return{}}function Zv(a,o){const n={},r=d(o,["mode"]);r!=null&&f(n,["mode"],r);const l=d(o,["dynamicThreshold"]);return l!=null&&f(n,["dynamicThreshold"],l),n}function Wv(a,o){const n={},r=d(o,["dynamicRetrievalConfig"]);return r!=null&&f(n,["dynamicRetrievalConfig"],Zv(a,r)),n}function eb(a,o){const n={};if(d(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(o,["googleSearch"])!=null&&f(n,["googleSearch"],Qv());const l=d(o,["googleSearchRetrieval"]);if(l!=null&&f(n,["googleSearchRetrieval"],Wv(a,l)),d(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(o,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const c=d(o,["codeExecution"]);c!=null&&f(n,["codeExecution"],c);const m=d(o,["functionDeclarations"]);return m!=null&&f(n,["functionDeclarations"],m),n}function tb(a,o){const n={},r=d(o,["mode"]);r!=null&&f(n,["mode"],r);const l=d(o,["allowedFunctionNames"]);return l!=null&&f(n,["allowedFunctionNames"],l),n}function nb(a,o){const n={},r=d(o,["functionCallingConfig"]);if(r!=null&&f(n,["functionCallingConfig"],tb(a,r)),d(o,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return n}function ob(a,o,n){const r={},l=d(o,["ttl"]);n!==void 0&&l!=null&&f(n,["ttl"],l);const c=d(o,["expireTime"]);n!==void 0&&c!=null&&f(n,["expireTime"],c);const m=d(o,["displayName"]);n!==void 0&&m!=null&&f(n,["displayName"],m);const h=d(o,["contents"]);if(n!==void 0&&h!=null){let T=Jo(a,h);Array.isArray(T)&&(T=T.map(C=>Um(a,C))),f(n,["contents"],T)}const v=d(o,["systemInstruction"]);n!==void 0&&v!=null&&f(n,["systemInstruction"],Um(a,tn(a,v)));const g=d(o,["tools"]);if(n!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(C=>eb(a,C))),f(n,["tools"],T)}const b=d(o,["toolConfig"]);return n!==void 0&&b!=null&&f(n,["toolConfig"],nb(a,b)),r}function ib(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["model"],Fg(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],ob(a,l,n)),n}function ab(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["_url","name"],Qo(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function rb(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["_url","name"],Qo(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function sb(a,o,n){const r={},l=d(o,["ttl"]);n!==void 0&&l!=null&&f(n,["ttl"],l);const c=d(o,["expireTime"]);return n!==void 0&&c!=null&&f(n,["expireTime"],c),r}function lb(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["_url","name"],Qo(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],sb(a,l,n)),n}function ub(a,o,n){const r={},l=d(o,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const c=d(o,["pageToken"]);return n!==void 0&&c!=null&&f(n,["_query","pageToken"],c),r}function cb(a,o){const n={},r=d(o,["config"]);return r!=null&&f(n,["config"],ub(a,r,n)),n}function db(a,o){const n={},r=d(o,["displayName"]);r!=null&&f(n,["displayName"],r);const l=d(o,["data"]);l!=null&&f(n,["data"],l);const c=d(o,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function fb(a,o){const n={},r=d(o,["videoMetadata"]);r!=null&&f(n,["videoMetadata"],r);const l=d(o,["thought"]);l!=null&&f(n,["thought"],l);const c=d(o,["inlineData"]);c!=null&&f(n,["inlineData"],db(a,c));const m=d(o,["codeExecutionResult"]);m!=null&&f(n,["codeExecutionResult"],m);const h=d(o,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=d(o,["fileData"]);v!=null&&f(n,["fileData"],v);const g=d(o,["functionCall"]);g!=null&&f(n,["functionCall"],g);const b=d(o,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(o,["text"]);return T!=null&&f(n,["text"],T),n}function Hm(a,o){const n={},r=d(o,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>fb(a,m))),f(n,["parts"],c)}const l=d(o,["role"]);return l!=null&&f(n,["role"],l),n}function pb(){return{}}function mb(a,o){const n={},r=d(o,["mode"]);r!=null&&f(n,["mode"],r);const l=d(o,["dynamicThreshold"]);return l!=null&&f(n,["dynamicThreshold"],l),n}function gb(a,o){const n={},r=d(o,["dynamicRetrievalConfig"]);return r!=null&&f(n,["dynamicRetrievalConfig"],mb(a,r)),n}function hb(){return{}}function yb(a,o){const n={},r=d(o,["apiKeyString"]);return r!=null&&f(n,["apiKeyString"],r),n}function vb(a,o){const n={},r=d(o,["apiKeyConfig"]);r!=null&&f(n,["apiKeyConfig"],yb(a,r));const l=d(o,["authType"]);l!=null&&f(n,["authType"],l);const c=d(o,["googleServiceAccountConfig"]);c!=null&&f(n,["googleServiceAccountConfig"],c);const m=d(o,["httpBasicAuthConfig"]);m!=null&&f(n,["httpBasicAuthConfig"],m);const h=d(o,["oauthConfig"]);h!=null&&f(n,["oauthConfig"],h);const v=d(o,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function bb(a,o){const n={},r=d(o,["authConfig"]);return r!=null&&f(n,["authConfig"],vb(a,r)),n}function xb(a,o){const n={},r=d(o,["retrieval"]);r!=null&&f(n,["retrieval"],r),d(o,["googleSearch"])!=null&&f(n,["googleSearch"],pb());const c=d(o,["googleSearchRetrieval"]);c!=null&&f(n,["googleSearchRetrieval"],gb(a,c)),d(o,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],hb());const h=d(o,["googleMaps"]);h!=null&&f(n,["googleMaps"],bb(a,h));const v=d(o,["codeExecution"]);v!=null&&f(n,["codeExecution"],v);const g=d(o,["functionDeclarations"]);return g!=null&&f(n,["functionDeclarations"],g),n}function Tb(a,o){const n={},r=d(o,["mode"]);r!=null&&f(n,["mode"],r);const l=d(o,["allowedFunctionNames"]);return l!=null&&f(n,["allowedFunctionNames"],l),n}function Cb(a,o){const n={},r=d(o,["latitude"]);r!=null&&f(n,["latitude"],r);const l=d(o,["longitude"]);return l!=null&&f(n,["longitude"],l),n}function Ab(a,o){const n={},r=d(o,["latLng"]);return r!=null&&f(n,["latLng"],Cb(a,r)),n}function Sb(a,o){const n={},r=d(o,["functionCallingConfig"]);r!=null&&f(n,["functionCallingConfig"],Tb(a,r));const l=d(o,["retrievalConfig"]);return l!=null&&f(n,["retrievalConfig"],Ab(a,l)),n}function wb(a,o,n){const r={},l=d(o,["ttl"]);n!==void 0&&l!=null&&f(n,["ttl"],l);const c=d(o,["expireTime"]);n!==void 0&&c!=null&&f(n,["expireTime"],c);const m=d(o,["displayName"]);n!==void 0&&m!=null&&f(n,["displayName"],m);const h=d(o,["contents"]);if(n!==void 0&&h!=null){let T=Jo(a,h);Array.isArray(T)&&(T=T.map(C=>Hm(a,C))),f(n,["contents"],T)}const v=d(o,["systemInstruction"]);n!==void 0&&v!=null&&f(n,["systemInstruction"],Hm(a,tn(a,v)));const g=d(o,["tools"]);if(n!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(C=>xb(a,C))),f(n,["tools"],T)}const b=d(o,["toolConfig"]);return n!==void 0&&b!=null&&f(n,["toolConfig"],Sb(a,b)),r}function Nb(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["model"],Fg(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],wb(a,l,n)),n}function Eb(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["_url","name"],Qo(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function Mb(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["_url","name"],Qo(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function Db(a,o,n){const r={},l=d(o,["ttl"]);n!==void 0&&l!=null&&f(n,["ttl"],l);const c=d(o,["expireTime"]);return n!==void 0&&c!=null&&f(n,["expireTime"],c),r}function _b(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["_url","name"],Qo(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],Db(a,l,n)),n}function Rb(a,o,n){const r={},l=d(o,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const c=d(o,["pageToken"]);return n!==void 0&&c!=null&&f(n,["_query","pageToken"],c),r}function Lb(a,o){const n={},r=d(o,["config"]);return r!=null&&f(n,["config"],Rb(a,r,n)),n}function Is(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["displayName"]);l!=null&&f(n,["displayName"],l);const c=d(o,["model"]);c!=null&&f(n,["model"],c);const m=d(o,["createTime"]);m!=null&&f(n,["createTime"],m);const h=d(o,["updateTime"]);h!=null&&f(n,["updateTime"],h);const v=d(o,["expireTime"]);v!=null&&f(n,["expireTime"],v);const g=d(o,["usageMetadata"]);return g!=null&&f(n,["usageMetadata"],g),n}function Ib(){return{}}function kb(a,o){const n={},r=d(o,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const l=d(o,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>Is(a,m))),f(n,["cachedContents"],c)}return n}function ks(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["displayName"]);l!=null&&f(n,["displayName"],l);const c=d(o,["model"]);c!=null&&f(n,["model"],c);const m=d(o,["createTime"]);m!=null&&f(n,["createTime"],m);const h=d(o,["updateTime"]);h!=null&&f(n,["updateTime"],h);const v=d(o,["expireTime"]);v!=null&&f(n,["expireTime"],v);const g=d(o,["usageMetadata"]);return g!=null&&f(n,["usageMetadata"],g),n}function Vb(){return{}}function Ub(a,o){const n={},r=d(o,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const l=d(o,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>ks(a,m))),f(n,["cachedContents"],c)}return n}var ua;(function(a){a.PAGED_ITEM_BATCH_JOBS="batchJobs",a.PAGED_ITEM_MODELS="models",a.PAGED_ITEM_TUNING_JOBS="tuningJobs",a.PAGED_ITEM_FILES="files",a.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ua||(ua={}));class Gs{constructor(o,n,r,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(o,r,l)}init(o,n,r){var l,c;this.nameInternal=o,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};r?typeof r=="object"?m=Object.assign({},r):m=r:m={config:{}},m.config&&(m.config.pageToken=n.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(c=(l=m.config)===null||l===void 0?void 0:l.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(o){this.init(this.nameInternal,o,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(o){return this.pageInternal[o]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const o=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:o,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const o=await this.requestInternal(this.params);return this.initNextPage(o),this.page}hasNextPage(){var o;return((o=this.params.config)===null||o===void 0?void 0:o.pageToken)!==void 0}}var Om;(function(a){a.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",a.OUTCOME_OK="OUTCOME_OK",a.OUTCOME_FAILED="OUTCOME_FAILED",a.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Om||(Om={}));var jm;(function(a){a.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",a.PYTHON="PYTHON"})(jm||(jm={}));var zm;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(zm||(zm={}));var Bm;(function(a){a.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",a.SEVERITY="SEVERITY",a.PROBABILITY="PROBABILITY"})(Bm||(Bm={}));var Pm;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE",a.OFF="OFF"})(Pm||(Pm={}));var qm;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(qm||(qm={}));var Fm;(function(a){a.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",a.NO_AUTH="NO_AUTH",a.API_KEY_AUTH="API_KEY_AUTH",a.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",a.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",a.OAUTH="OAUTH",a.OIDC_AUTH="OIDC_AUTH"})(Fm||(Fm={}));var Gm;(function(a){a.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",a.STRING="STRING",a.NUMBER="NUMBER",a.INTEGER="INTEGER",a.BOOLEAN="BOOLEAN",a.ARRAY="ARRAY",a.OBJECT="OBJECT"})(Gm||(Gm={}));var Ym;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.IMAGE_SAFETY="IMAGE_SAFETY"})(Ym||(Ym={}));var Xm;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(Xm||(Xm={}));var $m;(function(a){a.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",a.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",a.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",a.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",a.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($m||($m={}));var Km;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Km||(Km={}));var Jm;(function(a){a.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",a.ON_DEMAND="ON_DEMAND",a.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Jm||(Jm={}));var Us;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.AUDIO="AUDIO"})(Us||(Us={}));var Qm;(function(a){a.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",a.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",a.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",a.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Qm||(Qm={}));var yc;(function(a){a.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",a.JOB_STATE_QUEUED="JOB_STATE_QUEUED",a.JOB_STATE_PENDING="JOB_STATE_PENDING",a.JOB_STATE_RUNNING="JOB_STATE_RUNNING",a.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",a.JOB_STATE_FAILED="JOB_STATE_FAILED",a.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",a.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",a.JOB_STATE_PAUSED="JOB_STATE_PAUSED",a.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",a.JOB_STATE_UPDATING="JOB_STATE_UPDATING",a.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yc||(yc={}));var Zm;(function(a){a.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",a.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",a.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",a.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",a.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",a.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",a.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Zm||(Zm={}));var Wm;(function(a){a.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",a.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",a.BALANCED="BALANCED",a.PRIORITIZE_COST="PRIORITIZE_COST"})(Wm||(Wm={}));var eg;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(eg||(eg={}));var tg;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"})(tg||(tg={}));var ng;(function(a){a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(ng||(ng={}));var og;(function(a){a.DONT_ALLOW="DONT_ALLOW",a.ALLOW_ADULT="ALLOW_ADULT",a.ALLOW_ALL="ALLOW_ALL"})(og||(og={}));var ig;(function(a){a.auto="auto",a.en="en",a.ja="ja",a.ko="ko",a.hi="hi"})(ig||(ig={}));var ag;(function(a){a.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",a.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",a.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",a.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",a.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ag||(ag={}));var rg;(function(a){a.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",a.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",a.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",a.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(rg||(rg={}));var sg;(function(a){a.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",a.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",a.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",a.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sg||(sg={}));var lg;(function(a){a.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",a.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",a.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",a.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",a.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",a.EDIT_MODE_STYLE="EDIT_MODE_STYLE",a.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",a.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lg||(lg={}));var ug;(function(a){a.STATE_UNSPECIFIED="STATE_UNSPECIFIED",a.PROCESSING="PROCESSING",a.ACTIVE="ACTIVE",a.FAILED="FAILED"})(ug||(ug={}));var cg;(function(a){a.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",a.UPLOADED="UPLOADED",a.GENERATED="GENERATED"})(cg||(cg={}));var dg;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.VIDEO="VIDEO",a.AUDIO="AUDIO",a.DOCUMENT="DOCUMENT"})(dg||(dg={}));var fg;(function(a){a.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",a.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",a.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(fg||(fg={}));var pg;(function(a){a.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",a.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",a.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(pg||(pg={}));var mg;(function(a){a.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",a.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",a.NO_INTERRUPTION="NO_INTERRUPTION"})(mg||(mg={}));var gg;(function(a){a.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",a.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",a.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gg||(gg={}));class Ns{get text(){var o,n,r,l,c,m,h,v;if(((l=(r=(n=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",b=!1;const T=[];for(const C of(v=(h=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&v!==void 0?v:[]){for(const[N,D]of Object.entries(C))N!=="text"&&N!=="thought"&&(D!==null||D!==void 0)&&T.push(N);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;b=!0,g+=C.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),b?g:void 0}get data(){var o,n,r,l,c,m,h,v;if(((l=(r=(n=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const b=[];for(const T of(v=(h=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&v!==void 0?v:[]){for(const[C,N]of Object.entries(T))C!=="inlineData"&&(N!==null||N!==void 0)&&b.push(C);T.inlineData&&typeof T.inlineData.data=="string"&&(g+=atob(T.inlineData.data))}return b.length>0&&console.warn(`there are non-data parts ${b} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var o,n,r,l,c,m,h,v;if(((l=(r=(n=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(h=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(b=>b.functionCall).map(b=>b.functionCall).filter(b=>b!==void 0);if(g?.length!==0)return g}get executableCode(){var o,n,r,l,c,m,h,v,g;if(((l=(r=(n=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const b=(v=(h=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if(b?.length!==0)return(g=b?.[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var o,n,r,l,c,m,h,v,g;if(((l=(r=(n=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const b=(v=(h=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if(b?.length!==0)return(g=b?.[0])===null||g===void 0?void 0:g.output}}class hg{}class yg{}class Hb{}class Ob{}class vg{}class bg{}class xg{}class jb{}class Tg{}class Cg{}class Ag{}class zb{}class vc{constructor(o){const n={};for(const r of o.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=o}json(){return this.responseInternal.json()}}class Bb{}class Pb{}class qb{get text(){var o,n,r;let l="",c=!1;const m=[];for(const h of(r=(n=(o=this.serverContent)===null||o===void 0?void 0:o.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[v,g]of Object.entries(h))v!=="text"&&v!=="thought"&&g!==null&&m.push(v);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,l+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?l:void 0}get data(){var o,n,r;let l="";const c=[];for(const m of(r=(n=(o=this.serverContent)===null||o===void 0?void 0:o.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[h,v]of Object.entries(m))h!=="inlineData"&&v!==null&&c.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(l+=atob(m.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class Fb extends mr{constructor(o){super(),this.apiClient=o,this.list=async(n={})=>new Gs(ua.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=Nb(this.apiClient,o);return h=Le("cachedContents",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>ks(this.apiClient,b))}else{const g=ib(this.apiClient,o);return h=Le("cachedContents",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>Is(this.apiClient,b))}}async get(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=Eb(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>ks(this.apiClient,b))}else{const g=ab(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>Is(this.apiClient,b))}}async delete(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=Mb(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(()=>{const b=Vb(),T=new Cg;return Object.assign(T,b),T})}else{const g=rb(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(()=>{const b=Ib(),T=new Cg;return Object.assign(T,b),T})}}async update(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=_b(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>ks(this.apiClient,b))}else{const g=lb(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>Is(this.apiClient,b))}}async listInternal(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=Lb(this.apiClient,o);return h=Le("cachedContents",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>{const T=Ub(this.apiClient,b),C=new Ag;return Object.assign(C,T),C})}else{const g=cb(this.apiClient,o);return h=Le("cachedContents",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>{const T=kb(this.apiClient,b),C=new Ag;return Object.assign(C,T),C})}}}function Sg(a){var o=typeof Symbol=="function"&&Symbol.iterator,n=o&&a[o],r=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&r>=a.length&&(a=void 0),{value:a&&a[r++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bt(a){return this instanceof Bt?(this.v=a,this):new Bt(a)}function Hs(a,o,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(a,o||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",m),l[Symbol.asyncIterator]=function(){return this},l;function m(N){return function(D){return Promise.resolve(D).then(N,T)}}function h(N,D){r[N]&&(l[N]=function(w){return new Promise(function(E,I){c.push([N,w,E,I])>1||v(N,w)})},D&&(l[N]=D(l[N])))}function v(N,D){try{g(r[N](D))}catch(w){C(c[0][3],w)}}function g(N){N.value instanceof Bt?Promise.resolve(N.value.v).then(b,T):C(c[0][2],N)}function b(N){v("next",N)}function T(N){v("throw",N)}function C(N,D){N(D),c.shift(),c.length&&v(c[0][0],c[0][1])}}function bc(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a[Symbol.asyncIterator],n;return o?o.call(a):(a=typeof Sg=="function"?Sg(a):a[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(c){n[c]=a[c]&&function(m){return new Promise(function(h,v){m=a[c](m),l(h,v,m.done,m.value)})}}function l(c,m,h,v){Promise.resolve(v).then(function(g){c({value:g,done:h})},m)}}function Gb(a){var o;if(a.candidates==null||a.candidates.length===0)return!1;const n=(o=a.candidates[0])===null||o===void 0?void 0:o.content;return n===void 0?!1:eh(n)}function eh(a){if(a.parts===void 0||a.parts.length===0)return!1;for(const o of a.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}function Yb(a){if(a.length!==0){if(a[0].role!=="user")throw new Error("History must start with a user turn.");for(const o of a)if(o.role!=="user"&&o.role!=="model")throw new Error(`Role must be user or model, but got ${o.role}.`)}}function Xb(a){if(a===void 0||a.length===0)return[];const o=[],n=a.length;let r=0,l=a[0];for(;r<n;)if(a[r].role==="user")l=a[r],r++;else{const c=[];let m=!0;for(;r<n&&a[r].role==="model";)c.push(a[r]),m&&!eh(a[r])&&(m=!1),r++;m&&(o.push(l),o.push(...c))}return o}class $b{constructor(o,n){this.modelsModule=o,this.apiClient=n}create(o){return new Kb(this.apiClient,this.modelsModule,o.model,o.config,o.history)}}class Kb{constructor(o,n,r,l={},c=[]){this.apiClient=o,this.modelsModule=n,this.model=r,this.config=l,this.history=c,this.sendPromise=Promise.resolve(),Yb(c)}async sendMessage(o){var n;await this.sendPromise;const r=tn(this.apiClient,o.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=o.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var c,m;const v=(m=(c=(await l).candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content,g=v?[v]:[];this.recordHistory(r,g)})(),await this.sendPromise,l}async sendMessageStream(o){var n;await this.sendPromise;const r=tn(this.apiClient,o.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=o.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const c=await l;return this.processStreamResponse(c,r)}getHistory(o=!1){return o?Xb(this.history):this.history}processStreamResponse(o,n){var r,l;return Hs(this,arguments,function*(){var m,h,v,g;const b=[];try{for(var T=!0,C=bc(o),N;N=yield Bt(C.next()),m=N.done,!m;T=!0){g=N.value,T=!1;const D=g;if(Gb(D)){const w=(l=(r=D.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content;w!==void 0&&b.push(w)}yield yield Bt(D)}}catch(D){h={error:D}}finally{try{!T&&!m&&(v=C.return)&&(yield Bt(v.call(C)))}finally{if(h)throw h.error}}this.recordHistory(n,b)})}recordHistory(o,n){let r=[];n.length>0&&n.every(l=>l.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(o),this.history.push(...r)}}function Jb(a,o,n){const r={},l=d(o,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const c=d(o,["pageToken"]);return n!==void 0&&c!=null&&f(n,["_query","pageToken"],c),r}function Qb(a,o){const n={},r=d(o,["config"]);return r!=null&&f(n,["config"],Jb(a,r,n)),n}function Zb(a,o){const n={},r=d(o,["details"]);r!=null&&f(n,["details"],r);const l=d(o,["message"]);l!=null&&f(n,["message"],l);const c=d(o,["code"]);return c!=null&&f(n,["code"],c),n}function Wb(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["displayName"]);l!=null&&f(n,["displayName"],l);const c=d(o,["mimeType"]);c!=null&&f(n,["mimeType"],c);const m=d(o,["sizeBytes"]);m!=null&&f(n,["sizeBytes"],m);const h=d(o,["createTime"]);h!=null&&f(n,["createTime"],h);const v=d(o,["expirationTime"]);v!=null&&f(n,["expirationTime"],v);const g=d(o,["updateTime"]);g!=null&&f(n,["updateTime"],g);const b=d(o,["sha256Hash"]);b!=null&&f(n,["sha256Hash"],b);const T=d(o,["uri"]);T!=null&&f(n,["uri"],T);const C=d(o,["downloadUri"]);C!=null&&f(n,["downloadUri"],C);const N=d(o,["state"]);N!=null&&f(n,["state"],N);const D=d(o,["source"]);D!=null&&f(n,["source"],D);const w=d(o,["videoMetadata"]);w!=null&&f(n,["videoMetadata"],w);const E=d(o,["error"]);return E!=null&&f(n,["error"],Zb(a,E)),n}function ex(a,o){const n={},r=d(o,["file"]);r!=null&&f(n,["file"],Wb(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function tx(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["_url","file"],Qg(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function nx(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["_url","file"],Qg(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function ox(a,o){const n={},r=d(o,["details"]);r!=null&&f(n,["details"],r);const l=d(o,["message"]);l!=null&&f(n,["message"],l);const c=d(o,["code"]);return c!=null&&f(n,["code"],c),n}function xc(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["displayName"]);l!=null&&f(n,["displayName"],l);const c=d(o,["mimeType"]);c!=null&&f(n,["mimeType"],c);const m=d(o,["sizeBytes"]);m!=null&&f(n,["sizeBytes"],m);const h=d(o,["createTime"]);h!=null&&f(n,["createTime"],h);const v=d(o,["expirationTime"]);v!=null&&f(n,["expirationTime"],v);const g=d(o,["updateTime"]);g!=null&&f(n,["updateTime"],g);const b=d(o,["sha256Hash"]);b!=null&&f(n,["sha256Hash"],b);const T=d(o,["uri"]);T!=null&&f(n,["uri"],T);const C=d(o,["downloadUri"]);C!=null&&f(n,["downloadUri"],C);const N=d(o,["state"]);N!=null&&f(n,["state"],N);const D=d(o,["source"]);D!=null&&f(n,["source"],D);const w=d(o,["videoMetadata"]);w!=null&&f(n,["videoMetadata"],w);const E=d(o,["error"]);return E!=null&&f(n,["error"],ox(a,E)),n}function ix(a,o){const n={},r=d(o,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const l=d(o,["files"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>xc(a,m))),f(n,["files"],c)}return n}function ax(){return{}}function rx(){return{}}class sx extends mr{constructor(o){super(),this.apiClient=o,this.list=async(n={})=>new Gs(ua.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(o){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(o.file,o.config).then(n=>xc(this.apiClient,n))}async download(o){await this.apiClient.downloadFile(o)}async listInternal(o){var n,r;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Qb(this.apiClient,o);return c=Le("files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),l.then(v=>{const g=ix(this.apiClient,v),b=new zb;return Object.assign(b,g),b})}}async createInternal(o){var n,r;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ex(this.apiClient,o);return c=Le("upload/v1beta/files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),l.then(()=>{const v=ax(),g=new Bb;return Object.assign(g,v),g})}}async get(o){var n,r;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tx(this.apiClient,o);return c=Le("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),l.then(v=>xc(this.apiClient,v))}}async delete(o){var n,r;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=nx(this.apiClient,o);return c=Le("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),l.then(()=>{const v=rx(),g=new Pb;return Object.assign(g,v),g})}}}function lx(a,o){const n={};if(d(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(o,["data"]);r!=null&&f(n,["data"],r);const l=d(o,["mimeType"]);return l!=null&&f(n,["mimeType"],l),n}function ux(a,o){const n={},r=d(o,["displayName"]);r!=null&&f(n,["displayName"],r);const l=d(o,["data"]);l!=null&&f(n,["data"],l);const c=d(o,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function cx(a,o){const n={};if(d(o,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=d(o,["thought"]);r!=null&&f(n,["thought"],r);const l=d(o,["inlineData"]);l!=null&&f(n,["inlineData"],lx(a,l));const c=d(o,["codeExecutionResult"]);c!=null&&f(n,["codeExecutionResult"],c);const m=d(o,["executableCode"]);m!=null&&f(n,["executableCode"],m);const h=d(o,["fileData"]);h!=null&&f(n,["fileData"],h);const v=d(o,["functionCall"]);v!=null&&f(n,["functionCall"],v);const g=d(o,["functionResponse"]);g!=null&&f(n,["functionResponse"],g);const b=d(o,["text"]);return b!=null&&f(n,["text"],b),n}function dx(a,o){const n={},r=d(o,["videoMetadata"]);r!=null&&f(n,["videoMetadata"],r);const l=d(o,["thought"]);l!=null&&f(n,["thought"],l);const c=d(o,["inlineData"]);c!=null&&f(n,["inlineData"],ux(a,c));const m=d(o,["codeExecutionResult"]);m!=null&&f(n,["codeExecutionResult"],m);const h=d(o,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=d(o,["fileData"]);v!=null&&f(n,["fileData"],v);const g=d(o,["functionCall"]);g!=null&&f(n,["functionCall"],g);const b=d(o,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(o,["text"]);return T!=null&&f(n,["text"],T),n}function fx(a,o){const n={},r=d(o,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>cx(a,m))),f(n,["parts"],c)}const l=d(o,["role"]);return l!=null&&f(n,["role"],l),n}function px(a,o){const n={},r=d(o,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>dx(a,m))),f(n,["parts"],c)}const l=d(o,["role"]);return l!=null&&f(n,["role"],l),n}function mx(){return{}}function gx(){return{}}function hx(a,o){const n={},r=d(o,["mode"]);r!=null&&f(n,["mode"],r);const l=d(o,["dynamicThreshold"]);return l!=null&&f(n,["dynamicThreshold"],l),n}function yx(a,o){const n={},r=d(o,["mode"]);r!=null&&f(n,["mode"],r);const l=d(o,["dynamicThreshold"]);return l!=null&&f(n,["dynamicThreshold"],l),n}function vx(a,o){const n={},r=d(o,["dynamicRetrievalConfig"]);return r!=null&&f(n,["dynamicRetrievalConfig"],hx(a,r)),n}function bx(a,o){const n={},r=d(o,["dynamicRetrievalConfig"]);return r!=null&&f(n,["dynamicRetrievalConfig"],yx(a,r)),n}function xx(){return{}}function Tx(a,o){const n={},r=d(o,["apiKeyString"]);return r!=null&&f(n,["apiKeyString"],r),n}function Cx(a,o){const n={},r=d(o,["apiKeyConfig"]);r!=null&&f(n,["apiKeyConfig"],Tx(a,r));const l=d(o,["authType"]);l!=null&&f(n,["authType"],l);const c=d(o,["googleServiceAccountConfig"]);c!=null&&f(n,["googleServiceAccountConfig"],c);const m=d(o,["httpBasicAuthConfig"]);m!=null&&f(n,["httpBasicAuthConfig"],m);const h=d(o,["oauthConfig"]);h!=null&&f(n,["oauthConfig"],h);const v=d(o,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function Ax(a,o){const n={},r=d(o,["authConfig"]);return r!=null&&f(n,["authConfig"],Cx(a,r)),n}function Sx(a,o){const n={};if(d(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(o,["googleSearch"])!=null&&f(n,["googleSearch"],mx());const l=d(o,["googleSearchRetrieval"]);if(l!=null&&f(n,["googleSearchRetrieval"],vx(a,l)),d(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(o,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const c=d(o,["codeExecution"]);c!=null&&f(n,["codeExecution"],c);const m=d(o,["functionDeclarations"]);return m!=null&&f(n,["functionDeclarations"],m),n}function wx(a,o){const n={},r=d(o,["retrieval"]);r!=null&&f(n,["retrieval"],r),d(o,["googleSearch"])!=null&&f(n,["googleSearch"],gx());const c=d(o,["googleSearchRetrieval"]);c!=null&&f(n,["googleSearchRetrieval"],bx(a,c)),d(o,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],xx());const h=d(o,["googleMaps"]);h!=null&&f(n,["googleMaps"],Ax(a,h));const v=d(o,["codeExecution"]);v!=null&&f(n,["codeExecution"],v);const g=d(o,["functionDeclarations"]);return g!=null&&f(n,["functionDeclarations"],g),n}function Nx(a,o){const n={},r=d(o,["handle"]);if(r!=null&&f(n,["handle"],r),d(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Ex(a,o){const n={},r=d(o,["handle"]);r!=null&&f(n,["handle"],r);const l=d(o,["transparent"]);return l!=null&&f(n,["transparent"],l),n}function wg(){return{}}function Ng(){return{}}function Mx(a,o){const n={},r=d(o,["disabled"]);r!=null&&f(n,["disabled"],r);const l=d(o,["startOfSpeechSensitivity"]);l!=null&&f(n,["startOfSpeechSensitivity"],l);const c=d(o,["endOfSpeechSensitivity"]);c!=null&&f(n,["endOfSpeechSensitivity"],c);const m=d(o,["prefixPaddingMs"]);m!=null&&f(n,["prefixPaddingMs"],m);const h=d(o,["silenceDurationMs"]);return h!=null&&f(n,["silenceDurationMs"],h),n}function Dx(a,o){const n={},r=d(o,["disabled"]);r!=null&&f(n,["disabled"],r);const l=d(o,["startOfSpeechSensitivity"]);l!=null&&f(n,["startOfSpeechSensitivity"],l);const c=d(o,["endOfSpeechSensitivity"]);c!=null&&f(n,["endOfSpeechSensitivity"],c);const m=d(o,["prefixPaddingMs"]);m!=null&&f(n,["prefixPaddingMs"],m);const h=d(o,["silenceDurationMs"]);return h!=null&&f(n,["silenceDurationMs"],h),n}function _x(a,o){const n={},r=d(o,["automaticActivityDetection"]);r!=null&&f(n,["automaticActivityDetection"],Mx(a,r));const l=d(o,["activityHandling"]);l!=null&&f(n,["activityHandling"],l);const c=d(o,["turnCoverage"]);return c!=null&&f(n,["turnCoverage"],c),n}function Rx(a,o){const n={},r=d(o,["automaticActivityDetection"]);r!=null&&f(n,["automaticActivityDetection"],Dx(a,r));const l=d(o,["activityHandling"]);l!=null&&f(n,["activityHandling"],l);const c=d(o,["turnCoverage"]);return c!=null&&f(n,["turnCoverage"],c),n}function Lx(a,o){const n={},r=d(o,["targetTokens"]);return r!=null&&f(n,["targetTokens"],r),n}function Ix(a,o){const n={},r=d(o,["targetTokens"]);return r!=null&&f(n,["targetTokens"],r),n}function kx(a,o){const n={},r=d(o,["triggerTokens"]);r!=null&&f(n,["triggerTokens"],r);const l=d(o,["slidingWindow"]);return l!=null&&f(n,["slidingWindow"],Lx(a,l)),n}function Vx(a,o){const n={},r=d(o,["triggerTokens"]);r!=null&&f(n,["triggerTokens"],r);const l=d(o,["slidingWindow"]);return l!=null&&f(n,["slidingWindow"],Ix(a,l)),n}function Ux(a,o,n){const r={},l=d(o,["generationConfig"]);n!==void 0&&l!=null&&f(n,["setup","generationConfig"],l);const c=d(o,["responseModalities"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","responseModalities"],c);const m=d(o,["temperature"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","temperature"],m);const h=d(o,["topP"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","topP"],h);const v=d(o,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const g=d(o,["maxOutputTokens"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","maxOutputTokens"],g);const b=d(o,["mediaResolution"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","mediaResolution"],b);const T=d(o,["seed"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","seed"],T);const C=d(o,["speechConfig"]);n!==void 0&&C!=null&&f(n,["setup","generationConfig","speechConfig"],C);const N=d(o,["systemInstruction"]);n!==void 0&&N!=null&&f(n,["setup","systemInstruction"],fx(a,tn(a,N)));const D=d(o,["tools"]);if(n!==void 0&&D!=null){let M=Fs(a,D);Array.isArray(M)&&(M=M.map(S=>Sx(a,qs(a,S)))),f(n,["setup","tools"],M)}const w=d(o,["sessionResumption"]);n!==void 0&&w!=null&&f(n,["setup","sessionResumption"],Nx(a,w));const E=d(o,["inputAudioTranscription"]);n!==void 0&&E!=null&&f(n,["setup","inputAudioTranscription"],wg());const I=d(o,["outputAudioTranscription"]);n!==void 0&&I!=null&&f(n,["setup","outputAudioTranscription"],wg());const z=d(o,["realtimeInputConfig"]);n!==void 0&&z!=null&&f(n,["setup","realtimeInputConfig"],_x(a,z));const G=d(o,["contextWindowCompression"]);return n!==void 0&&G!=null&&f(n,["setup","contextWindowCompression"],kx(a,G)),r}function Hx(a,o,n){const r={},l=d(o,["generationConfig"]);n!==void 0&&l!=null&&f(n,["setup","generationConfig"],l);const c=d(o,["responseModalities"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","responseModalities"],c);const m=d(o,["temperature"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","temperature"],m);const h=d(o,["topP"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","topP"],h);const v=d(o,["topK"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","topK"],v);const g=d(o,["maxOutputTokens"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","maxOutputTokens"],g);const b=d(o,["mediaResolution"]);n!==void 0&&b!=null&&f(n,["setup","generationConfig","mediaResolution"],b);const T=d(o,["seed"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","seed"],T);const C=d(o,["speechConfig"]);n!==void 0&&C!=null&&f(n,["setup","generationConfig","speechConfig"],C);const N=d(o,["systemInstruction"]);n!==void 0&&N!=null&&f(n,["setup","systemInstruction"],px(a,tn(a,N)));const D=d(o,["tools"]);if(n!==void 0&&D!=null){let M=Fs(a,D);Array.isArray(M)&&(M=M.map(S=>wx(a,qs(a,S)))),f(n,["setup","tools"],M)}const w=d(o,["sessionResumption"]);n!==void 0&&w!=null&&f(n,["setup","sessionResumption"],Ex(a,w));const E=d(o,["inputAudioTranscription"]);n!==void 0&&E!=null&&f(n,["setup","inputAudioTranscription"],Ng());const I=d(o,["outputAudioTranscription"]);n!==void 0&&I!=null&&f(n,["setup","outputAudioTranscription"],Ng());const z=d(o,["realtimeInputConfig"]);n!==void 0&&z!=null&&f(n,["setup","realtimeInputConfig"],Rx(a,z));const G=d(o,["contextWindowCompression"]);return n!==void 0&&G!=null&&f(n,["setup","contextWindowCompression"],Vx(a,G)),r}function Ox(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["setup","model"],pt(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],Ux(a,l,n)),n}function jx(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["setup","model"],pt(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],Hx(a,l,n)),n}function zx(){return{}}function Bx(){return{}}function Px(){return{}}function qx(){return{}}function Fx(a,o){const n={},r=d(o,["media"]);r!=null&&f(n,["mediaChunks"],Gg(a,r));const l=d(o,["audio"]);l!=null&&f(n,["audio"],qv(a,l));const c=d(o,["audioStreamEnd"]);c!=null&&f(n,["audioStreamEnd"],c);const m=d(o,["video"]);m!=null&&f(n,["video"],Pv(a,m));const h=d(o,["text"]);return h!=null&&f(n,["text"],h),d(o,["activityStart"])!=null&&f(n,["activityStart"],zx()),d(o,["activityEnd"])!=null&&f(n,["activityEnd"],Px()),n}function Gx(a,o){const n={},r=d(o,["media"]);if(r!=null&&f(n,["mediaChunks"],Gg(a,r)),d(o,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=d(o,["audioStreamEnd"]);if(l!=null&&f(n,["audioStreamEnd"],l),d(o,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(o,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(o,["activityStart"])!=null&&f(n,["activityStart"],Bx()),d(o,["activityEnd"])!=null&&f(n,["activityEnd"],qx()),n}function Yx(){return{}}function Xx(){return{}}function $x(a,o){const n={},r=d(o,["data"]);r!=null&&f(n,["data"],r);const l=d(o,["mimeType"]);return l!=null&&f(n,["mimeType"],l),n}function Kx(a,o){const n={},r=d(o,["displayName"]);r!=null&&f(n,["displayName"],r);const l=d(o,["data"]);l!=null&&f(n,["data"],l);const c=d(o,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function Jx(a,o){const n={},r=d(o,["thought"]);r!=null&&f(n,["thought"],r);const l=d(o,["inlineData"]);l!=null&&f(n,["inlineData"],$x(a,l));const c=d(o,["codeExecutionResult"]);c!=null&&f(n,["codeExecutionResult"],c);const m=d(o,["executableCode"]);m!=null&&f(n,["executableCode"],m);const h=d(o,["fileData"]);h!=null&&f(n,["fileData"],h);const v=d(o,["functionCall"]);v!=null&&f(n,["functionCall"],v);const g=d(o,["functionResponse"]);g!=null&&f(n,["functionResponse"],g);const b=d(o,["text"]);return b!=null&&f(n,["text"],b),n}function Qx(a,o){const n={},r=d(o,["videoMetadata"]);r!=null&&f(n,["videoMetadata"],r);const l=d(o,["thought"]);l!=null&&f(n,["thought"],l);const c=d(o,["inlineData"]);c!=null&&f(n,["inlineData"],Kx(a,c));const m=d(o,["codeExecutionResult"]);m!=null&&f(n,["codeExecutionResult"],m);const h=d(o,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=d(o,["fileData"]);v!=null&&f(n,["fileData"],v);const g=d(o,["functionCall"]);g!=null&&f(n,["functionCall"],g);const b=d(o,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(o,["text"]);return T!=null&&f(n,["text"],T),n}function Zx(a,o){const n={},r=d(o,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>Jx(a,m))),f(n,["parts"],c)}const l=d(o,["role"]);return l!=null&&f(n,["role"],l),n}function Wx(a,o){const n={},r=d(o,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>Qx(a,m))),f(n,["parts"],c)}const l=d(o,["role"]);return l!=null&&f(n,["role"],l),n}function Eg(a,o){const n={},r=d(o,["text"]);r!=null&&f(n,["text"],r);const l=d(o,["finished"]);return l!=null&&f(n,["finished"],l),n}function Mg(a,o){const n={},r=d(o,["text"]);r!=null&&f(n,["text"],r);const l=d(o,["finished"]);return l!=null&&f(n,["finished"],l),n}function eT(a,o){const n={},r=d(o,["modelTurn"]);r!=null&&f(n,["modelTurn"],Zx(a,r));const l=d(o,["turnComplete"]);l!=null&&f(n,["turnComplete"],l);const c=d(o,["interrupted"]);c!=null&&f(n,["interrupted"],c);const m=d(o,["groundingMetadata"]);m!=null&&f(n,["groundingMetadata"],m);const h=d(o,["generationComplete"]);h!=null&&f(n,["generationComplete"],h);const v=d(o,["inputTranscription"]);v!=null&&f(n,["inputTranscription"],Eg(a,v));const g=d(o,["outputTranscription"]);return g!=null&&f(n,["outputTranscription"],Eg(a,g)),n}function tT(a,o){const n={},r=d(o,["modelTurn"]);r!=null&&f(n,["modelTurn"],Wx(a,r));const l=d(o,["turnComplete"]);l!=null&&f(n,["turnComplete"],l);const c=d(o,["interrupted"]);c!=null&&f(n,["interrupted"],c);const m=d(o,["groundingMetadata"]);m!=null&&f(n,["groundingMetadata"],m);const h=d(o,["generationComplete"]);h!=null&&f(n,["generationComplete"],h);const v=d(o,["inputTranscription"]);v!=null&&f(n,["inputTranscription"],Mg(a,v));const g=d(o,["outputTranscription"]);return g!=null&&f(n,["outputTranscription"],Mg(a,g)),n}function nT(a,o){const n={},r=d(o,["id"]);r!=null&&f(n,["id"],r);const l=d(o,["args"]);l!=null&&f(n,["args"],l);const c=d(o,["name"]);return c!=null&&f(n,["name"],c),n}function oT(a,o){const n={},r=d(o,["args"]);r!=null&&f(n,["args"],r);const l=d(o,["name"]);return l!=null&&f(n,["name"],l),n}function iT(a,o){const n={},r=d(o,["functionCalls"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>nT(a,c))),f(n,["functionCalls"],l)}return n}function aT(a,o){const n={},r=d(o,["functionCalls"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>oT(a,c))),f(n,["functionCalls"],l)}return n}function rT(a,o){const n={},r=d(o,["ids"]);return r!=null&&f(n,["ids"],r),n}function sT(a,o){const n={},r=d(o,["ids"]);return r!=null&&f(n,["ids"],r),n}function Es(a,o){const n={},r=d(o,["modality"]);r!=null&&f(n,["modality"],r);const l=d(o,["tokenCount"]);return l!=null&&f(n,["tokenCount"],l),n}function Ms(a,o){const n={},r=d(o,["modality"]);r!=null&&f(n,["modality"],r);const l=d(o,["tokenCount"]);return l!=null&&f(n,["tokenCount"],l),n}function lT(a,o){const n={},r=d(o,["promptTokenCount"]);r!=null&&f(n,["promptTokenCount"],r);const l=d(o,["cachedContentTokenCount"]);l!=null&&f(n,["cachedContentTokenCount"],l);const c=d(o,["responseTokenCount"]);c!=null&&f(n,["responseTokenCount"],c);const m=d(o,["toolUsePromptTokenCount"]);m!=null&&f(n,["toolUsePromptTokenCount"],m);const h=d(o,["thoughtsTokenCount"]);h!=null&&f(n,["thoughtsTokenCount"],h);const v=d(o,["totalTokenCount"]);v!=null&&f(n,["totalTokenCount"],v);const g=d(o,["promptTokensDetails"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(D=>Es(a,D))),f(n,["promptTokensDetails"],N)}const b=d(o,["cacheTokensDetails"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(D=>Es(a,D))),f(n,["cacheTokensDetails"],N)}const T=d(o,["responseTokensDetails"]);if(T!=null){let N=T;Array.isArray(N)&&(N=N.map(D=>Es(a,D))),f(n,["responseTokensDetails"],N)}const C=d(o,["toolUsePromptTokensDetails"]);if(C!=null){let N=C;Array.isArray(N)&&(N=N.map(D=>Es(a,D))),f(n,["toolUsePromptTokensDetails"],N)}return n}function uT(a,o){const n={},r=d(o,["promptTokenCount"]);r!=null&&f(n,["promptTokenCount"],r);const l=d(o,["cachedContentTokenCount"]);l!=null&&f(n,["cachedContentTokenCount"],l);const c=d(o,["candidatesTokenCount"]);c!=null&&f(n,["responseTokenCount"],c);const m=d(o,["toolUsePromptTokenCount"]);m!=null&&f(n,["toolUsePromptTokenCount"],m);const h=d(o,["thoughtsTokenCount"]);h!=null&&f(n,["thoughtsTokenCount"],h);const v=d(o,["totalTokenCount"]);v!=null&&f(n,["totalTokenCount"],v);const g=d(o,["promptTokensDetails"]);if(g!=null){let D=g;Array.isArray(D)&&(D=D.map(w=>Ms(a,w))),f(n,["promptTokensDetails"],D)}const b=d(o,["cacheTokensDetails"]);if(b!=null){let D=b;Array.isArray(D)&&(D=D.map(w=>Ms(a,w))),f(n,["cacheTokensDetails"],D)}const T=d(o,["candidatesTokensDetails"]);if(T!=null){let D=T;Array.isArray(D)&&(D=D.map(w=>Ms(a,w))),f(n,["responseTokensDetails"],D)}const C=d(o,["toolUsePromptTokensDetails"]);if(C!=null){let D=C;Array.isArray(D)&&(D=D.map(w=>Ms(a,w))),f(n,["toolUsePromptTokensDetails"],D)}const N=d(o,["trafficType"]);return N!=null&&f(n,["trafficType"],N),n}function cT(a,o){const n={},r=d(o,["timeLeft"]);return r!=null&&f(n,["timeLeft"],r),n}function dT(a,o){const n={},r=d(o,["timeLeft"]);return r!=null&&f(n,["timeLeft"],r),n}function fT(a,o){const n={},r=d(o,["newHandle"]);r!=null&&f(n,["newHandle"],r);const l=d(o,["resumable"]);l!=null&&f(n,["resumable"],l);const c=d(o,["lastConsumedClientMessageIndex"]);return c!=null&&f(n,["lastConsumedClientMessageIndex"],c),n}function pT(a,o){const n={},r=d(o,["newHandle"]);r!=null&&f(n,["newHandle"],r);const l=d(o,["resumable"]);l!=null&&f(n,["resumable"],l);const c=d(o,["lastConsumedClientMessageIndex"]);return c!=null&&f(n,["lastConsumedClientMessageIndex"],c),n}function mT(a,o){const n={};d(o,["setupComplete"])!=null&&f(n,["setupComplete"],Yx());const l=d(o,["serverContent"]);l!=null&&f(n,["serverContent"],eT(a,l));const c=d(o,["toolCall"]);c!=null&&f(n,["toolCall"],iT(a,c));const m=d(o,["toolCallCancellation"]);m!=null&&f(n,["toolCallCancellation"],rT(a,m));const h=d(o,["usageMetadata"]);h!=null&&f(n,["usageMetadata"],lT(a,h));const v=d(o,["goAway"]);v!=null&&f(n,["goAway"],cT(a,v));const g=d(o,["sessionResumptionUpdate"]);return g!=null&&f(n,["sessionResumptionUpdate"],fT(a,g)),n}function gT(a,o){const n={};d(o,["setupComplete"])!=null&&f(n,["setupComplete"],Xx());const l=d(o,["serverContent"]);l!=null&&f(n,["serverContent"],tT(a,l));const c=d(o,["toolCall"]);c!=null&&f(n,["toolCall"],aT(a,c));const m=d(o,["toolCallCancellation"]);m!=null&&f(n,["toolCallCancellation"],sT(a,m));const h=d(o,["usageMetadata"]);h!=null&&f(n,["usageMetadata"],uT(a,h));const v=d(o,["goAway"]);v!=null&&f(n,["goAway"],dT(a,v));const g=d(o,["sessionResumptionUpdate"]);return g!=null&&f(n,["sessionResumptionUpdate"],pT(a,g)),n}function hT(a,o){const n={};if(d(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(o,["data"]);r!=null&&f(n,["data"],r);const l=d(o,["mimeType"]);return l!=null&&f(n,["mimeType"],l),n}function yT(a,o){const n={};if(d(o,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=d(o,["thought"]);r!=null&&f(n,["thought"],r);const l=d(o,["inlineData"]);l!=null&&f(n,["inlineData"],hT(a,l));const c=d(o,["codeExecutionResult"]);c!=null&&f(n,["codeExecutionResult"],c);const m=d(o,["executableCode"]);m!=null&&f(n,["executableCode"],m);const h=d(o,["fileData"]);h!=null&&f(n,["fileData"],h);const v=d(o,["functionCall"]);v!=null&&f(n,["functionCall"],v);const g=d(o,["functionResponse"]);g!=null&&f(n,["functionResponse"],g);const b=d(o,["text"]);return b!=null&&f(n,["text"],b),n}function Ys(a,o){const n={},r=d(o,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>yT(a,m))),f(n,["parts"],c)}const l=d(o,["role"]);return l!=null&&f(n,["role"],l),n}function vT(a,o){const n={};if(d(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(o,["category"]);r!=null&&f(n,["category"],r);const l=d(o,["threshold"]);return l!=null&&f(n,["threshold"],l),n}function bT(){return{}}function xT(a,o){const n={},r=d(o,["mode"]);r!=null&&f(n,["mode"],r);const l=d(o,["dynamicThreshold"]);return l!=null&&f(n,["dynamicThreshold"],l),n}function TT(a,o){const n={},r=d(o,["dynamicRetrievalConfig"]);return r!=null&&f(n,["dynamicRetrievalConfig"],xT(a,r)),n}function CT(a,o){const n={};if(d(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(o,["googleSearch"])!=null&&f(n,["googleSearch"],bT());const l=d(o,["googleSearchRetrieval"]);if(l!=null&&f(n,["googleSearchRetrieval"],TT(a,l)),d(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(o,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const c=d(o,["codeExecution"]);c!=null&&f(n,["codeExecution"],c);const m=d(o,["functionDeclarations"]);return m!=null&&f(n,["functionDeclarations"],m),n}function AT(a,o){const n={},r=d(o,["mode"]);r!=null&&f(n,["mode"],r);const l=d(o,["allowedFunctionNames"]);return l!=null&&f(n,["allowedFunctionNames"],l),n}function ST(a,o){const n={},r=d(o,["functionCallingConfig"]);if(r!=null&&f(n,["functionCallingConfig"],AT(a,r)),d(o,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return n}function wT(a,o){const n={},r=d(o,["voiceName"]);return r!=null&&f(n,["voiceName"],r),n}function NT(a,o){const n={},r=d(o,["prebuiltVoiceConfig"]);return r!=null&&f(n,["prebuiltVoiceConfig"],wT(a,r)),n}function ET(a,o){const n={},r=d(o,["voiceConfig"]);r!=null&&f(n,["voiceConfig"],NT(a,r));const l=d(o,["languageCode"]);return l!=null&&f(n,["languageCode"],l),n}function MT(a,o){const n={},r=d(o,["includeThoughts"]);r!=null&&f(n,["includeThoughts"],r);const l=d(o,["thinkingBudget"]);return l!=null&&f(n,["thinkingBudget"],l),n}function DT(a,o,n){const r={},l=d(o,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],Ys(a,tn(a,l)));const c=d(o,["temperature"]);c!=null&&f(r,["temperature"],c);const m=d(o,["topP"]);m!=null&&f(r,["topP"],m);const h=d(o,["topK"]);h!=null&&f(r,["topK"],h);const v=d(o,["candidateCount"]);v!=null&&f(r,["candidateCount"],v);const g=d(o,["maxOutputTokens"]);g!=null&&f(r,["maxOutputTokens"],g);const b=d(o,["stopSequences"]);b!=null&&f(r,["stopSequences"],b);const T=d(o,["responseLogprobs"]);T!=null&&f(r,["responseLogprobs"],T);const C=d(o,["logprobs"]);C!=null&&f(r,["logprobs"],C);const N=d(o,["presencePenalty"]);N!=null&&f(r,["presencePenalty"],N);const D=d(o,["frequencyPenalty"]);D!=null&&f(r,["frequencyPenalty"],D);const w=d(o,["seed"]);w!=null&&f(r,["seed"],w);const E=d(o,["responseMimeType"]);E!=null&&f(r,["responseMimeType"],E);const I=d(o,["responseSchema"]);if(I!=null&&f(r,["responseSchema"],$g(a,I)),d(o,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(o,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=d(o,["safetySettings"]);if(n!==void 0&&z!=null){let ie=z;Array.isArray(ie)&&(ie=ie.map(Z=>vT(a,Z))),f(n,["safetySettings"],ie)}const G=d(o,["tools"]);if(n!==void 0&&G!=null){let ie=Fs(a,G);Array.isArray(ie)&&(ie=ie.map(Z=>CT(a,qs(a,Z)))),f(n,["tools"],ie)}const M=d(o,["toolConfig"]);if(n!==void 0&&M!=null&&f(n,["toolConfig"],ST(a,M)),d(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=d(o,["cachedContent"]);n!==void 0&&S!=null&&f(n,["cachedContent"],Qo(a,S));const J=d(o,["responseModalities"]);J!=null&&f(r,["responseModalities"],J);const k=d(o,["mediaResolution"]);k!=null&&f(r,["mediaResolution"],k);const B=d(o,["speechConfig"]);if(B!=null&&f(r,["speechConfig"],ET(a,Kg(a,B))),d(o,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=d(o,["thinkingConfig"]);return ce!=null&&f(r,["thinkingConfig"],MT(a,ce)),r}function Dg(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["contents"]);if(l!=null){let m=Jo(a,l);Array.isArray(m)&&(m=m.map(h=>Ys(a,h))),f(n,["contents"],m)}const c=d(o,["config"]);return c!=null&&f(n,["generationConfig"],DT(a,c,n)),n}function _T(a,o,n){const r={},l=d(o,["taskType"]);n!==void 0&&l!=null&&f(n,["requests[]","taskType"],l);const c=d(o,["title"]);n!==void 0&&c!=null&&f(n,["requests[]","title"],c);const m=d(o,["outputDimensionality"]);if(n!==void 0&&m!=null&&f(n,["requests[]","outputDimensionality"],m),d(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function RT(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["contents"]);l!=null&&f(n,["requests[]","content"],Xg(a,l));const c=d(o,["config"]);c!=null&&f(n,["config"],_T(a,c,n));const m=d(o,["model"]);return m!==void 0&&f(n,["requests[]","model"],pt(a,m)),n}function LT(a,o,n){const r={};if(d(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(o,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(o,["numberOfImages"]);n!==void 0&&l!=null&&f(n,["parameters","sampleCount"],l);const c=d(o,["aspectRatio"]);n!==void 0&&c!=null&&f(n,["parameters","aspectRatio"],c);const m=d(o,["guidanceScale"]);if(n!==void 0&&m!=null&&f(n,["parameters","guidanceScale"],m),d(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=d(o,["safetyFilterLevel"]);n!==void 0&&h!=null&&f(n,["parameters","safetySetting"],h);const v=d(o,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const g=d(o,["includeSafetyAttributes"]);n!==void 0&&g!=null&&f(n,["parameters","includeSafetyAttributes"],g);const b=d(o,["includeRaiReason"]);n!==void 0&&b!=null&&f(n,["parameters","includeRaiReason"],b);const T=d(o,["language"]);n!==void 0&&T!=null&&f(n,["parameters","language"],T);const C=d(o,["outputMimeType"]);n!==void 0&&C!=null&&f(n,["parameters","outputOptions","mimeType"],C);const N=d(o,["outputCompressionQuality"]);if(n!==void 0&&N!=null&&f(n,["parameters","outputOptions","compressionQuality"],N),d(o,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(o,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function IT(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const c=d(o,["config"]);return c!=null&&f(n,["config"],LT(a,c,n)),n}function kT(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","name"],pt(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function VT(a,o,n){const r={},l=d(o,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const c=d(o,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=d(o,["filter"]);n!==void 0&&m!=null&&f(n,["_query","filter"],m);const h=d(o,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],Zg(a,h)),r}function UT(a,o){const n={},r=d(o,["config"]);return r!=null&&f(n,["config"],VT(a,r,n)),n}function HT(a,o,n){const r={},l=d(o,["displayName"]);n!==void 0&&l!=null&&f(n,["displayName"],l);const c=d(o,["description"]);n!==void 0&&c!=null&&f(n,["description"],c);const m=d(o,["defaultCheckpointId"]);return n!==void 0&&m!=null&&f(n,["defaultCheckpointId"],m),r}function OT(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","name"],pt(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],HT(a,l,n)),n}function jT(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","name"],pt(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function zT(a,o){const n={};if(d(o,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(o,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(o,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function BT(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["contents"]);if(l!=null){let m=Jo(a,l);Array.isArray(m)&&(m=m.map(h=>Ys(a,h))),f(n,["contents"],m)}const c=d(o,["config"]);return c!=null&&f(n,["config"],zT(a,c)),n}function PT(a,o){const n={};if(d(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=d(o,["imageBytes"]);r!=null&&f(n,["bytesBase64Encoded"],Zo(a,r));const l=d(o,["mimeType"]);return l!=null&&f(n,["mimeType"],l),n}function qT(a,o,n){const r={},l=d(o,["numberOfVideos"]);if(n!==void 0&&l!=null&&f(n,["parameters","sampleCount"],l),d(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(o,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=d(o,["durationSeconds"]);if(n!==void 0&&c!=null&&f(n,["parameters","durationSeconds"],c),d(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=d(o,["aspectRatio"]);if(n!==void 0&&m!=null&&f(n,["parameters","aspectRatio"],m),d(o,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=d(o,["personGeneration"]);if(n!==void 0&&h!=null&&f(n,["parameters","personGeneration"],h),d(o,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=d(o,["negativePrompt"]);if(n!==void 0&&v!=null&&f(n,["parameters","negativePrompt"],v),d(o,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function FT(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const c=d(o,["image"]);c!=null&&f(n,["instances[0]","image"],PT(a,c));const m=d(o,["config"]);return m!=null&&f(n,["config"],qT(a,m,n)),n}function GT(a,o){const n={},r=d(o,["displayName"]);r!=null&&f(n,["displayName"],r);const l=d(o,["data"]);l!=null&&f(n,["data"],l);const c=d(o,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function YT(a,o){const n={},r=d(o,["videoMetadata"]);r!=null&&f(n,["videoMetadata"],r);const l=d(o,["thought"]);l!=null&&f(n,["thought"],l);const c=d(o,["inlineData"]);c!=null&&f(n,["inlineData"],GT(a,c));const m=d(o,["codeExecutionResult"]);m!=null&&f(n,["codeExecutionResult"],m);const h=d(o,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=d(o,["fileData"]);v!=null&&f(n,["fileData"],v);const g=d(o,["functionCall"]);g!=null&&f(n,["functionCall"],g);const b=d(o,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(o,["text"]);return T!=null&&f(n,["text"],T),n}function ca(a,o){const n={},r=d(o,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>YT(a,m))),f(n,["parts"],c)}const l=d(o,["role"]);return l!=null&&f(n,["role"],l),n}function XT(a,o){const n={},r=d(o,["featureSelectionPreference"]);return r!=null&&f(n,["featureSelectionPreference"],r),n}function $T(a,o){const n={},r=d(o,["method"]);r!=null&&f(n,["method"],r);const l=d(o,["category"]);l!=null&&f(n,["category"],l);const c=d(o,["threshold"]);return c!=null&&f(n,["threshold"],c),n}function KT(){return{}}function JT(a,o){const n={},r=d(o,["mode"]);r!=null&&f(n,["mode"],r);const l=d(o,["dynamicThreshold"]);return l!=null&&f(n,["dynamicThreshold"],l),n}function QT(a,o){const n={},r=d(o,["dynamicRetrievalConfig"]);return r!=null&&f(n,["dynamicRetrievalConfig"],JT(a,r)),n}function ZT(){return{}}function WT(a,o){const n={},r=d(o,["apiKeyString"]);return r!=null&&f(n,["apiKeyString"],r),n}function eC(a,o){const n={},r=d(o,["apiKeyConfig"]);r!=null&&f(n,["apiKeyConfig"],WT(a,r));const l=d(o,["authType"]);l!=null&&f(n,["authType"],l);const c=d(o,["googleServiceAccountConfig"]);c!=null&&f(n,["googleServiceAccountConfig"],c);const m=d(o,["httpBasicAuthConfig"]);m!=null&&f(n,["httpBasicAuthConfig"],m);const h=d(o,["oauthConfig"]);h!=null&&f(n,["oauthConfig"],h);const v=d(o,["oidcConfig"]);return v!=null&&f(n,["oidcConfig"],v),n}function tC(a,o){const n={},r=d(o,["authConfig"]);return r!=null&&f(n,["authConfig"],eC(a,r)),n}function th(a,o){const n={},r=d(o,["retrieval"]);r!=null&&f(n,["retrieval"],r),d(o,["googleSearch"])!=null&&f(n,["googleSearch"],KT());const c=d(o,["googleSearchRetrieval"]);c!=null&&f(n,["googleSearchRetrieval"],QT(a,c)),d(o,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],ZT());const h=d(o,["googleMaps"]);h!=null&&f(n,["googleMaps"],tC(a,h));const v=d(o,["codeExecution"]);v!=null&&f(n,["codeExecution"],v);const g=d(o,["functionDeclarations"]);return g!=null&&f(n,["functionDeclarations"],g),n}function nC(a,o){const n={},r=d(o,["mode"]);r!=null&&f(n,["mode"],r);const l=d(o,["allowedFunctionNames"]);return l!=null&&f(n,["allowedFunctionNames"],l),n}function oC(a,o){const n={},r=d(o,["latitude"]);r!=null&&f(n,["latitude"],r);const l=d(o,["longitude"]);return l!=null&&f(n,["longitude"],l),n}function iC(a,o){const n={},r=d(o,["latLng"]);return r!=null&&f(n,["latLng"],oC(a,r)),n}function aC(a,o){const n={},r=d(o,["functionCallingConfig"]);r!=null&&f(n,["functionCallingConfig"],nC(a,r));const l=d(o,["retrievalConfig"]);return l!=null&&f(n,["retrievalConfig"],iC(a,l)),n}function rC(a,o){const n={},r=d(o,["voiceName"]);return r!=null&&f(n,["voiceName"],r),n}function sC(a,o){const n={},r=d(o,["prebuiltVoiceConfig"]);return r!=null&&f(n,["prebuiltVoiceConfig"],rC(a,r)),n}function lC(a,o){const n={},r=d(o,["voiceConfig"]);r!=null&&f(n,["voiceConfig"],sC(a,r));const l=d(o,["languageCode"]);return l!=null&&f(n,["languageCode"],l),n}function uC(a,o){const n={},r=d(o,["includeThoughts"]);r!=null&&f(n,["includeThoughts"],r);const l=d(o,["thinkingBudget"]);return l!=null&&f(n,["thinkingBudget"],l),n}function cC(a,o,n){const r={},l=d(o,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],ca(a,tn(a,l)));const c=d(o,["temperature"]);c!=null&&f(r,["temperature"],c);const m=d(o,["topP"]);m!=null&&f(r,["topP"],m);const h=d(o,["topK"]);h!=null&&f(r,["topK"],h);const v=d(o,["candidateCount"]);v!=null&&f(r,["candidateCount"],v);const g=d(o,["maxOutputTokens"]);g!=null&&f(r,["maxOutputTokens"],g);const b=d(o,["stopSequences"]);b!=null&&f(r,["stopSequences"],b);const T=d(o,["responseLogprobs"]);T!=null&&f(r,["responseLogprobs"],T);const C=d(o,["logprobs"]);C!=null&&f(r,["logprobs"],C);const N=d(o,["presencePenalty"]);N!=null&&f(r,["presencePenalty"],N);const D=d(o,["frequencyPenalty"]);D!=null&&f(r,["frequencyPenalty"],D);const w=d(o,["seed"]);w!=null&&f(r,["seed"],w);const E=d(o,["responseMimeType"]);E!=null&&f(r,["responseMimeType"],E);const I=d(o,["responseSchema"]);I!=null&&f(r,["responseSchema"],$g(a,I));const z=d(o,["routingConfig"]);z!=null&&f(r,["routingConfig"],z);const G=d(o,["modelSelectionConfig"]);G!=null&&f(r,["modelConfig"],XT(a,G));const M=d(o,["safetySettings"]);if(n!==void 0&&M!=null){let de=M;Array.isArray(de)&&(de=de.map(he=>$T(a,he))),f(n,["safetySettings"],de)}const S=d(o,["tools"]);if(n!==void 0&&S!=null){let de=Fs(a,S);Array.isArray(de)&&(de=de.map(he=>th(a,qs(a,he)))),f(n,["tools"],de)}const J=d(o,["toolConfig"]);n!==void 0&&J!=null&&f(n,["toolConfig"],aC(a,J));const k=d(o,["labels"]);n!==void 0&&k!=null&&f(n,["labels"],k);const B=d(o,["cachedContent"]);n!==void 0&&B!=null&&f(n,["cachedContent"],Qo(a,B));const ce=d(o,["responseModalities"]);ce!=null&&f(r,["responseModalities"],ce);const ie=d(o,["mediaResolution"]);ie!=null&&f(r,["mediaResolution"],ie);const Z=d(o,["speechConfig"]);Z!=null&&f(r,["speechConfig"],lC(a,Kg(a,Z)));const fe=d(o,["audioTimestamp"]);fe!=null&&f(r,["audioTimestamp"],fe);const ue=d(o,["thinkingConfig"]);return ue!=null&&f(r,["thinkingConfig"],uC(a,ue)),r}function _g(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["contents"]);if(l!=null){let m=Jo(a,l);Array.isArray(m)&&(m=m.map(h=>ca(a,h))),f(n,["contents"],m)}const c=d(o,["config"]);return c!=null&&f(n,["generationConfig"],cC(a,c,n)),n}function dC(a,o,n){const r={},l=d(o,["taskType"]);n!==void 0&&l!=null&&f(n,["instances[]","task_type"],l);const c=d(o,["title"]);n!==void 0&&c!=null&&f(n,["instances[]","title"],c);const m=d(o,["outputDimensionality"]);n!==void 0&&m!=null&&f(n,["parameters","outputDimensionality"],m);const h=d(o,["mimeType"]);n!==void 0&&h!=null&&f(n,["instances[]","mimeType"],h);const v=d(o,["autoTruncate"]);return n!==void 0&&v!=null&&f(n,["parameters","autoTruncate"],v),r}function fC(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["contents"]);l!=null&&f(n,["instances[]","content"],Xg(a,l));const c=d(o,["config"]);return c!=null&&f(n,["config"],dC(a,c,n)),n}function pC(a,o,n){const r={},l=d(o,["outputGcsUri"]);n!==void 0&&l!=null&&f(n,["parameters","storageUri"],l);const c=d(o,["negativePrompt"]);n!==void 0&&c!=null&&f(n,["parameters","negativePrompt"],c);const m=d(o,["numberOfImages"]);n!==void 0&&m!=null&&f(n,["parameters","sampleCount"],m);const h=d(o,["aspectRatio"]);n!==void 0&&h!=null&&f(n,["parameters","aspectRatio"],h);const v=d(o,["guidanceScale"]);n!==void 0&&v!=null&&f(n,["parameters","guidanceScale"],v);const g=d(o,["seed"]);n!==void 0&&g!=null&&f(n,["parameters","seed"],g);const b=d(o,["safetyFilterLevel"]);n!==void 0&&b!=null&&f(n,["parameters","safetySetting"],b);const T=d(o,["personGeneration"]);n!==void 0&&T!=null&&f(n,["parameters","personGeneration"],T);const C=d(o,["includeSafetyAttributes"]);n!==void 0&&C!=null&&f(n,["parameters","includeSafetyAttributes"],C);const N=d(o,["includeRaiReason"]);n!==void 0&&N!=null&&f(n,["parameters","includeRaiReason"],N);const D=d(o,["language"]);n!==void 0&&D!=null&&f(n,["parameters","language"],D);const w=d(o,["outputMimeType"]);n!==void 0&&w!=null&&f(n,["parameters","outputOptions","mimeType"],w);const E=d(o,["outputCompressionQuality"]);n!==void 0&&E!=null&&f(n,["parameters","outputOptions","compressionQuality"],E);const I=d(o,["addWatermark"]);n!==void 0&&I!=null&&f(n,["parameters","addWatermark"],I);const z=d(o,["enhancePrompt"]);return n!==void 0&&z!=null&&f(n,["parameters","enhancePrompt"],z),r}function mC(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const c=d(o,["config"]);return c!=null&&f(n,["config"],pC(a,c,n)),n}function Mc(a,o){const n={},r=d(o,["gcsUri"]);r!=null&&f(n,["gcsUri"],r);const l=d(o,["imageBytes"]);l!=null&&f(n,["bytesBase64Encoded"],Zo(a,l));const c=d(o,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function gC(a,o){const n={},r=d(o,["maskMode"]);r!=null&&f(n,["maskMode"],r);const l=d(o,["segmentationClasses"]);l!=null&&f(n,["maskClasses"],l);const c=d(o,["maskDilation"]);return c!=null&&f(n,["dilation"],c),n}function hC(a,o){const n={},r=d(o,["controlType"]);r!=null&&f(n,["controlType"],r);const l=d(o,["enableControlImageComputation"]);return l!=null&&f(n,["computeControl"],l),n}function yC(a,o){const n={},r=d(o,["styleDescription"]);return r!=null&&f(n,["styleDescription"],r),n}function vC(a,o){const n={},r=d(o,["subjectType"]);r!=null&&f(n,["subjectType"],r);const l=d(o,["subjectDescription"]);return l!=null&&f(n,["subjectDescription"],l),n}function bC(a,o){const n={},r=d(o,["referenceImage"]);r!=null&&f(n,["referenceImage"],Mc(a,r));const l=d(o,["referenceId"]);l!=null&&f(n,["referenceId"],l);const c=d(o,["referenceType"]);c!=null&&f(n,["referenceType"],c);const m=d(o,["maskImageConfig"]);m!=null&&f(n,["maskImageConfig"],gC(a,m));const h=d(o,["controlImageConfig"]);h!=null&&f(n,["controlImageConfig"],hC(a,h));const v=d(o,["styleImageConfig"]);v!=null&&f(n,["styleImageConfig"],yC(a,v));const g=d(o,["subjectImageConfig"]);return g!=null&&f(n,["subjectImageConfig"],vC(a,g)),n}function xC(a,o,n){const r={},l=d(o,["outputGcsUri"]);n!==void 0&&l!=null&&f(n,["parameters","storageUri"],l);const c=d(o,["negativePrompt"]);n!==void 0&&c!=null&&f(n,["parameters","negativePrompt"],c);const m=d(o,["numberOfImages"]);n!==void 0&&m!=null&&f(n,["parameters","sampleCount"],m);const h=d(o,["aspectRatio"]);n!==void 0&&h!=null&&f(n,["parameters","aspectRatio"],h);const v=d(o,["guidanceScale"]);n!==void 0&&v!=null&&f(n,["parameters","guidanceScale"],v);const g=d(o,["seed"]);n!==void 0&&g!=null&&f(n,["parameters","seed"],g);const b=d(o,["safetyFilterLevel"]);n!==void 0&&b!=null&&f(n,["parameters","safetySetting"],b);const T=d(o,["personGeneration"]);n!==void 0&&T!=null&&f(n,["parameters","personGeneration"],T);const C=d(o,["includeSafetyAttributes"]);n!==void 0&&C!=null&&f(n,["parameters","includeSafetyAttributes"],C);const N=d(o,["includeRaiReason"]);n!==void 0&&N!=null&&f(n,["parameters","includeRaiReason"],N);const D=d(o,["language"]);n!==void 0&&D!=null&&f(n,["parameters","language"],D);const w=d(o,["outputMimeType"]);n!==void 0&&w!=null&&f(n,["parameters","outputOptions","mimeType"],w);const E=d(o,["outputCompressionQuality"]);n!==void 0&&E!=null&&f(n,["parameters","outputOptions","compressionQuality"],E);const I=d(o,["editMode"]);n!==void 0&&I!=null&&f(n,["parameters","editMode"],I);const z=d(o,["baseSteps"]);return n!==void 0&&z!=null&&f(n,["parameters","editConfig","baseSteps"],z),r}function TC(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const c=d(o,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(v=>bC(a,v))),f(n,["instances[0]","referenceImages"],h)}const m=d(o,["config"]);return m!=null&&f(n,["config"],xC(a,m,n)),n}function CC(a,o,n){const r={},l=d(o,["includeRaiReason"]);n!==void 0&&l!=null&&f(n,["parameters","includeRaiReason"],l);const c=d(o,["outputMimeType"]);n!==void 0&&c!=null&&f(n,["parameters","outputOptions","mimeType"],c);const m=d(o,["outputCompressionQuality"]);n!==void 0&&m!=null&&f(n,["parameters","outputOptions","compressionQuality"],m);const h=d(o,["numberOfImages"]);n!==void 0&&h!=null&&f(n,["parameters","sampleCount"],h);const v=d(o,["mode"]);return n!==void 0&&v!=null&&f(n,["parameters","mode"],v),r}function AC(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["image"]);l!=null&&f(n,["instances[0]","image"],Mc(a,l));const c=d(o,["upscaleFactor"]);c!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],c);const m=d(o,["config"]);return m!=null&&f(n,["config"],CC(a,m,n)),n}function SC(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","name"],pt(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function wC(a,o,n){const r={},l=d(o,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const c=d(o,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=d(o,["filter"]);n!==void 0&&m!=null&&f(n,["_query","filter"],m);const h=d(o,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],Zg(a,h)),r}function NC(a,o){const n={},r=d(o,["config"]);return r!=null&&f(n,["config"],wC(a,r,n)),n}function EC(a,o,n){const r={},l=d(o,["displayName"]);n!==void 0&&l!=null&&f(n,["displayName"],l);const c=d(o,["description"]);n!==void 0&&c!=null&&f(n,["description"],c);const m=d(o,["defaultCheckpointId"]);return n!==void 0&&m!=null&&f(n,["defaultCheckpointId"],m),r}function MC(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],EC(a,l,n)),n}function DC(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","name"],pt(a,r));const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function _C(a,o,n){const r={},l=d(o,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],ca(a,tn(a,l)));const c=d(o,["tools"]);if(n!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(v=>th(a,v))),f(n,["tools"],h)}const m=d(o,["generationConfig"]);return n!==void 0&&m!=null&&f(n,["generationConfig"],m),r}function RC(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["contents"]);if(l!=null){let m=Jo(a,l);Array.isArray(m)&&(m=m.map(h=>ca(a,h))),f(n,["contents"],m)}const c=d(o,["config"]);return c!=null&&f(n,["config"],_C(a,c,n)),n}function LC(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["contents"]);if(l!=null){let m=Jo(a,l);Array.isArray(m)&&(m=m.map(h=>ca(a,h))),f(n,["contents"],m)}const c=d(o,["config"]);return c!=null&&f(n,["config"],c),n}function IC(a,o,n){const r={},l=d(o,["numberOfVideos"]);n!==void 0&&l!=null&&f(n,["parameters","sampleCount"],l);const c=d(o,["outputGcsUri"]);n!==void 0&&c!=null&&f(n,["parameters","storageUri"],c);const m=d(o,["fps"]);n!==void 0&&m!=null&&f(n,["parameters","fps"],m);const h=d(o,["durationSeconds"]);n!==void 0&&h!=null&&f(n,["parameters","durationSeconds"],h);const v=d(o,["seed"]);n!==void 0&&v!=null&&f(n,["parameters","seed"],v);const g=d(o,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const b=d(o,["resolution"]);n!==void 0&&b!=null&&f(n,["parameters","resolution"],b);const T=d(o,["personGeneration"]);n!==void 0&&T!=null&&f(n,["parameters","personGeneration"],T);const C=d(o,["pubsubTopic"]);n!==void 0&&C!=null&&f(n,["parameters","pubsubTopic"],C);const N=d(o,["negativePrompt"]);n!==void 0&&N!=null&&f(n,["parameters","negativePrompt"],N);const D=d(o,["enhancePrompt"]);return n!==void 0&&D!=null&&f(n,["parameters","enhancePrompt"],D),r}function kC(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["_url","model"],pt(a,r));const l=d(o,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const c=d(o,["image"]);c!=null&&f(n,["instances[0]","image"],Mc(a,c));const m=d(o,["config"]);return m!=null&&f(n,["config"],IC(a,m,n)),n}function VC(a,o){const n={},r=d(o,["data"]);r!=null&&f(n,["data"],r);const l=d(o,["mimeType"]);return l!=null&&f(n,["mimeType"],l),n}function UC(a,o){const n={},r=d(o,["thought"]);r!=null&&f(n,["thought"],r);const l=d(o,["inlineData"]);l!=null&&f(n,["inlineData"],VC(a,l));const c=d(o,["codeExecutionResult"]);c!=null&&f(n,["codeExecutionResult"],c);const m=d(o,["executableCode"]);m!=null&&f(n,["executableCode"],m);const h=d(o,["fileData"]);h!=null&&f(n,["fileData"],h);const v=d(o,["functionCall"]);v!=null&&f(n,["functionCall"],v);const g=d(o,["functionResponse"]);g!=null&&f(n,["functionResponse"],g);const b=d(o,["text"]);return b!=null&&f(n,["text"],b),n}function HC(a,o){const n={},r=d(o,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>UC(a,m))),f(n,["parts"],c)}const l=d(o,["role"]);return l!=null&&f(n,["role"],l),n}function OC(a,o){const n={},r=d(o,["citationSources"]);return r!=null&&f(n,["citations"],r),n}function jC(a,o){const n={},r=d(o,["content"]);r!=null&&f(n,["content"],HC(a,r));const l=d(o,["citationMetadata"]);l!=null&&f(n,["citationMetadata"],OC(a,l));const c=d(o,["tokenCount"]);c!=null&&f(n,["tokenCount"],c);const m=d(o,["finishReason"]);m!=null&&f(n,["finishReason"],m);const h=d(o,["avgLogprobs"]);h!=null&&f(n,["avgLogprobs"],h);const v=d(o,["groundingMetadata"]);v!=null&&f(n,["groundingMetadata"],v);const g=d(o,["index"]);g!=null&&f(n,["index"],g);const b=d(o,["logprobsResult"]);b!=null&&f(n,["logprobsResult"],b);const T=d(o,["safetyRatings"]);return T!=null&&f(n,["safetyRatings"],T),n}function Rg(a,o){const n={},r=d(o,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>jC(a,v))),f(n,["candidates"],h)}const l=d(o,["modelVersion"]);l!=null&&f(n,["modelVersion"],l);const c=d(o,["promptFeedback"]);c!=null&&f(n,["promptFeedback"],c);const m=d(o,["usageMetadata"]);return m!=null&&f(n,["usageMetadata"],m),n}function zC(a,o){const n={},r=d(o,["values"]);return r!=null&&f(n,["values"],r),n}function BC(){return{}}function PC(a,o){const n={},r=d(o,["embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>zC(a,m))),f(n,["embeddings"],c)}return d(o,["metadata"])!=null&&f(n,["metadata"],BC()),n}function qC(a,o){const n={},r=d(o,["bytesBase64Encoded"]);r!=null&&f(n,["imageBytes"],Zo(a,r));const l=d(o,["mimeType"]);return l!=null&&f(n,["mimeType"],l),n}function nh(a,o){const n={},r=d(o,["safetyAttributes","categories"]);r!=null&&f(n,["categories"],r);const l=d(o,["safetyAttributes","scores"]);l!=null&&f(n,["scores"],l);const c=d(o,["contentType"]);return c!=null&&f(n,["contentType"],c),n}function FC(a,o){const n={},r=d(o,["_self"]);r!=null&&f(n,["image"],qC(a,r));const l=d(o,["raiFilteredReason"]);l!=null&&f(n,["raiFilteredReason"],l);const c=d(o,["_self"]);return c!=null&&f(n,["safetyAttributes"],nh(a,c)),n}function GC(a,o){const n={},r=d(o,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>FC(a,m))),f(n,["generatedImages"],c)}const l=d(o,["positivePromptSafetyAttributes"]);return l!=null&&f(n,["positivePromptSafetyAttributes"],nh(a,l)),n}function YC(a,o){const n={},r=d(o,["baseModel"]);r!=null&&f(n,["baseModel"],r);const l=d(o,["createTime"]);l!=null&&f(n,["createTime"],l);const c=d(o,["updateTime"]);return c!=null&&f(n,["updateTime"],c),n}function Tc(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["displayName"]);l!=null&&f(n,["displayName"],l);const c=d(o,["description"]);c!=null&&f(n,["description"],c);const m=d(o,["version"]);m!=null&&f(n,["version"],m);const h=d(o,["_self"]);h!=null&&f(n,["tunedModelInfo"],YC(a,h));const v=d(o,["inputTokenLimit"]);v!=null&&f(n,["inputTokenLimit"],v);const g=d(o,["outputTokenLimit"]);g!=null&&f(n,["outputTokenLimit"],g);const b=d(o,["supportedGenerationMethods"]);return b!=null&&f(n,["supportedActions"],b),n}function XC(a,o){const n={},r=d(o,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const l=d(o,["_self"]);if(l!=null){let c=Wg(a,l);Array.isArray(c)&&(c=c.map(m=>Tc(a,m))),f(n,["models"],c)}return n}function $C(){return{}}function KC(a,o){const n={},r=d(o,["totalTokens"]);r!=null&&f(n,["totalTokens"],r);const l=d(o,["cachedContentTokenCount"]);return l!=null&&f(n,["cachedContentTokenCount"],l),n}function JC(a,o){const n={},r=d(o,["video","uri"]);r!=null&&f(n,["uri"],r);const l=d(o,["video","encodedVideo"]);l!=null&&f(n,["videoBytes"],Zo(a,l));const c=d(o,["encoding"]);return c!=null&&f(n,["mimeType"],c),n}function QC(a,o){const n={},r=d(o,["_self"]);return r!=null&&f(n,["video"],JC(a,r)),n}function ZC(a,o){const n={},r=d(o,["generatedSamples"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>QC(a,h))),f(n,["generatedVideos"],m)}const l=d(o,["raiMediaFilteredCount"]);l!=null&&f(n,["raiMediaFilteredCount"],l);const c=d(o,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function WC(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["metadata"]);l!=null&&f(n,["metadata"],l);const c=d(o,["done"]);c!=null&&f(n,["done"],c);const m=d(o,["error"]);m!=null&&f(n,["error"],m);const h=d(o,["response","generateVideoResponse"]);return h!=null&&f(n,["response"],ZC(a,h)),n}function eA(a,o){const n={},r=d(o,["displayName"]);r!=null&&f(n,["displayName"],r);const l=d(o,["data"]);l!=null&&f(n,["data"],l);const c=d(o,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function tA(a,o){const n={},r=d(o,["videoMetadata"]);r!=null&&f(n,["videoMetadata"],r);const l=d(o,["thought"]);l!=null&&f(n,["thought"],l);const c=d(o,["inlineData"]);c!=null&&f(n,["inlineData"],eA(a,c));const m=d(o,["codeExecutionResult"]);m!=null&&f(n,["codeExecutionResult"],m);const h=d(o,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=d(o,["fileData"]);v!=null&&f(n,["fileData"],v);const g=d(o,["functionCall"]);g!=null&&f(n,["functionCall"],g);const b=d(o,["functionResponse"]);b!=null&&f(n,["functionResponse"],b);const T=d(o,["text"]);return T!=null&&f(n,["text"],T),n}function nA(a,o){const n={},r=d(o,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>tA(a,m))),f(n,["parts"],c)}const l=d(o,["role"]);return l!=null&&f(n,["role"],l),n}function oA(a,o){const n={},r=d(o,["citations"]);return r!=null&&f(n,["citations"],r),n}function iA(a,o){const n={},r=d(o,["content"]);r!=null&&f(n,["content"],nA(a,r));const l=d(o,["citationMetadata"]);l!=null&&f(n,["citationMetadata"],oA(a,l));const c=d(o,["finishMessage"]);c!=null&&f(n,["finishMessage"],c);const m=d(o,["finishReason"]);m!=null&&f(n,["finishReason"],m);const h=d(o,["avgLogprobs"]);h!=null&&f(n,["avgLogprobs"],h);const v=d(o,["groundingMetadata"]);v!=null&&f(n,["groundingMetadata"],v);const g=d(o,["index"]);g!=null&&f(n,["index"],g);const b=d(o,["logprobsResult"]);b!=null&&f(n,["logprobsResult"],b);const T=d(o,["safetyRatings"]);return T!=null&&f(n,["safetyRatings"],T),n}function Lg(a,o){const n={},r=d(o,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(b=>iA(a,b))),f(n,["candidates"],g)}const l=d(o,["createTime"]);l!=null&&f(n,["createTime"],l);const c=d(o,["responseId"]);c!=null&&f(n,["responseId"],c);const m=d(o,["modelVersion"]);m!=null&&f(n,["modelVersion"],m);const h=d(o,["promptFeedback"]);h!=null&&f(n,["promptFeedback"],h);const v=d(o,["usageMetadata"]);return v!=null&&f(n,["usageMetadata"],v),n}function aA(a,o){const n={},r=d(o,["truncated"]);r!=null&&f(n,["truncated"],r);const l=d(o,["token_count"]);return l!=null&&f(n,["tokenCount"],l),n}function rA(a,o){const n={},r=d(o,["values"]);r!=null&&f(n,["values"],r);const l=d(o,["statistics"]);return l!=null&&f(n,["statistics"],aA(a,l)),n}function sA(a,o){const n={},r=d(o,["billableCharacterCount"]);return r!=null&&f(n,["billableCharacterCount"],r),n}function lA(a,o){const n={},r=d(o,["predictions[]","embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>rA(a,m))),f(n,["embeddings"],c)}const l=d(o,["metadata"]);return l!=null&&f(n,["metadata"],sA(a,l)),n}function uA(a,o){const n={},r=d(o,["gcsUri"]);r!=null&&f(n,["gcsUri"],r);const l=d(o,["bytesBase64Encoded"]);l!=null&&f(n,["imageBytes"],Zo(a,l));const c=d(o,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function oh(a,o){const n={},r=d(o,["safetyAttributes","categories"]);r!=null&&f(n,["categories"],r);const l=d(o,["safetyAttributes","scores"]);l!=null&&f(n,["scores"],l);const c=d(o,["contentType"]);return c!=null&&f(n,["contentType"],c),n}function Dc(a,o){const n={},r=d(o,["_self"]);r!=null&&f(n,["image"],uA(a,r));const l=d(o,["raiFilteredReason"]);l!=null&&f(n,["raiFilteredReason"],l);const c=d(o,["_self"]);c!=null&&f(n,["safetyAttributes"],oh(a,c));const m=d(o,["prompt"]);return m!=null&&f(n,["enhancedPrompt"],m),n}function cA(a,o){const n={},r=d(o,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>Dc(a,m))),f(n,["generatedImages"],c)}const l=d(o,["positivePromptSafetyAttributes"]);return l!=null&&f(n,["positivePromptSafetyAttributes"],oh(a,l)),n}function dA(a,o){const n={},r=d(o,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Dc(a,c))),f(n,["generatedImages"],l)}return n}function fA(a,o){const n={},r=d(o,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Dc(a,c))),f(n,["generatedImages"],l)}return n}function pA(a,o){const n={},r=d(o,["endpoint"]);r!=null&&f(n,["name"],r);const l=d(o,["deployedModelId"]);return l!=null&&f(n,["deployedModelId"],l),n}function mA(a,o){const n={},r=d(o,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&f(n,["baseModel"],r);const l=d(o,["createTime"]);l!=null&&f(n,["createTime"],l);const c=d(o,["updateTime"]);return c!=null&&f(n,["updateTime"],c),n}function gA(a,o){const n={},r=d(o,["checkpointId"]);r!=null&&f(n,["checkpointId"],r);const l=d(o,["epoch"]);l!=null&&f(n,["epoch"],l);const c=d(o,["step"]);return c!=null&&f(n,["step"],c),n}function Cc(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["displayName"]);l!=null&&f(n,["displayName"],l);const c=d(o,["description"]);c!=null&&f(n,["description"],c);const m=d(o,["versionId"]);m!=null&&f(n,["version"],m);const h=d(o,["deployedModels"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(N=>pA(a,N))),f(n,["endpoints"],C)}const v=d(o,["labels"]);v!=null&&f(n,["labels"],v);const g=d(o,["_self"]);g!=null&&f(n,["tunedModelInfo"],mA(a,g));const b=d(o,["defaultCheckpointId"]);b!=null&&f(n,["defaultCheckpointId"],b);const T=d(o,["checkpoints"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(N=>gA(a,N))),f(n,["checkpoints"],C)}return n}function hA(a,o){const n={},r=d(o,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const l=d(o,["_self"]);if(l!=null){let c=Wg(a,l);Array.isArray(c)&&(c=c.map(m=>Cc(a,m))),f(n,["models"],c)}return n}function yA(){return{}}function vA(a,o){const n={},r=d(o,["totalTokens"]);return r!=null&&f(n,["totalTokens"],r),n}function bA(a,o){const n={},r=d(o,["tokensInfo"]);return r!=null&&f(n,["tokensInfo"],r),n}function xA(a,o){const n={},r=d(o,["gcsUri"]);r!=null&&f(n,["uri"],r);const l=d(o,["bytesBase64Encoded"]);l!=null&&f(n,["videoBytes"],Zo(a,l));const c=d(o,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function TA(a,o){const n={},r=d(o,["_self"]);return r!=null&&f(n,["video"],xA(a,r)),n}function CA(a,o){const n={},r=d(o,["videos"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>TA(a,h))),f(n,["generatedVideos"],m)}const l=d(o,["raiMediaFilteredCount"]);l!=null&&f(n,["raiMediaFilteredCount"],l);const c=d(o,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function AA(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["metadata"]);l!=null&&f(n,["metadata"],l);const c=d(o,["done"]);c!=null&&f(n,["done"],c);const m=d(o,["error"]);m!=null&&f(n,["error"],m);const h=d(o,["response"]);return h!=null&&f(n,["response"],CA(a,h)),n}const SA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wA(a,o,n){const r=new qb;let l;if(n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),a.isVertexAI()){const c=gT(a,l);Object.assign(r,c)}else{const c=mT(a,l);Object.assign(r,c)}o(r)}class NA{constructor(o,n,r){this.apiClient=o,this.auth=n,this.webSocketFactory=r}async connect(o){var n,r,l,c;const m=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const g=_A(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())v=`${m}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g);else{const M=this.apiClient.getApiKey();v=`${m}/ws/google.ai.generativelanguage.${h}.GenerativeService.BidiGenerateContent?key=${M}`}let b=()=>{};const T=new Promise(M=>{b=M}),C=o.callbacks,N=function(){var M;(M=C?.onopen)===null||M===void 0||M.call(C),b({})},D=this.apiClient,w={onopen:N,onmessage:M=>{wA(D,C.onmessage,M)},onerror:(n=C?.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=C?.onclose)!==null&&r!==void 0?r:function(M){}},E=this.webSocketFactory.create(v,DA(g),w);E.connect(),await T;let I=pt(this.apiClient,o.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const M=this.apiClient.getProject(),S=this.apiClient.getLocation();I=`projects/${M}/locations/${S}/`+I}let z={};this.apiClient.isVertexAI()&&((l=o.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(o.config===void 0?o.config={responseModalities:[Us.AUDIO]}:o.config.responseModalities=[Us.AUDIO]),!((c=o.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G={model:I,config:o.config,callbacks:o.callbacks};return this.apiClient.isVertexAI()?z=jx(this.apiClient,G):z=Ox(this.apiClient,G),delete z.config,E.send(JSON.stringify(z)),new MA(E,this.apiClient)}}const EA={turnComplete:!0};class MA{constructor(o,n){this.conn=o,this.apiClient=n}tLiveClientContent(o,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Jo(o,n.turns),o.isVertexAI()?r=r.map(l=>ca(o,l)):r=r.map(l=>Ys(o,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(o,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const c of r){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!o.isVertexAI()&&!("id"in c))throw new Error(SA)}return{toolResponse:{functionResponses:r}}}sendClientContent(o){o=Object.assign(Object.assign({},EA),o);const n=this.tLiveClientContent(this.apiClient,o);this.conn.send(JSON.stringify(n))}sendRealtimeInput(o){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Gx(this.apiClient,o)}:n={realtimeInput:Fx(this.apiClient,o)},this.conn.send(JSON.stringify(n))}sendToolResponse(o){if(o.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,o);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function DA(a){const o={};return a.forEach((n,r)=>{o[r]=n}),o}function _A(a){const o=new Headers;for(const[n,r]of Object.entries(a))o.append(n,r);return o}class RA extends mr{constructor(o){super(),this.apiClient=o,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var l;let c;const m=[];if(r?.generatedImages)for(const v of r.generatedImages)v&&v?.safetyAttributes&&((l=v?.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?c=v?.safetyAttributes:m.push(v);let h;return c?h={generatedImages:m,positivePromptSafetyAttributes:c}:h={generatedImages:m},h}),this.list=async n=>{var r;const m={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((r=m.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Gs(ua.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(m),m)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(l)}}async generateContentInternal(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=_g(this.apiClient,o);return h=Le("{model}:generateContent",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>{const T=Lg(this.apiClient,b),C=new Ns;return Object.assign(C,T),C})}else{const g=Dg(this.apiClient,o);return h=Le("{model}:generateContent",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>{const T=Rg(this.apiClient,b),C=new Ns;return Object.assign(C,T),C})}}async generateContentStreamInternal(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=_g(this.apiClient,o);h=Le("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g.config,delete g._url,delete g._query;const b=this.apiClient;return m=b.requestStream({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}),m.then(function(T){return Hs(this,arguments,function*(){var C,N,D,w;try{for(var E=!0,I=bc(T),z;z=yield Bt(I.next()),C=z.done,!C;E=!0){w=z.value,E=!1;const M=Lg(b,yield Bt(w.json())),S=new Ns;Object.assign(S,M),yield yield Bt(S)}}catch(G){N={error:G}}finally{try{!E&&!C&&(D=I.return)&&(yield Bt(D.call(I)))}finally{if(N)throw N.error}}})})}else{const g=Dg(this.apiClient,o);h=Le("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g.config,delete g._url,delete g._query;const b=this.apiClient;return m=b.requestStream({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}),m.then(function(T){return Hs(this,arguments,function*(){var C,N,D,w;try{for(var E=!0,I=bc(T),z;z=yield Bt(I.next()),C=z.done,!C;E=!0){w=z.value,E=!1;const M=Rg(b,yield Bt(w.json())),S=new Ns;Object.assign(S,M),yield yield Bt(S)}}catch(G){N={error:G}}finally{try{!E&&!C&&(D=I.return)&&(yield Bt(D.call(I)))}finally{if(N)throw N.error}}})})}}async embedContent(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=fC(this.apiClient,o);return h=Le("{model}:predict",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>{const T=lA(this.apiClient,b),C=new hg;return Object.assign(C,T),C})}else{const g=RT(this.apiClient,o);return h=Le("{model}:batchEmbedContents",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>{const T=PC(this.apiClient,b),C=new hg;return Object.assign(C,T),C})}}async generateImagesInternal(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=mC(this.apiClient,o);return h=Le("{model}:predict",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>{const T=cA(this.apiClient,b),C=new yg;return Object.assign(C,T),C})}else{const g=IT(this.apiClient,o);return h=Le("{model}:predict",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>{const T=GC(this.apiClient,b),C=new yg;return Object.assign(C,T),C})}}async editImageInternal(o){var n,r;let l,c="",m={};if(this.apiClient.isVertexAI()){const h=TC(this.apiClient,o);return c=Le("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),l.then(v=>{const g=dA(this.apiClient,v),b=new Hb;return Object.assign(b,g),b})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(o){var n,r;let l,c="",m={};if(this.apiClient.isVertexAI()){const h=AC(this.apiClient,o);return c=Le("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),l.then(v=>{const g=fA(this.apiClient,v),b=new Ob;return Object.assign(b,g),b})}else throw new Error("This method is only supported by the Vertex AI.")}async get(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=SC(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>Cc(this.apiClient,b))}else{const g=kT(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>Tc(this.apiClient,b))}}async listInternal(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=NC(this.apiClient,o);return h=Le("{models_url}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>{const T=hA(this.apiClient,b),C=new vg;return Object.assign(C,T),C})}else{const g=UT(this.apiClient,o);return h=Le("{models_url}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>{const T=XC(this.apiClient,b),C=new vg;return Object.assign(C,T),C})}}async update(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=MC(this.apiClient,o);return h=Le("{model}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>Cc(this.apiClient,b))}else{const g=OT(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>Tc(this.apiClient,b))}}async delete(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=DC(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(()=>{const b=yA(),T=new bg;return Object.assign(T,b),T})}else{const g=jT(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(()=>{const b=$C(),T=new bg;return Object.assign(T,b),T})}}async countTokens(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=RC(this.apiClient,o);return h=Le("{model}:countTokens",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>{const T=vA(this.apiClient,b),C=new xg;return Object.assign(C,T),C})}else{const g=BT(this.apiClient,o);return h=Le("{model}:countTokens",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>{const T=KC(this.apiClient,b),C=new xg;return Object.assign(C,T),C})}}async computeTokens(o){var n,r;let l,c="",m={};if(this.apiClient.isVertexAI()){const h=LC(this.apiClient,o);return c=Le("{model}:computeTokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),l.then(v=>{const g=bA(this.apiClient,v),b=new jb;return Object.assign(b,g),b})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=kC(this.apiClient,o);return h=Le("{model}:predictLongRunning",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>AA(this.apiClient,b))}else{const g=FT(this.apiClient,o);return h=Le("{model}:predictLongRunning",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>WC(this.apiClient,b))}}}function LA(a,o){const n={},r=d(o,["operationName"]);r!=null&&f(n,["_url","operationName"],r);const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function IA(a,o){const n={},r=d(o,["operationName"]);r!=null&&f(n,["_url","operationName"],r);const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function kA(a,o){const n={},r=d(o,["operationName"]);r!=null&&f(n,["operationName"],r);const l=d(o,["resourceName"]);l!=null&&f(n,["_url","resourceName"],l);const c=d(o,["config"]);return c!=null&&f(n,["config"],c),n}function VA(a,o){const n={},r=d(o,["video","uri"]);r!=null&&f(n,["uri"],r);const l=d(o,["video","encodedVideo"]);l!=null&&f(n,["videoBytes"],Zo(a,l));const c=d(o,["encoding"]);return c!=null&&f(n,["mimeType"],c),n}function UA(a,o){const n={},r=d(o,["_self"]);return r!=null&&f(n,["video"],VA(a,r)),n}function HA(a,o){const n={},r=d(o,["generatedSamples"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>UA(a,h))),f(n,["generatedVideos"],m)}const l=d(o,["raiMediaFilteredCount"]);l!=null&&f(n,["raiMediaFilteredCount"],l);const c=d(o,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function OA(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["metadata"]);l!=null&&f(n,["metadata"],l);const c=d(o,["done"]);c!=null&&f(n,["done"],c);const m=d(o,["error"]);m!=null&&f(n,["error"],m);const h=d(o,["response","generateVideoResponse"]);return h!=null&&f(n,["response"],HA(a,h)),n}function jA(a,o){const n={},r=d(o,["gcsUri"]);r!=null&&f(n,["uri"],r);const l=d(o,["bytesBase64Encoded"]);l!=null&&f(n,["videoBytes"],Zo(a,l));const c=d(o,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function zA(a,o){const n={},r=d(o,["_self"]);return r!=null&&f(n,["video"],jA(a,r)),n}function BA(a,o){const n={},r=d(o,["videos"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>zA(a,h))),f(n,["generatedVideos"],m)}const l=d(o,["raiMediaFilteredCount"]);l!=null&&f(n,["raiMediaFilteredCount"],l);const c=d(o,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function Ig(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["metadata"]);l!=null&&f(n,["metadata"],l);const c=d(o,["done"]);c!=null&&f(n,["done"],c);const m=d(o,["error"]);m!=null&&f(n,["error"],m);const h=d(o,["response"]);return h!=null&&f(n,["response"],BA(a,h)),n}class PA extends mr{constructor(o){super(),this.apiClient=o}async getVideosOperation(o){const n=o.operation,r=o.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let c;return r&&"httpOptions"in r&&(c=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:c}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=IA(this.apiClient,o);return h=Le("{operationName}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>Ig(this.apiClient,b))}else{const g=LA(this.apiClient,o);return h=Le("{operationName}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>OA(this.apiClient,b))}}async fetchPredictVideosOperationInternal(o){var n,r;let l,c="",m={};if(this.apiClient.isVertexAI()){const h=kA(this.apiClient,o);return c=Le("{resourceName}:fetchPredictOperation",h._url),m=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),l.then(v=>Ig(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}}const qA="Content-Type",FA="X-Server-Timeout",GA="User-Agent",YA="x-goog-api-client",XA="0.14.1",$A=`google-genai-sdk/${XA}`,KA="v1beta1",JA="v1beta",kg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ih extends Error{constructor(o,n){n?super(o,{cause:n}):super(o,{cause:new Error().stack}),this.message=o,this.name="ClientError"}}class Ac extends Error{constructor(o,n){n?super(o,{cause:n}):super(o,{cause:new Error().stack}),this.message=o,this.name="ServerError"}}class QA{constructor(o){var n,r;this.clientOptions=Object.assign(Object.assign({},o),{project:o.project,location:o.location,apiKey:o.apiKey,vertexai:o.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:KA,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:JA,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,o.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,o.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var o;return(o=this.clientOptions.vertexai)!==null&&o!==void 0?o:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(o){if(!o||o.baseUrl===void 0||o.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[o.baseUrl.endsWith("/")?o.baseUrl.slice(0,-1):o.baseUrl];return o.apiVersion&&o.apiVersion!==""&&r.push(o.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const o=this.getBaseUrl(),n=new URL(o);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(o){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=o;else throw new Error("HTTP options are not correctly set.")}constructUrl(o,n,r){const l=[this.getRequestUrlInternal(n)];return r&&l.push(this.getBaseResourcePath()),o!==""&&l.push(o),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(o){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||o.path.startsWith("projects/")||o.httpMethod==="GET"&&o.path.startsWith("publishers/google/models"))}async request(o){let n=this.clientOptions.httpOptions;o.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,o.httpOptions));const r=this.shouldPrependVertexProjectPath(o),l=this.constructUrl(o.path,n,r);if(o.queryParams)for(const[m,h]of Object.entries(o.queryParams))l.searchParams.append(m,String(h));let c={};if(o.httpMethod==="GET"){if(o.body&&o.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=o.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,n,o.abortSignal),this.unaryApiCall(l,c,o.httpMethod)}patchHttpOptions(o,n){const r=JSON.parse(JSON.stringify(o));for(const[l,c]of Object.entries(n))typeof c=="object"?r[l]=Object.assign(Object.assign({},r[l]),c):c!==void 0&&(r[l]=c);return r}async requestStream(o){let n=this.clientOptions.httpOptions;o.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,o.httpOptions));const r=this.shouldPrependVertexProjectPath(o),l=this.constructUrl(o.path,n,r);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let c={};return c.body=o.body,c=await this.includeExtraHttpOptionsToRequestInit(c,n,o.abortSignal),this.streamApiCall(l,c,o.httpMethod)}async includeExtraHttpOptionsToRequestInit(o,n,r){if(n&&n.timeout||r){const l=new AbortController,c=l.signal;n.timeout&&n?.timeout>0&&setTimeout(()=>l.abort(),n.timeout),r&&r.addEventListener("abort",()=>{l.abort()}),o.signal=c}return o.headers=await this.getHeadersInternal(n),o}async unaryApiCall(o,n,r){return this.apiCall(o.toString(),Object.assign(Object.assign({},n),{method:r})).then(async l=>(await Vg(l),new vc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(o,n,r){return this.apiCall(o.toString(),Object.assign(Object.assign({},n),{method:r})).then(async l=>(await Vg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(o){var n;return Hs(this,arguments,function*(){const l=(n=o?.body)===null||n===void 0?void 0:n.getReader(),c=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let m="";for(;;){const{done:h,value:v}=yield Bt(l.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=c.decode(v);try{const T=JSON.parse(g);if("error"in T){const C=JSON.parse(JSON.stringify(T.error)),N=C.status,D=C.code,w=`got status: ${N}. ${JSON.stringify(T)}`;if(D>=400&&D<500)throw new ih(w);if(D>=500&&D<600)throw new Ac(w)}}catch(T){const C=T;if(C.name==="ClientError"||C.name==="ServerError")throw T}m+=g;let b=m.match(kg);for(;b;){const T=b[1];try{const C=new Response(T,{headers:o?.headers,status:o?.status,statusText:o?.statusText});yield yield Bt(new vc(C)),m=m.slice(b[0].length),b=m.match(kg)}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}finally{l.releaseLock()}})}async apiCall(o,n){return fetch(o,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const o={},n=$A+" "+this.clientOptions.userAgentExtra;return o[GA]=n,o[YA]=n,o[qA]="application/json",o}async getHeadersInternal(o){const n=new Headers;if(o&&o.headers){for(const[r,l]of Object.entries(o.headers))n.append(r,l);o.timeout&&o.timeout>0&&n.append(FA,String(Math.ceil(o.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(o,n){var r;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const c=this.clientOptions.uploader,m=await c.stat(o);l.sizeBytes=String(m.size);const h=(r=n?.mimeType)!==null&&r!==void 0?r:m.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const v=await this.fetchUploadUrl(l,n);return c.upload(o,v,this)}async downloadFile(o){await this.clientOptions.downloader.download(o,this)}async fetchUploadUrl(o,n){var r;let l={};n?.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${o.mimeType}`}};const c={file:o},m=await this.request({path:Le("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:l});if(!m||!m?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(r=m?.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Vg(a){var o;if(a===void 0)throw new Ac("response is undefined");if(!a.ok){const n=a.status,r=a.statusText;let l;!((o=a.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")?l=await a.json():l={error:{message:await a.text(),code:a.status,status:a.statusText}};const c=`got status: ${n} ${r}. ${JSON.stringify(l)}`;throw n>=400&&n<500?new ih(c):n>=500&&n<600?new Ac(c):new Error(c)}}function ZA(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["_url","name"],r);const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function WA(a,o,n){const r={},l=d(o,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const c=d(o,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=d(o,["filter"]);return n!==void 0&&m!=null&&f(n,["_query","filter"],m),r}function eS(a,o){const n={},r=d(o,["config"]);return r!=null&&f(n,["config"],WA(a,r,n)),n}function tS(a,o){const n={},r=d(o,["textInput"]);r!=null&&f(n,["textInput"],r);const l=d(o,["output"]);return l!=null&&f(n,["output"],l),n}function nS(a,o){const n={};if(d(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=d(o,["examples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>tS(a,c))),f(n,["examples","examples"],l)}return n}function oS(a,o,n){const r={};if(d(o,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(o,["tunedModelDisplayName"]);if(n!==void 0&&l!=null&&f(n,["displayName"],l),d(o,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=d(o,["epochCount"]);n!==void 0&&c!=null&&f(n,["tuningTask","hyperparameters","epochCount"],c);const m=d(o,["learningRateMultiplier"]);if(m!=null&&f(r,["tuningTask","hyperparameters","learningRateMultiplier"],m),d(o,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(o,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=d(o,["batchSize"]);n!==void 0&&h!=null&&f(n,["tuningTask","hyperparameters","batchSize"],h);const v=d(o,["learningRate"]);return n!==void 0&&v!=null&&f(n,["tuningTask","hyperparameters","learningRate"],v),r}function iS(a,o){const n={},r=d(o,["baseModel"]);r!=null&&f(n,["baseModel"],r);const l=d(o,["trainingDataset"]);l!=null&&f(n,["tuningTask","trainingData"],nS(a,l));const c=d(o,["config"]);return c!=null&&f(n,["config"],oS(a,c,n)),n}function aS(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["_url","name"],r);const l=d(o,["config"]);return l!=null&&f(n,["config"],l),n}function rS(a,o,n){const r={},l=d(o,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const c=d(o,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=d(o,["filter"]);return n!==void 0&&m!=null&&f(n,["_query","filter"],m),r}function sS(a,o){const n={},r=d(o,["config"]);return r!=null&&f(n,["config"],rS(a,r,n)),n}function lS(a,o,n){const r={},l=d(o,["gcsUri"]);if(n!==void 0&&l!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],l),d(o,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function uS(a,o){const n={},r=d(o,["gcsUri"]);return r!=null&&f(n,["validationDatasetUri"],r),n}function cS(a,o,n){const r={},l=d(o,["validationDataset"]);n!==void 0&&l!=null&&f(n,["supervisedTuningSpec"],uS(a,l));const c=d(o,["tunedModelDisplayName"]);n!==void 0&&c!=null&&f(n,["tunedModelDisplayName"],c);const m=d(o,["description"]);n!==void 0&&m!=null&&f(n,["description"],m);const h=d(o,["epochCount"]);n!==void 0&&h!=null&&f(n,["supervisedTuningSpec","hyperParameters","epochCount"],h);const v=d(o,["learningRateMultiplier"]);n!==void 0&&v!=null&&f(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const g=d(o,["exportLastCheckpointOnly"]);n!==void 0&&g!=null&&f(n,["supervisedTuningSpec","exportLastCheckpointOnly"],g);const b=d(o,["adapterSize"]);if(n!==void 0&&b!=null&&f(n,["supervisedTuningSpec","hyperParameters","adapterSize"],b),d(o,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(o,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function dS(a,o){const n={},r=d(o,["baseModel"]);r!=null&&f(n,["baseModel"],r);const l=d(o,["trainingDataset"]);l!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],lS(a,l,n));const c=d(o,["config"]);return c!=null&&f(n,["config"],cS(a,c,n)),n}function fS(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["model"],r);const l=d(o,["name"]);return l!=null&&f(n,["endpoint"],l),n}function ah(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["state"]);l!=null&&f(n,["state"],Jg(a,l));const c=d(o,["createTime"]);c!=null&&f(n,["createTime"],c);const m=d(o,["tuningTask","startTime"]);m!=null&&f(n,["startTime"],m);const h=d(o,["tuningTask","completeTime"]);h!=null&&f(n,["endTime"],h);const v=d(o,["updateTime"]);v!=null&&f(n,["updateTime"],v);const g=d(o,["description"]);g!=null&&f(n,["description"],g);const b=d(o,["baseModel"]);b!=null&&f(n,["baseModel"],b);const T=d(o,["_self"]);T!=null&&f(n,["tunedModel"],fS(a,T));const C=d(o,["distillationSpec"]);C!=null&&f(n,["distillationSpec"],C);const N=d(o,["experiment"]);N!=null&&f(n,["experiment"],N);const D=d(o,["labels"]);D!=null&&f(n,["labels"],D);const w=d(o,["pipelineJob"]);w!=null&&f(n,["pipelineJob"],w);const E=d(o,["tunedModelDisplayName"]);return E!=null&&f(n,["tunedModelDisplayName"],E),n}function pS(a,o){const n={},r=d(o,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const l=d(o,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>ah(a,m))),f(n,["tuningJobs"],c)}return n}function mS(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["metadata"]);l!=null&&f(n,["metadata"],l);const c=d(o,["done"]);c!=null&&f(n,["done"],c);const m=d(o,["error"]);return m!=null&&f(n,["error"],m),n}function gS(a,o){const n={},r=d(o,["checkpointId"]);r!=null&&f(n,["checkpointId"],r);const l=d(o,["epoch"]);l!=null&&f(n,["epoch"],l);const c=d(o,["step"]);c!=null&&f(n,["step"],c);const m=d(o,["endpoint"]);return m!=null&&f(n,["endpoint"],m),n}function hS(a,o){const n={},r=d(o,["model"]);r!=null&&f(n,["model"],r);const l=d(o,["endpoint"]);l!=null&&f(n,["endpoint"],l);const c=d(o,["checkpoints"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>gS(a,h))),f(n,["checkpoints"],m)}return n}function Sc(a,o){const n={},r=d(o,["name"]);r!=null&&f(n,["name"],r);const l=d(o,["state"]);l!=null&&f(n,["state"],Jg(a,l));const c=d(o,["createTime"]);c!=null&&f(n,["createTime"],c);const m=d(o,["startTime"]);m!=null&&f(n,["startTime"],m);const h=d(o,["endTime"]);h!=null&&f(n,["endTime"],h);const v=d(o,["updateTime"]);v!=null&&f(n,["updateTime"],v);const g=d(o,["error"]);g!=null&&f(n,["error"],g);const b=d(o,["description"]);b!=null&&f(n,["description"],b);const T=d(o,["baseModel"]);T!=null&&f(n,["baseModel"],T);const C=d(o,["tunedModel"]);C!=null&&f(n,["tunedModel"],hS(a,C));const N=d(o,["supervisedTuningSpec"]);N!=null&&f(n,["supervisedTuningSpec"],N);const D=d(o,["tuningDataStats"]);D!=null&&f(n,["tuningDataStats"],D);const w=d(o,["encryptionSpec"]);w!=null&&f(n,["encryptionSpec"],w);const E=d(o,["partnerModelTuningSpec"]);E!=null&&f(n,["partnerModelTuningSpec"],E);const I=d(o,["distillationSpec"]);I!=null&&f(n,["distillationSpec"],I);const z=d(o,["experiment"]);z!=null&&f(n,["experiment"],z);const G=d(o,["labels"]);G!=null&&f(n,["labels"],G);const M=d(o,["pipelineJob"]);M!=null&&f(n,["pipelineJob"],M);const S=d(o,["tunedModelDisplayName"]);return S!=null&&f(n,["tunedModelDisplayName"],S),n}function yS(a,o){const n={},r=d(o,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const l=d(o,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>Sc(a,m))),f(n,["tuningJobs"],c)}return n}class vS extends mr{constructor(o){super(),this.apiClient=o,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Gs(ua.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let l="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?l=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(l=r.name.split("/operations/")[0]),{name:l,state:yc.JOB_STATE_QUEUED}}}}async getInternal(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=aS(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>Sc(this.apiClient,b))}else{const g=ZA(this.apiClient,o);return h=Le("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>ah(this.apiClient,b))}}async listInternal(o){var n,r,l,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const g=sS(this.apiClient,o);return h=Le("tuningJobs",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),m.then(b=>{const T=yS(this.apiClient,b),C=new Tg;return Object.assign(C,T),C})}else{const g=eS(this.apiClient,o);return h=Le("tunedModels",g._url),v=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),m.then(b=>{const T=pS(this.apiClient,b),C=new Tg;return Object.assign(C,T),C})}}async tuneInternal(o){var n,r;let l,c="",m={};if(this.apiClient.isVertexAI()){const h=dS(this.apiClient,o);return c=Le("tuningJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),l.then(v=>Sc(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(o){var n,r;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iS(this.apiClient,o);return c=Le("tunedModels",h._url),m=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=o.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=o.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),l.then(v=>mS(this.apiClient,v))}}}class bS{async download(o,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xS=1024*1024*8,TS=3,CS=1e3,AS=2,lc="x-goog-upload-status";async function SS(a,o,n){var r,l,c;let m=0,h=0,v=new vc(new Response),g="upload";for(m=a.size;h<m;){const T=Math.min(xS,m-h),C=a.slice(h,h+T);h+T>=m&&(g+=", finalize");let N=0,D=CS;for(;N<TS&&(v=await n.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:o,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((r=v?.headers)===null||r===void 0)&&r[lc]));)N++,await NS(D),D=D*AS;if(h+=T,((l=v?.headers)===null||l===void 0?void 0:l[lc])!=="active")break;if(m<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const b=await v?.json();if(((c=v?.headers)===null||c===void 0?void 0:c[lc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return b.file}async function wS(a){return{size:a.size,type:a.type}}function NS(a){return new Promise(o=>setTimeout(o,a))}class ES{async upload(o,n,r){if(typeof o=="string")throw new Error("File path is not supported in browser uploader.");return await SS(o,n,r)}async stat(o){if(typeof o=="string")throw new Error("File path is not supported in browser uploader.");return await wS(o)}}class MS{create(o,n,r){return new DS(o,n,r)}}class DS{constructor(o,n,r){this.url=o,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(o){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(o)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const Ug="x-goog-api-key";class _S{constructor(o){this.apiKey=o}async addAuthHeaders(o){o.get(Ug)===null&&o.append(Ug,this.apiKey)}}const RS="gl-node/";class _c{constructor(o){var n;if(o.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(o.project||o.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=o.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=o.apiKey;const r=Bv(o,void 0,void 0);r&&(o.httpOptions?o.httpOptions.baseUrl=r:o.httpOptions={baseUrl:r}),this.apiVersion=o.apiVersion;const l=new _S(this.apiKey);this.apiClient=new QA({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:o.httpOptions,userAgentExtra:RS+"web",uploader:new ES,downloader:new bS}),this.models=new RA(this.apiClient),this.live=new NA(this.apiClient,l,new MS),this.chats=new $b(this.models,this.apiClient),this.caches=new Fb(this.apiClient),this.files=new sx(this.apiClient),this.operations=new PA(this.apiClient),this.tunings=new vS(this.apiClient)}}async function LS(a,o,n,r,l,c){const m=new _c({apiKey:r}),h=`You are an expert assistant for a visual AutoLISP programming tool.
Your task is to modify a diagram's structure based on user requests.
You will be given the current diagram state as a JSON object containing 'nodes' and 'connections' arrays, and a 'targetNodeId'. The provided 'nodes' and 'connections' represent a relevant subgraph of the entire diagram.
You MUST respond with ONLY a new, complete JSON object containing:
1. The updated 'nodes' array.
2. The updated 'connections' array.
3. A 'summary' key with a brief, user-friendly string in Korean describing the changes you made (e.g., "'getreal'   .").
Do not add any explanations, markdown, or other text outside of the JSON object.

Key rules for updates:
- **PRIMARY TARGET RULE:** The node with ID '${l}' is the primary target of the user's request. Your modifications MUST be applied to this node first and foremost. As a principle, try to fulfill the user's request by modifying ONLY the target node. Only modify other connected nodes if the user's request explicitly and unavoidably requires it (e.g., "add a feature *after* this node").
- You MUST NOT add or delete any nodes from the 'nodes' array. The number of nodes must remain the same. All original node IDs must be present in the new 'nodes' array.
- You can modify properties of ANY of the EXISTING nodes provided in the context (like 'inputValues', 'codeBlockValue', 'dynamicInputs', 'dynamicArgs', 'color').
- You can add or remove connections between the EXISTING nodes provided in the context.
- For all nodes, you MUST preserve their original 'x', 'y', 'width', and 'height' properties. Do not change the layout.
- When adding new dynamic inputs or dynamic arguments to a node, their IDs MUST be unique. Generate new IDs for them following the format 'dyn_input_id_[timestamp]_[random]' for inputs and 'arg_[timestamp]_[random]' for arguments. The 'name' property for new dynamic inputs must also be unique, like 'dyn_input_name_[timestamp]_[random]'.
- When you modify a 'dynamicInputs' array by adding a new input, if that new input is not the target of a new connection, you MUST populate its 'value' property with the appropriate LISP expression derived from the user's request. Do not leave 'value' as an empty string.`,v=`
Current Diagram State:
${JSON.stringify({nodes:o,connections:n},null,2)}

The primary target node for this operation is: "${l}"

User Request: "${a}"

Updated Diagram State (JSON only):
`;try{const g=await m.models.generateContent({model:c,contents:v,config:{systemInstruction:h,responseMimeType:"application/json",temperature:.2}}),T=g.text.replace(/^```json\s*/,"").replace(/```$/,""),C=JSON.parse(T);if(!C||!Array.isArray(C.nodes)||!Array.isArray(C.connections))throw new Error("AI  JSON  .");const N=g.usageMetadata?.promptTokenCount||0,D=g.usageMetadata?.candidatesTokenCount||0,w=`, : ${N} tokens, : ${D} tokens`,E=`${C.summary||" ."} (: ${c}${w})`;return{nodes:C.nodes,connections:C.connections,summary:E}}catch(g){throw console.error("Error in getDiagramUpdates:",g),g.message.includes("JSON")?new Error("AI   JSON .  ."):g}}async function IS(a,o,n,r){const l=new _c({apiKey:o}),c=`You are an expert AutoLISP assistant. Your task is to provide a clear and concise explanation for a given snippet of AutoLISP code, based on the user's request.
- Respond in Korean.
- Your answer should be plain text, suitable for a chat message. You can use markdown for formatting like bold, italics, or code blocks if it helps clarity.
- Do NOT output JSON or any other structured format.
- Focus on explaining what the provided code does, its purpose, and how its different parts work together.`,m=`The user is asking about the following AutoLISP code:
\`\`\`lisp
${n}
\`\`\`
User's request: "${a}"

Provide your explanation in Korean:`;try{const h=await l.models.generateContent({model:r,contents:m,config:{systemInstruction:c,temperature:.3}}),v=h.text.trim();if(!v)throw new Error("AI   .");const g=h.usageMetadata?.promptTokenCount||0,b=h.usageMetadata?.candidatesTokenCount||0,T=`, : ${g} tokens, : ${b} tokens`,C=`   . (: ${r}${T})`;return{explanation:v,summary:C}}catch(h){throw console.error("Error in getExplanationForLispCode:",h),h}}async function kS(a,o,n,r="gemini-2.5-flash"){const l=new _c({apiKey:o});let c,m;n!==void 0?(c=`You are an expert AutoLISP programmer. Your task is to refactor or modify the given AutoLISP code based on the user's request.
Guidelines:
- ONLY output the complete, new version of the code.
- Do NOT include any extra text, explanations, or markdown formatting like \`\`\`lisp.
- The code you output will replace the original code entirely.
- Ensure the final code is valid and well-formatted.
- If the user's request is a question or for an explanation, respond with the answer inside a LISP comment block starting with ';;'. For example: ';; 'progn'        .'`,m=`ORIGINAL LISP CODE:
\`\`\`lisp
${n}
\`\`\`

USER REQUEST: "${a}"

REFACTORED LISP CODE:`):(c=`You are an expert AutoLISP programmer. Your task is to generate complete, valid, and well-formatted AutoLISP code based on the user's request.

Guidelines:
- ONLY output the raw AutoLisp code.
- Do NOT include any extra text, explanations, comments, or markdown formatting like \`\`\`lisp before or after the code block.
- The code should be ready to be pasted directly into an AutoLISP environment.
- For new commands, use the 'c:' prefix (e.g., '(defun c:MyCommand () ...)').
- Include '(princ)' at the end of commands to ensure clean command-line output.
- If the user's request is a question, a greeting, or conversational in nature, answer it inside a LISP comment block starting with ';;'. For example, if the user says "hello", you can respond with ";; !  AutoLISP  ?".`,m=`USER REQUEST: "${a}"`);try{const h=await l.models.generateContent({model:r,contents:m,config:{systemInstruction:c,temperature:.2}});let v=h.text.trim();if(v=v.replace(/^```(lisp)?\s*/i,"").replace(/```$/,"").trim(),!v||v.length===0)throw new Error("AI   .");const g=h.usageMetadata?.promptTokenCount||0,b=h.usageMetadata?.candidatesTokenCount||0,T=`, : ${g} tokens, : ${b} tokens`,C=n!==void 0?` 'code-block'  . (: ${r}${T})`:` . (: ${r}${T})`;return{code:v,summary:C}}catch(h){console.error("AI Code Generation/Refactoring Error:",h);const v=` : ${h.message}`;let g;return n!==void 0?g=`;;     : ${h.message}
;;    .
${n}`:g=`;;     : ${h.message}`,{code:g,summary:v}}}const VS=(a,o,n)=>{const{nodes:r,connections:l}=a,c=V.useMemo(()=>new Map(Ko.map(g=>[g.name,g])),[]),m=V.useCallback(async(g,b,T,C)=>{if(!n){const E={sender:"system",content:"API   .   .",timestamp:Date.now()};o(I=>({...I,nodes:I.nodes.map(z=>z.id===g?{...z,chatHistory:[...z.chatHistory||[],E]}:z)}));return}const N={sender:"user",content:b,timestamp:Date.now()},D={sender:"system",content:"AI  ...",timestamp:Date.now()},w=[...T,N,D];o(E=>({...E,nodes:E.nodes.map(I=>I.id===g?{...I,chatHistory:w}:I)}));try{const E=l.find(M=>M.fromNode===g&&M.fromSocket==="__ai_output"),I=E?r.find(M=>M.id===E.toNode):null;if(!I){o(M=>({...M,nodes:M.nodes.map(S=>{if(S.id===g){const J={sender:"system",content:"  AI   .",timestamp:Date.now()},k=w.filter(B=>B.content!==D.content);return{...S,chatHistory:[...k,J]}}return S})}));return}if(["explain","what is","tell me about","describe","","","",""].some(M=>b.toLowerCase().includes(M))){const M=new Map(r.map(ce=>[ce.id,ce])),S=Ec(r,l),J=Rn(I,l,M,S,M,new Set,"").map(ce=>ce.text).join(""),{explanation:k,summary:B}=await IS(b,n,J,C);o(ce=>({...ce,nodes:ce.nodes.map(ie=>{if(ie.id===g){const Z={sender:"ai",content:k,timestamp:Date.now()},fe={sender:"system",content:B,timestamp:Date.now()},ue=w.filter(de=>de.content!==D.content);return{...ie,chatHistory:[...ue,Z,fe]}}return ie})}))}else if(I.functionName==="code-block"){const{code:M,summary:S}=await kS(b,n,I.codeBlockValue||"",C);o(J=>({...J,nodes:J.nodes.map(k=>{if(k.id===g){const B={sender:"system",content:S,timestamp:Date.now()};return{...k,chatHistory:[...w.filter(ce=>ce!==D),B]}}return k.id===I.id?{...k,codeBlockValue:M}:k})}))}else{const M=new Set([I.id,g,...l.filter(ie=>ie.fromNode===I.id).map(ie=>ie.toNode)]),S=r.filter(ie=>M.has(ie.id)),J=l.filter(ie=>M.has(ie.fromNode)&&M.has(ie.toNode)),{nodes:k,connections:B,summary:ce}=await LS(b,S,J,n,I.id,C);o(ie=>{const Z=new Map(k.map(he=>[he.id,he])),fe=ie.nodes.map(he=>{const O=Z.get(he.id);if(!O)return he;if(he.id===g){const re={sender:"system",content:ce||"Updated the diagram.",timestamp:Date.now()};return{...O||he,width:O.width??he.width,height:O.height??he.height,chatHistory:[...w.filter(xe=>xe!==D),re]}}return{...O,width:O.width??he.width,height:O.height??he.height}}),ue=new Set(S.map(he=>he.id)),de=ie.connections.filter(he=>!ue.has(he.fromNode)||!ue.has(he.toNode));return{nodes:fe,connections:[...de,...B]}})}}catch(E){const I=`: ${E.message}`;o(z=>({...z,nodes:z.nodes.map(G=>{if(G.id===g){const M={sender:"system",content:I,timestamp:Date.now()};return{...G,chatHistory:[...w.filter(S=>S!==D),M]}}return G})}))}},[r,l,n,o,c]),h=V.useCallback((g,b)=>{try{const T=r.find(z=>z.id===g);if(!T)throw new Error("Source node not found.");const D=T.x-300-100,w=T.y,{nodes:E,connections:I}=gc(b,D,w);if(E.length===0){alert("No diagram could be generated from the provided code.");return}o(z=>({...z,nodes:[...z.nodes,...E],connections:[...z.connections,...I]}))}catch(T){alert(`Error generating diagram: ${T.message}`)}},[r,o]),v=V.useCallback((g,b,T)=>{try{const C=r.find(ie=>ie.id===g);if(!C)throw new Error("Source node not found.");const N=l.filter(ie=>ie.toNode===g).map(ie=>r.find(Z=>Z.id===ie.fromNode)).filter(ie=>!!ie);let D=C.y;const w=50;if(N.length>0){const ie=N.map(fe=>Mv(fe,r,l));D=Math.max(...ie.map(fe=>fe.y2))+w}const z=C.x-300-100,G=D,{nodes:M,connections:S,rootNodeId:J}=gc(T,z,G);if(M.length===0||!J){alert("No diagram with a single output could be generated from the provided code.");return}const k=M.find(ie=>ie.id===J);if(!k){alert("Could not find root node in generated diagram.");return}const B=c.get(k.functionName);if(!B||!B.returnType){alert("The generated diagram's root node does not have an output to connect.");return}const ce={id:la(),fromNode:J,fromSocket:B.name,toNode:g,toSocket:b.name};o(ie=>{const Z=ie.nodes.find(O=>O.id===g),fe=c.get(Z.functionName),ue={...Z};if(fe?.args.some(O=>O.name===b.name)){const O={...Z.inputValues};O[b.name]="",ue.inputValues=O}else fe?.hasDynamicInputs&&Z.dynamicInputs&&(ue.dynamicInputs=Z.dynamicInputs.map(O=>O.name===b.name?{...O,value:""}:O));const de=[...ie.nodes.map(O=>O.id===g?ue:O),...M],he=[...ie.connections.filter(O=>O.toNode!==g||O.toSocket!==b.name),...S,ce];return{nodes:de,connections:he}})}catch(C){alert(`Error generating diagram from input: ${C.message}`)}},[r,l,o,c]);return{handleAiChatRequest:m,handleGenerateFromCodeBlock:h,handleGenerateFromInput:v}},US=(a,o)=>{const n=new Map(Ko.map(ue=>[ue.name,ue])),r=(ue,de,he)=>V.useCallback(O=>{const re=a.nodes.find(R=>R.id===O);if(!re||re.functionName!==ue||!n.get(he))return;const Re={id:$o(),functionName:he,x:re.x-270,y:re.y,inputValues:{value:"true"}},we={id:la(),fromNode:Re.id,fromSocket:he,toNode:O,toSocket:de};o(R=>({...R,nodes:[...R.nodes,Re],connections:[...R.connections.filter(K=>K.toNode!==O||K.toSocket!==de),we]}))},[a.nodes,n,o]),l=(ue,de,he,O=[])=>V.useCallback(re=>{o(xe=>{const Re=xe.nodes.find(oe=>oe.id===re);if(!Re||Re.functionName!==ue||!n.get(he))return xe;const R=xe.connections.filter(oe=>oe.toNode===re).map(oe=>xe.nodes.find(Ie=>Ie.id===oe.fromNode)).filter(oe=>!!oe&&O.includes(oe.functionName));let K=Re.x-270,pe=Re.y;if(R.length>0){const oe=R.reduce((Qe,Ye)=>Qe.y>Ye.y?Qe:Ye),Ie=120;K=oe.x,pe=oe.y+Ie}const be={id:$o(),functionName:he,x:K,y:pe,inputValues:{}},Me={id:la(),fromNode:be.id,fromSocket:he,toNode:re,toSocket:de};return{...xe,nodes:[...xe.nodes,be],connections:[...xe.connections.filter(oe=>oe.toNode!==re||oe.toSocket!==de),Me]}})},[n,o,ue,de,he,O]),c=l("initget","bits","initget-bits"),m=r("getstring","cr","getstring-cr"),h=l("grread","allkeys","grread-allkeys"),v=l("getfiled","flags","getfiled-flags"),g=r("acad_colordlg","flag","acad_colordlg-flag"),b=l("acad_colordlg","colornum","acad_colordlg-colornum"),T=l("boole","operator","boole-operator"),C=l("assoc","element","dxf-code-selector"),N=r("acad_truecolordlg","allowbylayer","acad_truecolordlg-allowbylayer"),D=r("acdimenableupdate","flag","acdimenableupdate-flag"),w=r("acet-layerp-mode","status","acet-layerp-mode-status"),E=r("vlax-dump-object","flag","vlax-dump-object-flag"),I=V.useCallback((ue,de)=>{const he=a.nodes.find(we=>we.id===ue);if(!he||he.functionName!=="cvunit"||!n.get("cvunit-helper"))return;const re=de==="from-unit"?he.y-10:he.y+10,xe={id:$o(),functionName:"cvunit-helper",x:he.x-270,y:re,inputValues:{unit:he.inputValues[de]?.replace(/"/g,"")||""}},Re={id:la(),fromNode:xe.id,fromSocket:"cvunit-helper",toNode:ue,toSocket:de};o(we=>({...we,nodes:[...we.nodes,xe],connections:[...we.connections.filter(R=>R.toNode!==ue||R.toSocket!==de),Re]}))},[a.nodes,n,o]),z=l("open","mode","open-mode"),G=l("tablet","code","tablet-code"),M=l("angtof","units","angtof-units"),S=l("angtos","unit","angtos-unit",["angtos-precision"]),J=l("angtos","precision","angtos-precision",["angtos-unit"]),k=l("distof","mode","distof-mode"),B=l("redraw","mode","redraw-mode"),ce=l("rtos","mode","rtos-mode",["rtos-precision"]),ie=l("rtos","precision","rtos-precision",["rtos-mode"]),Z=l("trans","from","trans-from",["trans-to"]),fe=l("trans","to","trans-to",["trans-from"]);return{handleAddInitgetBitsHelperNode:c,handleAddGetStringCrNode:m,handleAddGrreadAllkeysHelperNode:h,handleAddGetfiledFlagsHelperNode:v,handleAddAcadColordlgFlagHelperNode:g,handleAddAcadColordlgColornumHelperNode:b,handleAddBooleOperatorHelperNode:T,handleAddDxfCodeHelperNode:C,handleAddAcadTruecolordlgAllowbylayerHelperNode:N,handleAddAcdimenableupdateFlagHelperNode:D,handleAddAcetLayerpModeStatusHelperNode:w,handleAddVlaxDumpObjectFlagHelperNode:E,handleAddCvunitHelperNode:I,handleAddOpenModeHelperNode:z,handleAddTabletCodeHelperNode:G,handleAddAngtofUnitsHelperNode:M,handleAddAngtosUnitHelperNode:S,handleAddAngtosPrecisionHelperNode:J,handleAddDistofModeHelperNode:k,handleAddRedrawModeHelperNode:B,handleAddRtosModeHelperNode:ce,handleAddRtosPrecisionHelperNode:ie,handleAddTransFromHelperNode:Z,handleAddTransToHelperNode:fe}},rh="autolisp_blueprint_autosave",HS=()=>{try{const a=localStorage.getItem(rh);if(a){const o=JSON.parse(a);if(o&&Array.isArray(o.nodes)&&Array.isArray(o.connections))return o}}catch(a){console.warn("Failed to load autosave:",a)}return{nodes:[],connections:[]}},sh=V.createContext(null),OS=({children:a})=>{const{apiKey:o}=V.useContext(Os),n=V.useMemo(()=>HS(),[]),[r,l,c,m,h,v,g]=R0(n),{nodes:b,connections:T}=r;V.useEffect(()=>{const ue=setTimeout(()=>{try{localStorage.setItem(rh,JSON.stringify(r))}catch(de){console.error("Failed to save to local storage",de)}},1e3);return()=>clearTimeout(ue)},[r]);const[C,N]=V.useState([]);V.useEffect(()=>{const fe=setTimeout(()=>{const ue=xv(b,T);N(ue)},250);return()=>clearTimeout(fe)},[b,T]);const D=Rv(r,l),w=Lv(b,T),E=Hv(r,l,g,h),I=VS(r,l,o),z=US(r,l),G=L0({onNodeMove:D.updateNodePositions,onNodeResize:D.updateNodeSize}),[M,S]=V.useState(!1),[J,k]=V.useState(256),B=V.useCallback(fe=>{fe.preventDefault();const ue=fe.clientX,de=J,he=re=>{const xe=ue-re.clientX,Re=de+xe,we=200,R=window.innerWidth-300;k(Math.max(we,Math.min(Re,R)))},O=()=>{window.removeEventListener("mousemove",he),window.removeEventListener("mouseup",O)};window.addEventListener("mousemove",he),window.addEventListener("mouseup",O)},[J]),ce=V.useCallback(fe=>{const ue=b.find(pe=>pe.id===fe);if(!ue)return;const de=ue.width||300,he=ue.height||200,O=ue.x+de/2,re=ue.y+he/2,xe=G.canvasDimensions.width/2,Re=G.canvasDimensions.height/2,we=1,R=xe-O*we,K=Re-re*we;G.setViewState({zoom:we,x:R,y:K})},[b,G]),ie=V.useCallback(fe=>{if(!fe||fe.trim()===""){alert("Function name to find is empty.");return}const ue=b.find(de=>(de.functionName==="defun"||de.functionName==="defun-q")&&(de.inputValues.sym||"").toLowerCase()===fe.toLowerCase());ue?(w.setSelectedNodeId(ue.id),ce(ue.id)):alert(`Definition for function "${fe}" not found on the canvas.`)},[b,w,ce]);V.useEffect(()=>{const fe=ue=>{const de=ue.data;if(de.type==="update"){const he=de.text;if(!he||he.trim()===""){g({nodes:[],connections:[]});return}try{const O=JSON.parse(he);O&&Array.isArray(O.nodes)&&Array.isArray(O.connections)?g(O):(console.warn("Received update message from VS Code, but data format is invalid."),g({nodes:[],connections:[]}))}catch(O){console.error("Failed to parse file content from VS Code:",O),g({nodes:[],connections:[]})}}};return window.addEventListener("message",fe),()=>{window.removeEventListener("message",fe)}},[g]);const Z={nodes:b,connections:T,codeFragments:C,undo:c,redo:m,canUndo:h,canRedo:v,...D,...w,...G,...E,...I,...z,isApiKeyModalOpen:M,setIsApiKeyModalOpen:S,codePreviewWidth:J,handleResizeMouseDown:B,handleGoToDefinition:ie,handleCenterNode:ce};return y.jsx(sh.Provider,{value:Z,children:a})},Si=()=>{const a=V.useContext(sh);if(!a)throw new Error("useDiagramContext must be used within a DiagramProvider");return a};var Rc=zg();const Ai=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),jS=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),lh=(a,o=null)=>{if(!a)return"";const n={};let r=0,l=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(l=l.replace(/;;.*/g,m=>{const h=`__HL_COMMENT_${r++}__`;return n[h]=`<span class="text-gray-500">${m}</span>`,h}),l=l.replace(/"((?:\\.|[^"\\])*)"/g,m=>{const h=`__HL_STRING_${r++}__`;return n[h]=`<span class="text-green-400">${m}</span>`,h}),o){const m=o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),h=new RegExp(`(^|\\s|\\(|\\[|'|"|\\.)(${m})($|\\s|\\)|\\]|'|"|\\.)`,"g");l=l.replace(h,(v,g,b,T)=>{const C=`__HL_USERVAR_${r++}__`;return n[C]=`${g}<span class="bg-yellow-500 text-black rounded-sm px-0.5">${b}</span>${T}`,C})}return l.replace(/\(defun/g,'<span class="text-purple-400">(defun</span>').replace(/\(setq/g,'<span class="text-purple-400">(setq</span>').replace(/c:[a-zA-Z0-9_-]+/g,'<span class="text-blue-400">$&</span>').replace(/(\s)(var_[a-zA-Z0-9_]+)/g,'$1<span class="text-yellow-300">$2</span>').replace(/(\()([a-zA-Z0-9*+\-/]+)/g,'$1<span class="text-cyan-400">$2</span>').replace(/__HL_(COMMENT|STRING|USERVAR)_\d+__/g,m=>n[m]||m)},tr=({title:a,children:o,className:n})=>!o&&o!==0?null:y.jsxs("div",{className:`mt-2 pt-2 border-t border-gray-700/50 ${n}`,children:[y.jsx("strong",{className:"block mb-1 text-sm text-blue-300 font-semibold font-sans",children:a}),o]}),zS=({func:a,anchorRect:o})=>{const n=V.useRef(null),[r,l]=V.useState({top:-9999,left:-9999});return V.useLayoutEffect(()=>{if(!n.current||!o){l({top:-9999,left:-9999});return}const c=n.current.offsetHeight,m=window.innerHeight,h=8,v=o.right+h;let g=o.top;g+c>m-h&&(g=o.bottom-c),g+c>m-h&&(g=m-c-h),g<h&&(g=h),l({top:g,left:v})},[o,a]),y.jsxs("div",{ref:n,style:r,className:"fixed w-80 max-w-sm p-3 bg-gray-900 border border-gray-700 rounded-lg shadow-2xl z-50 pointer-events-none font-sans",children:[y.jsxs("div",{children:[y.jsx("strong",{className:"block mb-1 text-sm text-blue-300 font-semibold font-sans",children:"Name"}),y.jsx("code",{className:"font-mono text-purple-300 font-bold text-xs",children:a.name})]}),a.signature&&y.jsx(tr,{title:"Signature",children:y.jsx("code",{className:"font-mono text-gray-300 break-all text-xs",children:a.signature})}),y.jsx(tr,{title:"Description",children:y.jsx("p",{className:"text-xs text-gray-400",children:a.description})}),a.args.length>0&&y.jsx(tr,{title:"Arguments",children:a.args.map((c,m)=>y.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:[y.jsxs("div",{className:"flex items-center flex-wrap",children:[y.jsx("code",{className:"text-yellow-300 bg-gray-800 px-1 py-0.5 rounded-sm font-mono",children:c.name}),y.jsx("span",{className:"text-gray-500 mx-1",children:":"}),y.jsx("code",{className:"text-cyan-300 bg-gray-800 px-1 py-0.5 rounded-sm font-mono",children:c.type})]}),y.jsx("p",{className:"pl-2 text-gray-500",children:c.description})]},m))}),a.returnType&&y.jsx(tr,{title:"Return Value",children:y.jsx("code",{className:"text-purple-300 bg-gray-800 px-1 py-0.5 rounded-sm text-xs font-mono",children:a.returnType})}),a.example&&y.jsx(tr,{title:"Example",children:y.jsx("pre",{className:"bg-gray-800 p-2 rounded-md text-xs mt-1 thin-scrollbar overflow-auto",children:y.jsx("code",{className:"text-white whitespace-pre-wrap font-mono",dangerouslySetInnerHTML:{__html:lh(a.example)}})})})]})},BS=({text:a,highlight:o})=>{if(!o.trim())return y.jsx("span",{children:a});const n=o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp(`(${n})`,"gi"),l=a.split(r);return y.jsx("span",{children:l.map((c,m)=>c&&c.toLowerCase()===o.toLowerCase()?y.jsx("span",{className:"bg-yellow-500 text-black rounded-sm px-0.5",children:c},m):c)})},PS=()=>{const{addNode:a,selectedNodeId:o,nodes:n,screenToWorld:r,canvasContainerRef:l}=Si(),[c,m]=V.useState(""),[h,v]=V.useState({Arithmetic:!1,VLAX:!0}),[g,b]=V.useState(null),T=w=>{let E,I;const z=o?n.find(G=>G.id===o):void 0;if(z)E=z.x-400,I=z.y;else{const G=l.current;if(G){const M=G.getBoundingClientRect(),S=M.left+M.width/2,J=M.top+M.height/2,k=r(S,J);E=k.x-150,I=k.y-50}else E=300,I=100}a(w,{x:E,y:I})},C=w=>{v(E=>({...E,[w]:!E[w]}))},N=V.useMemo(()=>Ko.filter(E=>E.name.toLowerCase().includes(c.toLowerCase())||E.description.toLowerCase().includes(c.toLowerCase())).reduce((E,I)=>((E[I.category]=E[I.category]||[]).push(I),E),{}),[c]),D=(w,E)=>{const I=w.currentTarget.getBoundingClientRect();b({func:E,anchorRect:I})};return y.jsxs("div",{className:"flex flex-col p-2 flex-grow overflow-hidden",children:[y.jsx("h2",{className:"text-xl font-bold mb-2 text-center text-blue-400 flex-shrink-0",children:"Function Library"}),y.jsx("input",{type:"text",placeholder:"Search by name or desc...",value:c,onChange:w=>m(w.target.value),className:"w-full p-2 mb-4 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 flex-shrink-0",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false"}),y.jsx("div",{className:"flex-grow overflow-y-auto thin-scrollbar",children:Object.entries(N).map(([w,E])=>y.jsxs("div",{className:"mb-2",children:[y.jsxs("button",{onClick:()=>C(w),className:"w-full flex items-center justify-between text-lg font-semibold text-gray-400 mb-2 sticky top-0 bg-gray-800 py-1 focus:outline-none hover:text-white",children:[y.jsx("span",{children:w}),y.jsx(jS,{className:`w-5 h-5 transition-transform duration-200 ${h[w]?"":"rotate-180"}`})]}),!h[w]&&y.jsx("ul",{children:E.map(I=>y.jsx("li",{className:"mb-1 group",onMouseEnter:z=>D(z,I),onMouseLeave:()=>b(null),children:y.jsxs("button",{onClick:()=>T(I),className:"w-full flex items-center justify-between text-left p-2 bg-gray-700 hover:bg-blue-600 rounded-md transition-colors duration-150",children:[y.jsx("span",{className:"font-mono",children:y.jsx(BS,{text:I.name,highlight:c})}),y.jsx(Ai,{className:"w-5 h-5 text-gray-400 group-hover:text-white"})]})},I.name))})]},w))}),g&&Rc.createPortal(y.jsx(zS,{func:g.func,anchorRect:g.anchorRect}),document.body)]})},Nt=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.067-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),Yn=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.53 16.122 7.07-7.071a2.25 2.25 0 0 0-3.182-3.182L9.53 9.531Zm-2.428-.707L3 21l6.122-6.122a3 3 0 0 0-4.242-4.242Z"})}),xi=a=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 12H12 M12 12 7 6 M12 12H7 M12 12 7 18"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 10.5h4v3h-4v-3zM3 4.5h4v3H3v-3zM3 10.5h4v3H3v-3zM3 16.5h4v3H3v-3z"})]}),qS=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-4.5 0V6m0 0h4.5m-4.5 0 6.75 6.75"})}),ft=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"})}),aa=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"none",...a,children:y.jsx("path",{fillRule:"evenodd",d:"M8.25 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 4.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 4.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm4.5-9a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 4.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 4.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"})}),FS=a=>{const o={};let n=0,r=a;r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r=r.replace(/;;.*/g,c=>{const m=`__HL_COMMENT_${n++}__`;return o[m]=`<span class="text-gray-500">${c}</span>`,m}),r=r.replace(/"((?:\\.|[^"\\])*)"/g,c=>{const m=`__HL_STRING_${n++}__`;return o[m]=`<span class="text-green-400">${c}</span>`,m});let l=r.replace(/\(defun/g,'<span class="text-purple-400">(defun</span>').replace(/\(setq/g,'<span class="text-purple-400">(setq</span>').replace(/c:[a-zA-Z0-9_-]+/g,'<span class="text-blue-400">$&</span>').replace(/(\s)(var_[a-zA-Z0-9_]+)/g,'$1<span class="text-yellow-300">$2</span>').replace(/(\()([a-zA-Z0-9*+\-/]+)/g,'$1<span class="text-cyan-400">$2</span>');return l=l.replace(/__HL_(COMMENT|STRING)_\d+__/g,c=>o[c]||c),l+`
`};function GS(a,o){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>a(...r),o)}}const uh=({value:a,onChange:o,autoFocus:n})=>{const[r,l]=V.useState(a||""),c=V.useRef(null),m=V.useRef(null),h=V.useMemo(()=>GS(C=>{o(C)},500),[o]);V.useEffect(()=>{a!==r&&l(a||"")},[a]);const v=C=>{l(C),h(C)},g=()=>{c.current&&m.current&&(m.current.scrollTop=c.current.scrollTop,m.current.scrollLeft=c.current.scrollLeft)},b=C=>{if(C.key==="Tab"){C.preventDefault();const N=C.currentTarget.selectionStart,D=C.currentTarget.selectionEnd,w=r.substring(0,N)+"  "+r.substring(D);l(w),h(w),setTimeout(()=>{c.current&&(c.current.selectionStart=c.current.selectionEnd=N+2)},0)}},T=V.useMemo(()=>r.length>2e4?r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+`
`:FS(r),[r]);return y.jsxs("div",{className:"relative font-mono text-sm w-full h-full bg-gray-900 rounded-md",children:[y.jsx("textarea",{ref:c,value:r,onChange:C=>v(C.target.value),onScroll:g,onKeyDown:b,spellCheck:"false",autoCapitalize:"off",autoCorrect:"off",autoFocus:n,className:"absolute inset-0 w-full h-full p-2 bg-transparent text-transparent caret-white resize-none border-0 outline-none overflow-auto thin-scrollbar native-scroll",style:{whiteSpace:"pre",wordWrap:"normal"}}),y.jsx("pre",{ref:m,"aria-hidden":"true",className:"absolute inset-0 w-full h-full p-2 text-white pointer-events-none overflow-auto thin-scrollbar native-scroll",children:y.jsx("code",{dangerouslySetInnerHTML:{__html:T}})})]})},YS=a=>{if(!a)return!1;const o=a.trim();return o.startsWith("(")||o.startsWith("'(")},Go=({nodeId:a,socketName:o,isInput:n,type:r,description:l,isHovered:c,compatibility:m,onMouseDown:h,onMouseUp:v,onTouchStart:g,onHover:b})=>{const{showTooltip:T,hideTooltip:C}=at(),N=n?r==="ai_link"?"bg-pink-500":"bg-cyan-400":"bg-purple-400",E=`w-3 h-3 rounded-full border-2 border-gray-900 cursor-crosshair transition-colors flex-shrink-0 ${c?m==="compatible"?"bg-green-400 ring-2 ring-green-300":m==="incompatible"?"bg-red-500 ring-2 ring-red-400":N:N} ${n?r==="ai_link"?"hover:bg-pink-400":"hover:bg-cyan-300":"hover:bg-purple-300"}`,I=[`Name: ${o||"Unnamed"}`,`Type: ${r||"any"}`];l&&l.trim()&&I.push("",l);const z=I.join(`
`);return y.jsx("div",{id:`socket-${n?"in":"out"}-${a}-${o}`,className:E,onMouseDown:h,onMouseUp:v,onTouchStart:g,onMouseEnter:G=>{b(!0),T(z,G.currentTarget)},onMouseLeave:()=>{b(!1),C()}})},nr=["#1F2937","#be123c","#16a34a","#1d4ed8","#ca8a04"],or=a=>{const{value:o,onChange:n,...r}=a,[l,c]=V.useState(o),m=V.useRef(!1);return V.useEffect(()=>{m.current||c(o)},[o]),y.jsx("input",{...r,value:l,onCompositionStart:()=>{m.current=!0},onCompositionEnd:h=>{m.current=!1,n(h.target.value)},onChange:h=>{c(h.target.value),m.current||n(h.target.value)}})},ra=a=>{if(!a)return!1;const o=a.trim();if(o.startsWith("'(")&&o.endsWith(")"))return!0;if(!o.startsWith("(")||!o.endsWith(")"))return!1;const n=o.match(/^\(\s*([^\s()]+)/);if(!n||!n[1])return!1;const r=n[1];return!(r.startsWith('"')||r.startsWith("'")||!isNaN(parseFloat(r))&&isFinite(r)||r.toLowerCase()==="nil"||r.toLowerCase()==="t")},sa=({id:a,value:o,placeholder:n,disabled:r,onFocus:l,onBlur:c,onClick:m,highlightedVarName:h})=>{const v=h&&!r&&o===h;return y.jsx("div",{id:a,className:`w-full min-w-0 bg-gray-800 border border-gray-600 rounded-sm px-1 py-0.5 text-xs text-left cursor-text ${r?"bg-gray-900 text-gray-500 cursor-not-allowed":"hover:border-blue-500"}`,onFocus:l,onBlur:c,onClick:r?void 0:m,onMouseDown:g=>g.stopPropagation(),children:o?y.jsx("span",{className:`block truncate ${v?"bg-yellow-500 text-black rounded-sm":""}`,children:o}):y.jsx("span",{className:"text-gray-500",children:n})})},Hg=({variable:a,defunNodeId:o,onRenameVariable:n,onVariableFocus:r,onVariableBlur:l,existingNames:c})=>{const[m,h]=V.useState(a.name),[v,g]=V.useState(!1),b=V.useRef(!1),T=V.useRef(null),{showTooltip:C,hideTooltip:N}=at();V.useEffect(()=>{b.current||(h(a.name),g(!1))},[a.name]),V.useEffect(()=>{v&&T.current?C("This variable name is already in use.",T.current):N()},[v,C,N]);const D=M=>M.trim()!==""&&c.includes(M),w=M=>{h(M),g(D(M)),b.current||r(o,M)},E=()=>{const M=m.trim(),S=D(M);return g(S),!S&&M!==""&&M!==a.name||!S&&M!==""&&a.name===""?(n(o,a.id,M),!0):!1},I=M=>{M.key==="Enter"?(M.preventDefault(),E(),M.currentTarget.blur()):M.key==="Escape"&&(M.preventDefault(),h(a.name),g(!1),M.currentTarget.blur())},z=()=>{E()||(m.trim()===""||D(m))&&h(a.name),g(!1),l()},G=`flex-1 min-w-0 bg-gray-800 border rounded-sm px-2 py-0.5 text-xs focus:outline-none focus:ring-1 ${v?"border-pink-500 focus:ring-pink-500":"border-gray-600 focus:ring-blue-500"}`;return y.jsx("input",{ref:T,id:`var-input-${a.id}`,type:"text",className:G,placeholder:"var_name",value:m,onCompositionStart:()=>{b.current=!0},onCompositionEnd:M=>{b.current=!1,w(M.target.value)},onChange:M=>w(M.target.value),onKeyDown:I,onBlur:z,onFocus:()=>r(o,m),onMouseDown:M=>M.stopPropagation(),autoCapitalize:"off",autoCorrect:"off",spellCheck:"false"})},XS=({data:a,lispFunction:o,isSelected:n,onDragStart:r,onDragTouchStart:l,onSocketMouseDown:c,onSocketMouseUp:m,onSocketTouchStart:h,onRemove:v,onUpdateValue:g,onUpdateNodeColor:b,onUpdateDynamicArgs:T,onUpdateDynamicVars:C,onUpdateDynamicInputs:N,onUpdateCodeBlockValue:D,hasInputConnection:w,onSocketHover:E,hoveredSocketInfo:I,compatibilityStatus:z,onResizeStart:G,onInputFocus:M,onGenerateFromCodeBlock:S,onGenerateFromDynamicInput:J,onGenerateFromStaticInput:k,onActivateEditor:B,onAddInitgetBitsHelperNode:ce,onAddGetStringCrNode:ie,onAddGrreadAllkeysHelperNode:Z,onAddGetfiledFlagsHelperNode:fe,onAddAcadColordlgFlagHelperNode:ue,onAddAcadColordlgColornumHelperNode:de,onAddBooleOperatorHelperNode:he,onAddDxfCodeHelperNode:O,onAddAcadTruecolordlgAllowbylayerHelperNode:re,onAddAcdimenableupdateFlagHelperNode:xe,onAddAcetLayerpModeStatusHelperNode:Re,onAddVlaxDumpObjectFlagHelperNode:we,onAddCvunitHelperNode:R,onAddOpenModeHelperNode:K,onAddTabletCodeHelperNode:pe,onAddAngtofUnitsHelperNode:be,onAddAngtosUnitHelperNode:Me,onAddAngtosPrecisionHelperNode:oe,onAddDistofModeHelperNode:Ie,onAddRedrawModeHelperNode:Qe,onAddRtosModeHelperNode:Ye,onAddRtosPrecisionHelperNode:fn,onAddTransFromHelperNode:wn,onAddTransToHelperNode:Xn,onGoToDefinition:vo,onCenterNode:nn,highlightedVarName:rt,onVariableFocus:Ln,onVariableBlur:bo,onRenameVariable:Wo,connectedInputValues:ei,focusedInputKey:Nn})=>{const{showTooltip:De,hideTooltip:ve}=at(),ti=a.width||300,_t=a.height||192,pn=V.useRef(null),on=V.useRef(null),$n=["defun","defun-q","lambda"].includes(o.name),In=V.useMemo(()=>{if(!$n)return[];const _=(a.dynamicArgs||[]).map(me=>me.name),W=(a.dynamicVars||[]).map(me=>me.name);return[..._,...W]},[a.dynamicArgs,a.dynamicVars,$n]);V.useEffect(()=>{if(pn.current){const _=document.getElementById(pn.current);_&&_.focus(),pn.current=null}},[a.dynamicArgs,a.dynamicVars,a.dynamicInputs]),V.useEffect(()=>{if(Nn){let _=`input-node-${a.id}-arg-${Nn}`;Nn.startsWith("d_input_id-")&&(_=`input-node-${a.id}-dyn-${Nn}`);const W=document.getElementById(_);W&&(W.tagName==="INPUT"?(W.focus(),W.select()):W.click(),W.scrollIntoView({behavior:"smooth",block:"nearest"}))}},[Nn,a.id]);const kn=(_,W,me)=>{_.stopPropagation(),on.current={index:W,type:me},_.dataTransfer.effectAllowed="move"},jt=(_,W,me)=>{if(_.stopPropagation(),_.preventDefault(),!on.current||on.current.type!==me||on.current.index===W)return;const ae=on.current.index,$=W;if(me==="arg"){const Te=[...a.dynamicArgs||[]],gt=Te[ae];Te.splice(ae,1),Te.splice($,0,gt),T(a.id,Te)}else if(me==="var"){const Te=[...a.dynamicVars||[]],gt=Te[ae];Te.splice(ae,1),Te.splice($,0,gt),C(a.id,Te)}else if(me==="input"){const Te=[...a.dynamicInputs||[]],gt=Te[ae];Te.splice(ae,1),Te.splice($,0,gt),N(a.id,Te)}else if(me==="pair"){const Te=ae*2,gt=$*2,Tt=[...a.dynamicInputs||[]],ot=Tt.splice(Te,2);Tt.splice(gt,0,...ot),N(a.id,Tt)}on.current.index=$},Vn=_=>{_.stopPropagation(),on.current=null},Un=_=>{_.stopPropagation(),G(a.id,_)},Et=()=>{const _={id:dc(),name:""};pn.current=`var-input-${_.id}`,T(a.id,[...a.dynamicArgs||[],_])},Rt=_=>{const W=(a.dynamicArgs||[]).filter(me=>me.id!==_);T(a.id,W)},Pt=()=>{const _={id:Pg(),name:""};pn.current=`var-input-${_.id}`,C(a.id,[...a.dynamicVars||[],_])},Lt=_=>{const W=(a.dynamicVars||[]).filter(me=>me.id!==_);C(a.id,W)},xo=()=>{const{id:_,name:W}=yo(),me={id:_,name:W,label:"",value:""};pn.current=`dyn-input-label-${me.id}`,N(a.id,[...a.dynamicInputs||[],me])},wi=(_,W)=>{const me=(a.dynamicInputs||[]).map(ae=>ae.id===_?{...ae,label:W}:ae);N(a.id,me)},Hn=(_,W)=>{const me=(a.dynamicInputs||[]).map(ae=>ae.id===_?{...ae,value:W}:ae);N(a.id,me)},On=_=>{const W=(a.dynamicInputs||[]).filter(me=>me.id!==_);N(a.id,W)},ni=()=>{const _=yo(),W=yo(),me={id:_.id,name:_.name,label:"",value:""},ae={id:W.id,name:W.name,label:"",value:""};o.name==="setq"&&(pn.current=`paired-input-sym-${me.id}`),N(a.id,[...a.dynamicInputs||[],me,ae])},To=_=>{const W=[...a.dynamicInputs||[]];W.splice(_,2),N(a.id,W)},st=(_,W)=>{const me=(a.dynamicInputs||[]).map((ae,$)=>$===_?{...ae,value:W}:ae);N(a.id,me)},mn=(_,W)=>{const me=(a.dynamicInputs||[]).map((ae,$)=>$===_?{...ae,value:W}:ae);N(a.id,me)},lt=(_,W)=>{const me=(a.dynamicInputs||[]).map((ae,$)=>$===_?{...ae,value:W}:ae);N(a.id,me)},Kn=_=>{_.stopPropagation();const W=a.color||nr[0],ae=(nr.indexOf(W)+1)%nr.length;b(a.id,nr[ae])},Jn=_=>{_.stopPropagation(),ve(),a.codeBlockValue&&a.codeBlockValue.trim()!==""?S(a.id,a.codeBlockValue):alert("There is no code to generate a diagram from.")},gn=(_,W,me)=>{_.stopPropagation(),ve(),J(a.id,W,me)},qt="text-white font-bold py-2 px-3 rounded-t-md flex justify-between items-center transition-colors duration-300",Ft=o.dynamicInputType||"any";return y.jsxs("div",{className:`absolute bg-gray-700 border-2 rounded-lg shadow-xl cursor-move select-none ${n?"border-blue-400 ring-2 ring-blue-400":"border-gray-600"}`,style:{left:a.x,top:a.y,width:`${ti}px`,minWidth:"250px"},onMouseDown:_=>r(a.id,_),onTouchStart:_=>l(a.id,_),children:[y.jsxs("div",{className:qt,style:{backgroundColor:a.color||nr[0]},onMouseEnter:_=>De(o.description,_.currentTarget),onMouseLeave:ve,onDoubleClick:()=>nn(a.id),children:[y.jsxs("div",{className:"flex items-center flex-grow min-w-0",children:[y.jsx(Go,{nodeId:a.id,socketName:"__ai_target",isInput:!0,type:"ai_link",description:"Connect an AI Chat node here to target operations on this node.",isHovered:I?.socketName==="__ai_target",compatibility:z,onMouseDown:_=>c(a.id,"__ai_target",!1,_),onMouseUp:_=>m(a.id,"__ai_target",!1,_),onTouchStart:_=>h(a.id,"__ai_target",!1,_),onHover:_=>E(_?{nodeId:a.id,socketName:"__ai_target",isInput:!0}:null)}),y.jsx("span",{className:"ml-2 truncate text-xl font-bold",children:o.name})]}),y.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[o.hasCodeBlock&&y.jsx("button",{className:"p-1 rounded-full hover:bg-white/20 transition-colors",onClick:Jn,onMouseDown:_=>_.stopPropagation(),onMouseEnter:_=>De("Generate Diagram from Code",_.currentTarget),onMouseLeave:ve,children:y.jsx(xi,{className:"w-4 h-4"})}),o.name==="caller"&&y.jsx("button",{className:"p-1 rounded-full hover:bg-white/20 transition-colors",onClick:_=>{_.stopPropagation(),ve();const W=a.inputValues.function_name;W&&W.trim()!==""?vo(W):alert("Caller has no function name specified.")},onMouseDown:_=>_.stopPropagation(),onMouseEnter:_=>De("Go to Definition",_.currentTarget),onMouseLeave:ve,children:y.jsx(qS,{className:"w-4 h-4"})}),y.jsx("button",{className:"p-1 rounded-full hover:bg-white/20 transition-colors",onClick:Kn,onMouseDown:_=>_.stopPropagation(),onMouseEnter:_=>De("Change Node Color",_.currentTarget),onMouseLeave:ve,children:y.jsx(Yn,{className:"w-4 h-4"})}),y.jsx("button",{className:"p-1 rounded-full hover:bg-red-500 transition-colors",onClick:_=>{_.stopPropagation(),ve(),v(a.id)},onMouseDown:_=>_.stopPropagation(),onMouseEnter:_=>De("Delete Node",_.currentTarget),onMouseLeave:ve,children:y.jsx(Nt,{className:"w-4 h-4"})})]})]}),y.jsx("div",{className:"p-3",children:o.hasCodeBlock?y.jsx("div",{onMouseDown:_=>_.stopPropagation(),style:{height:`${_t}px`},children:y.jsx(uh,{value:a.codeBlockValue||"",onChange:_=>D(a.id,_)})}):$n?(()=>{const _=o.args[0];return(o.name==="defun"||o.name==="defun-q")&&!_?null:y.jsxs(y.Fragment,{children:[(o.name==="defun"||o.name==="defun-q")&&_&&y.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[y.jsx("div",{className:"flex items-center",children:y.jsx("span",{className:"text-gray-300 ml-2",children:_.name})}),y.jsx(or,{id:`input-node-${a.id}-arg-${_.name}`,type:"text",className:"w-48 bg-gray-800 border border-gray-600 rounded-sm px-1 py-0.5 text-xs text-left focus:outline-none focus:ring-1 focus:ring-blue-500",style:{width:"9rem"},placeholder:_.type,value:a.inputValues[_.name]||"",onChange:W=>g(a.id,_.name,W),onMouseDown:W=>W.stopPropagation(),onFocus:()=>M(_.description),onBlur:()=>M(null),autoCapitalize:"off",autoCorrect:"off",spellCheck:"false"})]}),y.jsxs("div",{className:"py-2 my-2 border-y border-gray-600",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h4",{className:"text-xs font-semibold text-gray-400",children:"arguments"}),y.jsx("button",{onClick:W=>{W.stopPropagation(),Et()},onMouseDown:W=>W.stopPropagation(),className:"p-1 rounded-full hover:bg-blue-500",onMouseEnter:W=>De("Add Argument",W.currentTarget),onMouseLeave:ve,children:y.jsx(Ai,{className:"w-4 h-4"})})]}),y.jsx("div",{className:"max-h-[150px] overflow-y-auto thin-scrollbar native-scroll pr-2",onWheel:W=>W.stopPropagation(),children:y.jsx("div",{className:"space-y-2",children:(a.dynamicArgs||[]).map((W,me)=>{const ae=In.filter($=>$!==W.name);return y.jsxs("div",{className:`flex items-center space-x-2 ${rt&&W.name&&W.name===rt?"bg-blue-800/50 rounded":""}`,onDragEnter:$=>jt($,me,"arg"),onDragOver:$=>$.preventDefault(),children:[y.jsx(Hg,{variable:W,defunNodeId:a.id,onRenameVariable:Wo,onVariableFocus:Ln,onVariableBlur:bo,existingNames:ae}),y.jsx("button",{onClick:$=>{$.stopPropagation(),Rt(W.id)},onMouseDown:$=>$.stopPropagation(),className:"p-1 rounded-full hover:bg-red-500",onMouseEnter:$=>De("Remove Argument",$.currentTarget),onMouseLeave:ve,children:y.jsx(Nt,{className:"w-4 h-4"})}),y.jsx("div",{draggable:!0,onDragStart:$=>kn($,me,"arg"),onDragEnd:Vn,onMouseDown:$=>$.stopPropagation(),className:"cursor-grab hover:text-gray-300 text-gray-500",children:y.jsx(aa,{className:"w-4 h-4"})})]},W.id)})})})]}),o.name!=="lambda"&&y.jsxs("div",{className:"py-2 my-2 border-b border-gray-600",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h4",{className:"text-xs font-semibold text-gray-400",children:"variables"}),y.jsx("button",{onClick:W=>{W.stopPropagation(),Pt()},onMouseDown:W=>W.stopPropagation(),className:"p-1 rounded-full hover:bg-blue-500",onMouseEnter:W=>De("Add Local Variable",W.currentTarget),onMouseLeave:ve,children:y.jsx(Ai,{className:"w-4 h-4"})})]}),y.jsx("div",{className:"max-h-[150px] overflow-y-auto thin-scrollbar native-scroll pr-2",onWheel:W=>W.stopPropagation(),children:y.jsx("div",{className:"space-y-2",children:(a.dynamicVars||[]).map((W,me)=>{const ae=In.filter($=>$!==W.name);return y.jsxs("div",{className:`flex items-center space-x-2 ${rt&&W.name&&W.name===rt?"bg-blue-800/50 rounded":""}`,onDragEnter:$=>jt($,me,"var"),onDragOver:$=>$.preventDefault(),children:[y.jsx(Hg,{variable:W,defunNodeId:a.id,onRenameVariable:Wo,onVariableFocus:Ln,onVariableBlur:bo,existingNames:ae}),y.jsx("button",{onClick:$=>{$.stopPropagation(),Lt(W.id)},onMouseDown:$=>$.stopPropagation(),className:"p-1 rounded-full hover:bg-red-500",onMouseEnter:$=>De("Remove Variable",$.currentTarget),onMouseLeave:ve,children:y.jsx(Nt,{className:"w-4 h-4"})}),y.jsx("div",{draggable:!0,onDragStart:$=>kn($,me,"var"),onDragEnd:Vn,onMouseDown:$=>$.stopPropagation(),className:"cursor-grab hover:text-gray-300 text-gray-500",children:y.jsx(aa,{className:"w-4 h-4"})})]},W.id)})})})]}),y.jsxs("div",{className:"mt-2",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h4",{className:"text-xs font-semibold text-gray-400",children:"expressions"}),y.jsx("button",{onClick:W=>{W.stopPropagation(),xo()},onMouseDown:W=>W.stopPropagation(),className:"p-1 rounded-full hover:bg-blue-500",onMouseEnter:W=>De("Add Expression",W.currentTarget),onMouseLeave:ve,children:y.jsx(Ai,{className:"w-4 h-4"})})]}),y.jsx("div",{className:"space-y-2",children:(a.dynamicInputs||[]).map((W,me)=>{const ae=rt&&W.label===rt;return y.jsxs("div",{className:"flex items-center justify-between text-sm space-x-2",onDragEnter:$=>jt($,me,"input"),onDragOver:$=>$.preventDefault(),children:[y.jsx(Go,{nodeId:a.id,socketName:W.name,isInput:!0,type:"any",description:"A literal LISP expression to execute. The result can be optionally assigned to the variable name on the right.",isHovered:I?.socketName===W.name,compatibility:z,onMouseDown:$=>c(a.id,W.name,!1,$),onMouseUp:$=>m(a.id,W.name,!1,$),onTouchStart:$=>h(a.id,W.name,!1,$),onHover:$=>E($?{nodeId:a.id,socketName:W.name,isInput:!0}:null)}),y.jsx(or,{id:`dyn-input-label-${W.id}`,type:"text",className:`w-16 flex-shrink-0 text-gray-300 focus:outline-none focus:bg-gray-800 focus:ring-1 focus:ring-blue-500 rounded-sm px-1 py-0.5 text-xs ${ae?"bg-yellow-500 !text-black":"bg-transparent"}`,value:W.label,onChange:$=>wi(W.id,$),onMouseDown:$=>$.stopPropagation(),placeholder:`Expr_${me+1}`,onFocus:()=>M("Optional variable name to store the expression's result."),onBlur:()=>M(null),autoCapitalize:"off",autoCorrect:"off",spellCheck:"false"}),y.jsxs("div",{className:"flex-grow flex items-center min-w-0",children:[!w(W.name)&&ra(W.value)&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-green-600 transition-colors flex-shrink-0",onClick:$=>gn($,W,W.value),onMouseDown:$=>$.stopPropagation(),onMouseEnter:$=>De("Generate Diagram from this LISP expression",$.currentTarget),onMouseLeave:ve,children:y.jsx(xi,{className:"w-3 h-3"})}),y.jsx(sa,{id:`input-node-${a.id}-dyn-${W.id}`,value:W.value||"",placeholder:"(lisp-expr)",disabled:w(W.name),onFocus:()=>M("A literal LISP expression to execute if not connected."),onBlur:()=>M(null),onClick:$=>B({initialValue:W.value||"",sourceElement:$.currentTarget,onSave:Te=>Hn(W.id,Te),onCancel:()=>{}}),highlightedVarName:rt})]}),y.jsx("button",{onClick:$=>{$.stopPropagation(),On(W.id)},onMouseDown:$=>$.stopPropagation(),className:"p-1 rounded-full hover:bg-red-500 flex-shrink-0",onMouseEnter:$=>De("Remove Expression",$.currentTarget),onMouseLeave:ve,children:y.jsx(Nt,{className:"w-4 h-4"})}),y.jsx("div",{draggable:!0,onDragStart:$=>kn($,me,"input"),onDragEnd:Vn,onMouseDown:$=>$.stopPropagation(),className:"cursor-grab hover:text-gray-300 text-gray-500 flex-shrink-0",children:y.jsx(aa,{className:"w-4 h-4"})})]},W.id)})})]})]})})():y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mb-2",children:o.args.map(_=>{const W=rt&&!w(_.name)&&a.inputValues[_.name]===rt,me=o.name==="initget"&&_.name==="bits",ae=o.name==="getstring"&&_.name==="cr",$=o.name==="grread"&&_.name==="allkeys",Te=o.name==="getfiled"&&_.name==="flags",gt=o.name==="acad_colordlg"&&_.name==="flag",Tt=o.name==="acad_colordlg"&&_.name==="colornum",ot=o.name==="boole"&&_.name==="operator",Ue=o.name==="assoc"&&_.name==="element",jn=o.name==="acad_truecolordlg"&&_.name==="allowbylayer",En=o.name==="acdimenableupdate"&&_.name==="flag",Xt=o.name==="acet-layerp-mode"&&_.name==="status",da=o.name==="vlax-dump-object"&&_.name==="flag",oi=o.name==="cvunit"&&(_.name==="from-unit"||_.name==="to-unit"),Qn=o.name==="open"&&_.name==="mode",Zn=o.name==="tablet"&&_.name==="code",zn=o.name==="angtof"&&_.name==="units",Bn=o.name==="angtos"&&_.name==="unit",It=o.name==="angtos"&&_.name==="precision",Mt=o.name==="distof"&&_.name==="mode",ht=o.name==="redraw"&&_.name==="mode",Q=o.name==="rtos"&&_.name==="mode",se=o.name==="rtos"&&_.name==="precision",ge=o.name==="trans"&&_.name==="from",Ae=o.name==="trans"&&_.name==="to",Se=w(_.name),Oe=ei?.[_.name];return y.jsxs("div",{className:"flex items-center space-x-2 mb-2 text-sm",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx(Go,{nodeId:a.id,socketName:_.name,isInput:!0,type:_.type,description:_.description,isHovered:I?.socketName===_.name,compatibility:z,onMouseDown:H=>c(a.id,_.name,!1,H),onMouseUp:H=>m(a.id,_.name,!1,H),onTouchStart:H=>h(a.id,_.name,!1,H),onHover:H=>E(H?{nodeId:a.id,socketName:_.name,isInput:!0}:null)})}),y.jsx("div",{className:"w-24 flex-shrink-0",children:y.jsx("span",{className:"text-gray-300 truncate block",title:_.name,children:_.name})}),y.jsx("div",{className:"flex-shrink-0 w-10 text-left",children:y.jsx("span",{className:"text-gray-500 text-xs",children:_.optional?"(opt)":""})}),y.jsxs("div",{className:"flex items-center flex-grow min-w-0",children:[me&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),ce(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'initget-bits' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),$&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),Z(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'grread-allkeys' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Te&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),fe(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'getfiled-flags' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),ot&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),he(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'boole-operator' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Ue&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),O(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'dxf-code-selector' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),ae&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),ie(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'getstring-cr' node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),gt&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),ue(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'acad_colordlg-flag' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Tt&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),de(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'acad_colordlg-colornum' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),jn&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),re(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'acad_truecolordlg-allowbylayer' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),En&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),xe(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'acdimenableupdate-flag' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Xt&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),Re(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'acet-layerp-mode-status' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),da&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),we(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'vlax-dump-object-flag' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),oi&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),R(a.id,_.name)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'cvunit-helper' node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Qn&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),K(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'open-mode' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Zn&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),pe(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'tablet-code' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),zn&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),be(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'angtof-units' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Bn&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),Me(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'angtos-unit' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),It&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),oe(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'angtos-precision' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Mt&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),Ie(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'distof-mode' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),ht&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),Qe(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'redraw-mode' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Q&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),Ye(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'rtos-mode' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),se&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),fn(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'rtos-precision' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),ge&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),wn(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'trans-from' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Ae&&!Se&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-blue-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),Xn(a.id)},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Add 'trans-to' helper node",H.currentTarget),onMouseLeave:ve,children:y.jsx(ft,{className:"w-4 h-4"})}),Se?Oe!==void 0?y.jsx("div",{className:"w-full bg-gray-900 border border-gray-700 rounded-sm px-1 py-0.5 h-6 flex items-center justify-end text-xs text-gray-300",children:Oe}):y.jsx("div",{className:"w-full h-6 bg-gray-900 border border-gray-700 rounded-sm"}):y.jsxs(y.Fragment,{children:[o.name!=="quote"&&ra(a.inputValues[_.name])&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-green-600 transition-colors flex-shrink-0",onClick:H=>{H.stopPropagation(),ve(),k(a.id,_.name,a.inputValues[_.name])},onMouseDown:H=>H.stopPropagation(),onMouseEnter:H=>De("Generate Diagram from this LISP expression",H.currentTarget),onMouseLeave:ve,children:y.jsx(xi,{className:"w-3 h-3"})}),_.type.includes("string")||_.type.includes("symbol")||_.type.includes("any")?y.jsx(sa,{id:`input-node-${a.id}-arg-${_.name}`,value:a.inputValues[_.name]||"",placeholder:_.type,disabled:!1,onFocus:()=>M(_.description),onBlur:()=>M(null),onClick:H=>B({initialValue:a.inputValues[_.name]||"",sourceElement:H.currentTarget,onSave:Pe=>g(a.id,_.name,Pe),onCancel:()=>{}}),highlightedVarName:rt}):y.jsx(or,{id:`input-node-${a.id}-arg-${_.name}`,type:"text",className:`w-full bg-gray-800 border border-gray-600 rounded-sm px-1 py-0.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 ${YS(a.inputValues[_.name])?"text-left":"text-right"} ${W?"bg-yellow-500 !text-black placeholder-gray-700":""}`,placeholder:_.type,value:a.inputValues[_.name]||"",onChange:H=>g(a.id,_.name,H),onMouseDown:H=>H.stopPropagation(),onFocus:()=>M(_.description),onBlur:()=>M(null),autoCapitalize:"off",autoCorrect:"off",spellCheck:"false"})]})]})]},_.name)})}),o.hasDynamicInputs&&!o.hasPairedDynamicInputs&&y.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-600",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h4",{className:"text-xs font-semibold text-gray-400",children:"expressions"}),y.jsx("button",{onClick:_=>{_.stopPropagation(),xo()},onMouseDown:_=>_.stopPropagation(),className:"p-1 rounded-full hover:bg-blue-500 transition-colors",onMouseEnter:_=>De("Add Expression",_.currentTarget),onMouseLeave:ve,children:y.jsx(Ai,{className:"w-4 h-4"})})]}),y.jsx("div",{className:"space-y-2",children:(a.dynamicInputs||[]).map((_,W)=>{const me=rt&&_.label===rt;return y.jsxs("div",{className:"flex items-center justify-between text-sm space-x-2",onDragEnter:ae=>jt(ae,W,"input"),onDragOver:ae=>ae.preventDefault(),children:[y.jsx(Go,{nodeId:a.id,socketName:_.name,isInput:!0,type:Ft,description:`An expression of type '${Ft}' to be used as an argument.`,isHovered:I?.socketName===_.name,compatibility:z,onMouseDown:ae=>c(a.id,_.name,!1,ae),onMouseUp:ae=>m(a.id,_.name,!1,ae),onTouchStart:ae=>h(a.id,_.name,!1,ae),onHover:ae=>E(ae?{nodeId:a.id,socketName:_.name,isInput:!0}:null)}),y.jsx(or,{id:`dyn-input-label-${_.id}`,type:"text",className:`w-16 flex-shrink-0 text-gray-300 focus:outline-none focus:bg-gray-800 focus:ring-1 focus:ring-blue-500 rounded-sm px-1 py-0.5 text-xs ${me?"bg-yellow-500 !text-black":"bg-transparent"}`,value:_.label,onChange:ae=>wi(_.id,ae),onMouseDown:ae=>ae.stopPropagation(),placeholder:`Expr_${W+1}`,onFocus:()=>M("Optional variable name to store the expression's result."),onBlur:()=>M(null),autoCapitalize:"off",autoCorrect:"off",spellCheck:"false"}),y.jsxs("div",{className:"flex-grow flex items-center min-w-0",children:[!w(_.name)&&ra(_.value)&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-green-600 transition-colors flex-shrink-0",onClick:ae=>gn(ae,_,_.value),onMouseDown:ae=>ae.stopPropagation(),onMouseEnter:ae=>De("Generate Diagram from this LISP expression",ae.currentTarget),onMouseLeave:ve,children:y.jsx(xi,{className:"w-3 h-3"})}),y.jsx(sa,{id:`input-node-${a.id}-dyn-${_.id}`,value:_.value||"",placeholder:"(lisp-expr)",disabled:w(_.name),onFocus:()=>M("A literal LISP expression to execute if not connected."),onBlur:()=>M(null),onClick:ae=>B({initialValue:_.value||"",sourceElement:ae.currentTarget,onSave:$=>Hn(_.id,$),onCancel:()=>{}}),highlightedVarName:rt})]}),y.jsx("button",{onClick:ae=>{ae.stopPropagation(),On(_.id)},onMouseDown:ae=>ae.stopPropagation(),className:"p-1 rounded-full hover:bg-red-500 transition-colors flex-shrink-0",onMouseEnter:ae=>De("Remove Expression",ae.currentTarget),onMouseLeave:ve,children:y.jsx(Nt,{className:"w-4 h-4"})}),y.jsx("div",{draggable:!0,onDragStart:ae=>kn(ae,W,"input"),onDragEnd:Vn,onMouseDown:ae=>ae.stopPropagation(),className:"cursor-grab hover:text-gray-300 text-gray-500 flex-shrink-0",children:y.jsx(aa,{className:"w-4 h-4"})})]},_.id)})})]}),o.hasPairedDynamicInputs&&y.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-600",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h4",{className:"text-xs font-semibold text-gray-400",children:o.name==="cond"?"clauses":"symbol expression pairs"}),y.jsx("button",{onClick:_=>{_.stopPropagation(),ni()},onMouseDown:_=>_.stopPropagation(),className:"p-1 rounded-full hover:bg-blue-500 transition-colors",onMouseEnter:_=>De(o.name==="cond"?"Add Clause":"Add Symbol-Expression Pair",_.currentTarget),onMouseLeave:ve,children:y.jsx(Ai,{className:"w-4 h-4"})})]}),y.jsx("div",{className:"space-y-2",children:o.name==="cond"?(a.dynamicInputs||[]).reduce((_,W,me)=>me%2===0?[..._,me]:_,[]).map((_,W)=>{const me=(a.dynamicInputs||[])[_],ae=(a.dynamicInputs||[])[_+1];return!me||!ae?null:y.jsxs("div",{className:"relative p-2 pr-8 border border-gray-600 rounded-md bg-gray-800/50",onDragEnter:$=>jt($,W,"pair"),onDragOver:$=>$.preventDefault(),children:[y.jsxs("div",{className:"flex items-center justify-between text-sm space-x-2 mb-1",children:[y.jsx(Go,{nodeId:a.id,socketName:me.name,isInput:!0,type:"any",description:"The test expression for this clause. The clause executes if this is not nil.",isHovered:I?.socketName===me.name,compatibility:z,onMouseDown:$=>c(a.id,me.name,!1,$),onMouseUp:$=>m(a.id,me.name,!1,$),onTouchStart:$=>h(a.id,me.name,!1,$),onHover:$=>E($?{nodeId:a.id,socketName:me.name,isInput:!0}:null)}),y.jsx("span",{className:"w-12 flex-shrink-0 text-gray-400 text-xs mr-2",children:"test"}),y.jsxs("div",{className:"flex-grow flex items-center min-w-0",children:[!w(me.name)&&ra(me.value)&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-green-600 transition-colors",onClick:$=>{$.stopPropagation(),J(a.id,me,me.value)},onMouseDown:$=>$.stopPropagation(),onMouseEnter:$=>De("Generate Diagram from this LISP expression",$.currentTarget),onMouseLeave:ve,children:y.jsx(xi,{className:"w-3 h-3"})}),y.jsx(sa,{id:`input-node-${a.id}-dyn-${me.id}`,value:me.value||"",placeholder:"(test-expr)",disabled:w(me.name),onFocus:()=>M("The test expression for this clause. The clause executes if this is not nil."),onBlur:()=>M(null),onClick:$=>B({initialValue:me.value||"",sourceElement:$.currentTarget,onSave:Te=>lt(_,Te),onCancel:()=>{}}),highlightedVarName:rt})]})]}),y.jsxs("div",{className:"flex items-center justify-between text-sm space-x-2",children:[y.jsx(Go,{nodeId:a.id,socketName:ae.name,isInput:!0,type:"any",description:"The result expression if the test is true.",isHovered:I?.socketName===ae.name,compatibility:z,onMouseDown:$=>c(a.id,ae.name,!1,$),onMouseUp:$=>m(a.id,ae.name,!1,$),onTouchStart:$=>h(a.id,ae.name,!1,$),onHover:$=>E($?{nodeId:a.id,socketName:ae.name,isInput:!0}:null)}),y.jsx("span",{className:"w-12 flex-shrink-0 text-gray-400 text-xs mr-2",children:"result"}),y.jsxs("div",{className:"flex-grow flex items-center min-w-0",children:[!w(ae.name)&&ra(ae.value)&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-green-600 transition-colors",onClick:$=>{$.stopPropagation(),J(a.id,ae,ae.value)},onMouseDown:$=>$.stopPropagation(),onMouseEnter:$=>De("Generate Diagram from this LISP expression",$.currentTarget),onMouseLeave:ve,children:y.jsx(xi,{className:"w-3 h-3"})}),y.jsx(sa,{id:`input-node-${a.id}-dyn-${ae.id}`,value:ae.value||"",placeholder:"(result-expr)",disabled:w(ae.name),onFocus:()=>M("The result expression if the test is true."),onBlur:()=>M(null),onClick:$=>B({initialValue:ae.value||"",sourceElement:$.currentTarget,onSave:Te=>lt(_+1,Te),onCancel:()=>{}}),highlightedVarName:rt})]})]}),y.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex flex-col items-center space-y-2",children:[y.jsx("button",{onClick:$=>{$.stopPropagation(),To(_)},onMouseDown:$=>$.stopPropagation(),className:"p-1 text-gray-500 hover:text-red-400",onMouseEnter:$=>De("Remove Clause",$.currentTarget),onMouseLeave:ve,children:y.jsx(Nt,{className:"w-4 h-4"})}),y.jsx("div",{draggable:!0,onDragStart:$=>kn($,W,"pair"),onDragEnd:Vn,onMouseDown:$=>$.stopPropagation(),className:"cursor-grab hover:text-gray-300 text-gray-500",children:y.jsx(aa,{className:"w-4 h-4"})})]})]},me.id)}):(a.dynamicInputs||[]).reduce((_,W,me)=>me%2===0?[..._,me]:_,[]).map((_,W)=>{const me=(a.dynamicInputs||[])[_],ae=(a.dynamicInputs||[])[_+1];if(!me||!ae)return null;const $=rt&&me.value===rt;return y.jsxs("div",{className:"flex items-center justify-between text-sm space-x-2",onDragEnter:Te=>jt(Te,W,"pair"),onDragOver:Te=>Te.preventDefault(),children:[y.jsx(or,{id:`paired-input-sym-${me.id}`,type:"text",className:`w-20 bg-gray-800 border border-gray-600 rounded-sm px-1 py-0.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 ${$?"bg-yellow-500 !text-black":""}`,placeholder:"symbol",value:me.value||"",onChange:Te=>st(_,Te),onMouseDown:Te=>Te.stopPropagation(),onFocus:()=>M("The symbol (variable name) to assign a value to."),onBlur:()=>M(null),autoCapitalize:"off",autoCorrect:"off",spellCheck:"false"}),y.jsx(Go,{nodeId:a.id,socketName:ae.name,isInput:!0,type:"any",description:"The expression or value to be assigned to the symbol.",isHovered:I?.socketName===ae.name,compatibility:z,onMouseDown:Te=>c(a.id,ae.name,!1,Te),onMouseUp:Te=>m(a.id,ae.name,!1,Te),onTouchStart:Te=>h(a.id,ae.name,!1,Te),onHover:Te=>E(Te?{nodeId:a.id,socketName:ae.name,isInput:!0}:null)}),y.jsxs("div",{className:"flex-grow flex items-center min-w-0",children:[!w(ae.name)&&ra(ae.value)&&y.jsx("button",{className:"p-0.5 mr-1 rounded-sm hover:bg-green-600 transition-colors flex-shrink-0",onClick:Te=>{Te.stopPropagation(),J(a.id,ae,ae.value)},onMouseDown:Te=>Te.stopPropagation(),onMouseEnter:Te=>De("Generate Diagram from this LISP expression",Te.currentTarget),onMouseLeave:ve,children:y.jsx(xi,{className:"w-3 h-3"})}),y.jsx(sa,{id:`input-node-${a.id}-dyn-${ae.id}`,value:ae.value||"",placeholder:"expression",disabled:w(ae.name),onFocus:()=>M("The expression or value to be assigned to the symbol."),onBlur:()=>M(null),onClick:Te=>B({initialValue:ae.value||"",sourceElement:Te.currentTarget,onSave:gt=>mn(_+1,gt),onCancel:()=>{}}),highlightedVarName:rt})]}),y.jsx("button",{onClick:Te=>{Te.stopPropagation(),To(_)},onMouseDown:Te=>Te.stopPropagation(),className:"p-1 rounded-full hover:bg-red-500 transition-colors flex-shrink-0",onMouseEnter:Te=>De("Remove Pair",Te.currentTarget),onMouseLeave:ve,children:y.jsx(Nt,{className:"w-4 h-4"})}),y.jsx("div",{draggable:!0,onDragStart:Te=>kn(Te,W,"pair"),onDragEnd:Vn,onMouseDown:Te=>Te.stopPropagation(),className:"cursor-grab hover:text-gray-300 text-gray-500 flex-shrink-0",children:y.jsx(aa,{className:"w-4 h-4"})})]},me.id)})})]})]})}),o.returnType&&y.jsxs("div",{className:"flex items-center justify-end text-sm mt-2 p-3 pt-2 border-t border-gray-600",children:[y.jsxs("span",{className:"text-gray-300 mr-2",children:["Return (",o.returnType,")"]}),y.jsx(Go,{nodeId:a.id,socketName:o.name,isInput:!1,type:o.returnType||"any",description:"",isHovered:I?.socketName===o.name,compatibility:z,onMouseDown:_=>c(a.id,o.name,!0,_),onMouseUp:_=>m(a.id,o.name,!0,_),onTouchStart:_=>h(a.id,o.name,!0,_),onHover:_=>E(_?{nodeId:a.id,socketName:o.name,isInput:!1}:null)})]}),o.hasCodeBlock&&y.jsx("div",{onMouseDown:Un,className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-10 text-gray-500 hover:text-gray-300",onMouseEnter:_=>De("Resize",_.currentTarget),onMouseLeave:ve,children:y.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M11 1L1 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),y.jsx("path",{d:"M11 5L5 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),y.jsx("path",{d:"M11 9L9 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})]})},$S=V.memo(XS),KS=({data:a,lispFunction:o,isSelected:n,onDragStart:r,onDragTouchStart:l,onRemove:c,onUpdateValue:m,onResizeStart:h})=>{const{showTooltip:v,hideTooltip:g}=at(),b=a.width||300,T=a.height||44,C=w=>{w.stopPropagation(),h(a.id,w)},N=w=>{w.stopPropagation()},D=w=>{w.stopPropagation(),g(),c(a.id)};return y.jsxs("div",{className:`absolute group cursor-move select-none p-2 rounded-md transition-colors duration-200
        ${n?"border-2 border-dashed border-blue-400 bg-gray-800/80":"border-2 border-transparent hover:bg-gray-700/60"}`,style:{left:a.x,top:a.y,width:`${b}px`,height:`${T}px`},onMouseDown:w=>r(a.id,w),onTouchStart:w=>l(a.id,w),onMouseEnter:w=>v(o.description,w.currentTarget),onMouseLeave:g,children:[y.jsx("div",{className:"absolute top-1 right-1 flex space-x-1 z-10",children:y.jsx("button",{className:"p-1 rounded-full text-gray-400 bg-gray-800/50 opacity-0 group-hover:opacity-100 hover:bg-red-500 hover:text-white transition-opacity",onClick:D,onMouseDown:w=>w.stopPropagation(),onMouseEnter:w=>v("Delete Note",w.currentTarget),onMouseLeave:g,children:y.jsx(Nt,{className:"w-4 h-4"})})}),y.jsx("textarea",{value:a.codeBlockValue||"",onChange:w=>m(a.id,w.target.value),onMouseDown:N,spellCheck:"false",className:"font-mono w-full h-full bg-transparent text-gray-200 resize-none border-0 outline-none p-1 thin-scrollbar native-scroll",placeholder:"Type your note or LISP code here..."}),y.jsx("div",{onMouseDown:C,className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-10 text-gray-500 opacity-0 group-hover:opacity-100 hover:text-gray-300",onMouseEnter:w=>v("Resize",w.currentTarget),onMouseLeave:g,children:y.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M11 1L1 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),y.jsx("path",{d:"M11 5L5 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),y.jsx("path",{d:"M11 9L9 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})]})},JS=V.memo(KS),QS=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.455.09-.934.09-1.425v-2.287a6.75 6.75 0 0 1-.61-3.483c0-3.726 3.024-6.75 6.75-6.75S21 8.274 21 12Z"})}),ZS=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})}),ch=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,className:`animate-spin ${a.className||""}`,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),WS=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5"})}),e1=({nodeId:a,socketName:o,isInput:n,type:r,description:l,isHovered:c,compatibility:m,onMouseDown:h,onMouseUp:v,onHover:g})=>{const{showTooltip:b,hideTooltip:T}=at(),C=n?"bg-cyan-400":"bg-pink-500",w=`w-3 h-3 rounded-full border-2 border-gray-900 cursor-crosshair transition-colors ${c?m==="compatible"?"bg-green-400 ring-2 ring-green-300":m==="incompatible"?"bg-red-500 ring-2 ring-red-400":C:C} ${n?"hover:bg-cyan-300":"hover:bg-pink-400"}`,E=[`Name: ${o||"Unnamed"}`,`Type: ${r||"any"}`];l&&l.trim()&&E.push("",l);const I=E.join(`
`);return y.jsx("div",{id:`socket-${n?"in":"out"}-${a}-${o}`,className:w,onMouseDown:h,onMouseUp:v,onMouseEnter:z=>{g(!0),b(I,z.currentTarget)},onMouseLeave:()=>{g(!1),T()}})},Ds=["#1F2937","#be123c","#16a34a","#1d4ed8","#ca8a04"],t1=({content:a})=>{const o=a.split(/(```[\s\S]*?```)/g);return y.jsx(y.Fragment,{children:o.map((n,r)=>{if(!n)return null;if(n.startsWith("```")){const l=n.replace(/^```(?:\w*\n)?|```$/g,"").trim();return y.jsx("pre",{className:"bg-gray-900 p-2 rounded-md text-sm my-2 thin-scrollbar overflow-auto select-text whitespace-pre-wrap",children:y.jsx("code",{children:l})},r)}else{const l=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,'<code class="bg-gray-800 px-1 py-0.5 rounded-sm text-yellow-300">$1</code>').replace(/\n/g,"<br />");return y.jsx("div",{className:"select-text",dangerouslySetInnerHTML:{__html:l}},r)}})})},n1=({data:a,lispFunction:o,nodes:n,connections:r,isSelected:l,onDragStart:c,onDragTouchStart:m,onRemove:h,onUpdateNodeColor:v,onResizeStart:g,onAiChatRequest:b,onSocketMouseDown:T,onSocketMouseUp:C,onSocketHover:N,onCenterNode:D,hoveredSocketInfo:w,compatibilityStatus:E,onUpdateModel:I,onDeleteChatMessage:z})=>{const{showTooltip:G,hideTooltip:M}=at(),S=a.width||400,J=a.height||300,[k,B]=V.useState(""),[ce,ie]=V.useState(!1),[Z,fe]=V.useState(48),{apiKey:ue}=V.useContext(Os),de=V.useRef(null),he=V.useRef(0);let O=a.selectedModel||"gemini-2.5-flash";O==="gemini-2.0-pro-exp-02-05"&&(O="gemini-3-pro-preview"),V.useEffect(()=>{if(de.current){const oe=a.chatHistory?.length||0;(oe>he.current||he.current===0&&oe>0)&&(de.current.scrollTop=de.current.scrollHeight),he.current=oe}},[a.chatHistory]);const re=oe=>{oe.stopPropagation();const Ie=a.color||Ds[0],Ye=(Ds.indexOf(Ie)+1)%Ds.length;v(a.id,Ds[Ye])},xe=oe=>{oe.stopPropagation(),g(a.id,oe)},Re=oe=>{oe.stopPropagation(),oe.preventDefault();const Ie=oe.clientY,Qe=Z,Ye=J,fn=Xn=>{const vo=Ie-Xn.clientY,nn=Qe+vo,rt=32,Ln=Ye-150,bo=Math.max(rt,Math.min(nn,Ln));fe(bo)},wn=()=>{document.documentElement.style.cursor="",document.documentElement.style.userSelect="",window.removeEventListener("mousemove",fn),window.removeEventListener("mouseup",wn,{capture:!0})};document.documentElement.style.cursor="row-resize",document.documentElement.style.userSelect="none",window.addEventListener("mousemove",fn),window.addEventListener("mouseup",wn,{capture:!0})},we=oe=>{oe.stopPropagation()},R=oe=>{oe.stopPropagation(),M(),h(a.id)},K=async()=>{!k.trim()||ce||(ie(!0),await b(a.id,k,a.chatHistory||[],O),B(""),ie(!1))},pe=oe=>{I&&I(a.id,oe.target.value)},be=oe=>{z&&z(a.id,oe)},Me=oe=>{navigator.clipboard.writeText(oe)};return y.jsxs("div",{className:`absolute group bg-gray-700 border-2 rounded-lg shadow-xl cursor-move select-none flex flex-col
        ${l?"border-indigo-400 ring-2 ring-indigo-400":"border-gray-600"}`,style:{left:a.x,top:a.y,width:`${S}px`,height:`${J}px`},onMouseDown:oe=>c(a.id,oe),onTouchStart:oe=>m(a.id,oe),children:[y.jsxs("div",{className:"text-white font-bold py-2 px-3 rounded-t-md flex justify-between items-center flex-shrink-0",style:{backgroundColor:a.color||"#1F2937"},onMouseEnter:oe=>G(o.description,oe.currentTarget),onMouseLeave:M,onDoubleClick:()=>D(a.id),children:[y.jsxs("span",{className:"flex items-center text-base font-bold",children:[y.jsx(QS,{className:"w-5 h-5 mr-2"})," AI Chat Assistant"]}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsxs("select",{className:"text-xs bg-gray-800 border border-gray-600 rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-blue-500 mr-1",value:O,onChange:pe,onMouseDown:oe=>oe.stopPropagation(),title:"Select AI Model",children:[y.jsx("option",{value:"gemini-2.5-flash",children:"Flash (Fast)"}),y.jsx("option",{value:"gemini-3-pro-preview",children:"Pro (Smart)"})]}),y.jsx("button",{className:"p-1 rounded-full hover:bg-white/20 transition-colors",onClick:re,onMouseDown:oe=>oe.stopPropagation(),onMouseEnter:oe=>G("Change Node Color",oe.currentTarget),onMouseLeave:M,children:y.jsx(Yn,{className:"w-4 h-4"})}),y.jsx("button",{className:"p-1 rounded-full hover:bg-red-500 transition-colors",onClick:R,onMouseDown:oe=>oe.stopPropagation(),onMouseEnter:oe=>G("Delete Node",oe.currentTarget),onMouseLeave:M,children:y.jsx(Nt,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"flex-grow p-2 flex flex-col overflow-hidden cursor-auto select-none",onMouseDown:we,onMouseUp:we,children:[y.jsx("div",{ref:de,className:"flex-grow overflow-y-auto mb-2 pr-2 space-y-3 thin-scrollbar native-scroll select-text",children:(a.chatHistory||[]).map((oe,Ie)=>y.jsx("div",{className:`flex items-start gap-2.5 ${oe.sender==="user"?"justify-end":""}`,children:y.jsxs("div",{className:`flex flex-col w-full max-w-[80%] leading-1.5 p-3 border-gray-200 rounded-xl relative group/message ${oe.sender==="user"?"rounded-br-none bg-blue-600":oe.sender==="system"?"rounded-bl-none bg-gray-600":"rounded-bl-none bg-indigo-600"}`,children:[y.jsx("div",{className:"text-sm font-normal text-white select-text",children:y.jsx(t1,{content:oe.content})}),y.jsxs("div",{className:"absolute top-0 right-0 m-1.5 flex gap-1 opacity-0 group-hover/message:opacity-100 transition-opacity",children:[y.jsx("button",{className:"p-1 bg-gray-500 hover:bg-green-600 rounded-full text-white shadow-sm transition-colors",onClick:Qe=>{Qe.stopPropagation(),Me(oe.content)},title:"Copy markdown",children:y.jsx(WS,{className:"w-3 h-3"})}),z&&y.jsx("button",{className:"p-1 bg-red-500 rounded-full text-white hover:bg-red-600 shadow-sm",onClick:Qe=>{Qe.stopPropagation(),be(Ie)},title:"Delete message",children:y.jsx(Nt,{className:"w-3 h-3"})})]})]})},Ie))}),y.jsx("div",{className:"w-full h-1.5 cursor-row-resize bg-gray-600 hover:bg-blue-600 transition-colors flex-shrink-0 rounded-sm",onMouseDown:Re,onMouseEnter:oe=>G("Resize Input",oe.currentTarget),onMouseLeave:M}),y.jsxs("div",{className:"relative flex-shrink-0 mt-1",style:{height:`${Z}px`},children:[y.jsx("textarea",{value:k,onChange:oe=>B(oe.target.value),disabled:ce,placeholder:ue?": getpoint  ...":" API  ...",className:"block w-full h-full p-2.5 pr-10 text-sm text-gray-200 bg-gray-800 rounded-lg border border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 resize-none thin-scrollbar native-scroll"}),y.jsx("button",{type:"button",onClick:K,disabled:ce||!k.trim()||!ue,className:"absolute top-1/2 right-2.5 -translate-y-1/2 p-1.5 text-indigo-300 rounded-full bg-transparent hover:bg-gray-600 hover:text-indigo-200 disabled:hover:bg-transparent disabled:cursor-not-allowed disabled:opacity-50",children:ce?y.jsx(ch,{className:"w-4 h-4"}):y.jsx(ZS,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"flex-shrink-0 flex items-center justify-end px-3 py-1 border-t border-gray-600/50 select-none",onMouseDown:we,children:[y.jsx("span",{className:"text-xs text-gray-400 mr-2",children:"AI Target"}),y.jsx(e1,{nodeId:a.id,socketName:"__ai_output",isInput:!1,type:"ai_link",description:"Connect to a node's AI target socket (top-left) to have the AI modify it.",isHovered:w?.socketName==="__ai_output",compatibility:E,onMouseDown:oe=>T(a.id,"__ai_output",!0,oe),onMouseUp:oe=>C(a.id,"__ai_output",!0,oe),onHover:oe=>N(oe?{nodeId:a.id,socketName:"__ai_output",isInput:!1}:null)})]}),y.jsx("div",{onMouseDown:xe,className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-10 text-gray-500 opacity-0 group-hover:opacity-100 hover:text-gray-300 select-none",onMouseEnter:oe=>G("Resize",oe.currentTarget),onMouseLeave:M,children:y.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M11 1L1 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),y.jsx("path",{d:"M11 5L5 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),y.jsx("path",{d:"M11 9L9 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})]})},o1=V.memo(n1),i1=a=>!!a&&a.startsWith("data:image/"),a1=({data:a,lispFunction:o,isSelected:n,onDragStart:r,onDragTouchStart:l,onRemove:c,onUpdateValue:m,onResizeStart:h})=>{const{showTooltip:v,hideTooltip:g}=at(),b=V.useRef(null),T=a.width||250,C=a.height||150;V.useEffect(()=>{n&&b.current&&b.current.focus({preventScroll:!0})},[n]);const N=M=>{const S=M.clipboardData.items;for(let J=0;J<S.length;J++)if(S[J].type.indexOf("image")!==-1){M.preventDefault();const k=S[J].getAsFile();if(!k)return;const B=new FileReader;B.onload=ce=>{const ie=ce.target?.result;m(a.id,ie)},B.readAsDataURL(k);return}},D=M=>{M.stopPropagation(),h(a.id,M)},w=M=>{M.stopPropagation()},E=M=>{M.stopPropagation(),g(),c(a.id)},I=M=>{M.stopPropagation(),m(a.id,"")},z=M=>{M.stopPropagation()},G=i1(a.codeBlockValue);return y.jsxs("div",{ref:b,tabIndex:0,className:`absolute group cursor-move select-none p-2 rounded-md transition-colors duration-200 outline-none
        ${n?"border-2 border-dashed border-blue-400 bg-gray-800/80":"border-2 border-transparent hover:bg-gray-700/60"}`,style:{left:a.x,top:a.y,width:`${T}px`,height:`${C}px`},onMouseDown:M=>r(a.id,M),onTouchStart:M=>l(a.id,M),onWheel:z,onPaste:N,onMouseEnter:M=>v(o.description,M.currentTarget),onMouseLeave:g,children:[y.jsx("div",{className:"absolute top-1 right-1 flex space-x-1 z-10",children:y.jsx("button",{className:"p-1 rounded-full text-gray-400 bg-gray-800/50 opacity-0 group-hover:opacity-100 hover:bg-red-500 hover:text-white transition-opacity",onClick:E,onMouseDown:M=>M.stopPropagation(),onMouseEnter:M=>v("Delete Node",M.currentTarget),onMouseLeave:g,children:y.jsx(Nt,{className:"w-4 h-4"})})}),y.jsx("div",{className:"w-full h-full",onMouseDown:w,children:G?y.jsxs("div",{className:"w-full h-full relative",children:[y.jsx("img",{src:a.codeBlockValue,alt:"Pasted content",className:"w-full h-full object-contain"}),y.jsx("button",{className:"absolute top-0 right-0 p-0.5 m-1 rounded-full text-white bg-black/50 hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100",onClick:I,onMouseEnter:M=>{M.stopPropagation(),v("Clear Image",M.currentTarget)},onMouseLeave:g,children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-sm border-2 border-dashed border-gray-600 rounded-md",children:"Paste an image here"})}),y.jsx("div",{onMouseDown:D,className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-10 text-gray-500 opacity-0 group-hover:opacity-100 hover:text-gray-300",onMouseEnter:M=>v("Resize",M.currentTarget),onMouseLeave:g,children:y.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M11 1L1 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),y.jsx("path",{d:"M11 5L5 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),y.jsx("path",{d:"M11 9L9 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})]})},r1=V.memo(a1),s1=({nodeId:a,socketName:o,isInput:n,type:r,description:l,isHovered:c,compatibility:m,onMouseDown:h,onMouseUp:v,onHover:g})=>{const{showTooltip:b,hideTooltip:T}=at(),C=n?"bg-cyan-400":"bg-purple-400",w=`w-3 h-3 rounded-full border-2 border-gray-900 cursor-crosshair transition-colors ${c?m==="compatible"?"bg-green-400":m==="incompatible"?"bg-red-500":C:C} ${n?"hover:bg-cyan-300":"hover:bg-purple-300"}`;return y.jsx("div",{id:`socket-${n?"in":"out"}-${a}-${o}`,className:w,onMouseDown:h,onMouseUp:v,onMouseEnter:E=>{g(!0),b(l,E.currentTarget)},onMouseLeave:()=>{g(!1),T()}})},ir=["#1F2937","#be123c","#16a34a","#1d4ed8","#ca8a04"],l1=({data:a,lispFunction:o,options:n,isSelected:r,onDragStart:l,onDragTouchStart:c,onRemove:m,onUpdateNodeColor:h,onUpdateValue:v,onSocketMouseDown:g,onSocketMouseUp:b,onSocketHover:T,onCenterNode:C,hoveredSocketInfo:N,compatibilityStatus:D})=>{const{showTooltip:w,hideTooltip:E}=at(),I=(S,J)=>{v(a.id,S,String(J))},z=V.useMemo(()=>n.reduce((S,J)=>a.inputValues[J.key]==="true"?S+J.value:S,0),[a.inputValues,n]),G=S=>{S.stopPropagation();const J=a.color||ir[0],B=(ir.indexOf(J)+1)%ir.length;h(a.id,ir[B])},M=S=>{S.stopPropagation(),E(),m(a.id)};return y.jsxs("div",{className:"absolute bg-gray-700 border-2 rounded-lg shadow-xl cursor-move select-none",style:{left:a.x,top:a.y,width:"250px",borderColor:r?"#60a5fa":"#4b5563"},onMouseDown:S=>l(a.id,S),onTouchStart:S=>c(a.id,S),children:[y.jsxs("div",{className:"text-white font-bold py-2 px-3 rounded-t-md flex justify-between items-center",style:{backgroundColor:a.color||ir[0]},onMouseEnter:S=>w(o.description,S.currentTarget),onMouseLeave:E,onDoubleClick:()=>C(a.id),children:[y.jsx("span",{className:"truncate text-base font-bold",children:o.name}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{className:"p-1 rounded-full hover:bg-white/20 transition-colors",onClick:G,onMouseDown:S=>S.stopPropagation(),onMouseEnter:S=>w("Change Node Color",S.currentTarget),onMouseLeave:E,children:y.jsx(Yn,{className:"w-4 h-4"})}),y.jsx("button",{className:"p-1 rounded-full hover:bg-red-500 transition-colors",onClick:M,onMouseDown:S=>S.stopPropagation(),onMouseEnter:S=>w("Delete Node",S.currentTarget),onMouseLeave:E,children:y.jsx(Nt,{className:"w-4 h-4"})})]})]}),y.jsx("div",{className:"p-3",onMouseDown:S=>S.stopPropagation(),children:n.map(S=>y.jsxs("label",{className:"flex items-center space-x-2 text-sm mb-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500",checked:a.inputValues[S.key]==="true",onChange:J=>I(S.key,J.target.checked)}),y.jsxs("span",{children:[S.name," (",S.value,")"]})]},S.key))}),y.jsxs("div",{className:"flex items-center justify-end text-sm p-3 border-t border-gray-600",children:[y.jsxs("span",{className:"text-gray-300 mr-2",children:["Total Value: ",y.jsx("span",{className:"font-bold text-white",children:z})]}),y.jsx(s1,{nodeId:a.id,socketName:o.name,isInput:!1,type:o.returnType||"any",description:`Output: ${z}`,isHovered:N?.socketName===o.name,compatibility:D,onMouseDown:S=>g(a.id,o.name,!0,S),onMouseUp:S=>b(a.id,o.name,!0,S),onHover:S=>T(S?{nodeId:a.id,socketName:o.name,isInput:!1}:null)})]})]})},u1=V.memo(l1),c1=({nodeId:a,socketName:o,isInput:n,type:r,description:l,isHovered:c,compatibility:m,onMouseDown:h,onMouseUp:v,onHover:g})=>{const{showTooltip:b,hideTooltip:T}=at(),C=n?"bg-cyan-400":"bg-purple-400",w=`w-3 h-3 rounded-full border-2 border-gray-900 cursor-crosshair transition-colors ${c?m==="compatible"?"bg-green-400":m==="incompatible"?"bg-red-500":C:C} ${n?"hover:bg-cyan-300":"hover:bg-purple-300"}`;return y.jsx("div",{id:`socket-${n?"in":"out"}-${a}-${o}`,className:w,onMouseDown:h,onMouseUp:v,onMouseEnter:E=>{g(!0),b(l,E.currentTarget)},onMouseLeave:()=>{g(!1),T()}})},ar=["#1F2937","#be123c","#16a34a","#1d4ed8","#ca8a04"],d1=({data:a,lispFunction:o,label:n,isSelected:r,onDragStart:l,onDragTouchStart:c,onRemove:m,onUpdateNodeColor:h,onUpdateValue:v,onSocketMouseDown:g,onSocketMouseUp:b,onSocketHover:T,onCenterNode:C,hoveredSocketInfo:N,compatibilityStatus:D})=>{const{showTooltip:w,hideTooltip:E}=at(),I=S=>{v(a.id,"value",String(S))},z=V.useMemo(()=>a.inputValues.value==="true"?"T":"nil",[a.inputValues]),G=S=>{S.stopPropagation();const J=a.color||ar[0],B=(ar.indexOf(J)+1)%ar.length;h(a.id,ar[B])},M=S=>{S.stopPropagation(),E(),m(a.id)};return y.jsxs("div",{className:"absolute bg-gray-700 border-2 rounded-lg shadow-xl cursor-move select-none",style:{left:a.x,top:a.y,width:"250px",borderColor:r?"#60a5fa":"#4b5563"},onMouseDown:S=>l(a.id,S),onTouchStart:S=>c(a.id,S),children:[y.jsxs("div",{className:"text-white font-bold py-2 px-3 rounded-t-md flex justify-between items-center",style:{backgroundColor:a.color||ar[0]},onMouseEnter:S=>w(o.description,S.currentTarget),onMouseLeave:E,onDoubleClick:()=>C(a.id),children:[y.jsx("span",{className:"truncate text-base font-bold",children:o.name}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{className:"p-1 rounded-full hover:bg-white/20 transition-colors",onClick:G,onMouseDown:S=>S.stopPropagation(),onMouseEnter:S=>w("Change Node Color",S.currentTarget),onMouseLeave:E,children:y.jsx(Yn,{className:"w-4 h-4"})}),y.jsx("button",{className:"p-1 rounded-full hover:bg-red-500 transition-colors",onClick:M,onMouseDown:S=>S.stopPropagation(),onMouseEnter:S=>w("Delete Node",S.currentTarget),onMouseLeave:E,children:y.jsx(Nt,{className:"w-4 h-4"})})]})]}),y.jsx("div",{className:"p-3",onMouseDown:S=>S.stopPropagation(),children:y.jsxs("label",{className:"flex items-center space-x-2 text-sm mb-2 cursor-pointer p-2 rounded hover:bg-gray-600/50",children:[y.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500",checked:a.inputValues.value==="true",onChange:S=>I(S.target.checked)}),y.jsx("span",{children:n})]})}),y.jsxs("div",{className:"flex items-center justify-end text-sm p-3 border-t border-gray-600",children:[y.jsxs("span",{className:"text-gray-300 mr-2",children:["Output Value: ",y.jsx("span",{className:"font-bold text-white",children:z})]}),y.jsx(c1,{nodeId:a.id,socketName:o.name,isInput:!1,type:o.returnType||"any",description:`Output: ${z}`,isHovered:N?.socketName===o.name,compatibility:D,onMouseDown:S=>g(a.id,o.name,!0,S),onMouseUp:S=>b(a.id,o.name,!0,S),onHover:S=>T(S?{nodeId:a.id,socketName:o.name,isInput:!1}:null)})]})]})},f1=V.memo(d1),p1=({nodeId:a,socketName:o,isInput:n,type:r,description:l,isHovered:c,compatibility:m,onMouseDown:h,onMouseUp:v,onHover:g})=>{const{showTooltip:b,hideTooltip:T}=at(),C=n?"bg-cyan-400":"bg-purple-400",w=`w-3 h-3 rounded-full border-2 border-gray-900 cursor-crosshair transition-colors ${c?m==="compatible"?"bg-green-400":m==="incompatible"?"bg-red-500":C:C} ${n?"hover:bg-cyan-300":"hover:bg-purple-300"}`;return y.jsx("div",{id:`socket-${n?"in":"out"}-${a}-${o}`,className:w,onMouseDown:h,onMouseUp:v,onMouseEnter:E=>{g(!0),b(l,E.currentTarget)},onMouseLeave:()=>{g(!1),T()}})},rr=["#1F2937","#be123c","#16a34a","#1d4ed8","#ca8a04"],m1=({data:a,lispFunction:o,isSelected:n,onDragStart:r,onDragTouchStart:l,onRemove:c,onUpdateNodeColor:m,onUpdateValue:h,onSocketMouseDown:v,onSocketMouseUp:g,onSocketHover:b,onCenterNode:T,hoveredSocketInfo:C,compatibilityStatus:N})=>{const{showTooltip:D,hideTooltip:w}=at(),E=M=>{h(a.id,"operator",M)},I=a.inputValues.operator||"1",z=M=>{M.stopPropagation();const S=a.color||rr[0],k=(rr.indexOf(S)+1)%rr.length;m(a.id,rr[k])},G=M=>{M.stopPropagation(),w(),c(a.id)};return y.jsxs("div",{className:"absolute bg-gray-700 border-2 rounded-lg shadow-xl cursor-move select-none",style:{left:a.x,top:a.y,width:"250px",borderColor:n?"#60a5fa":"#4b5563"},onMouseDown:M=>r(a.id,M),onTouchStart:M=>l(a.id,M),children:[y.jsxs("div",{className:"text-white font-bold py-2 px-3 rounded-t-md flex justify-between items-center",style:{backgroundColor:a.color||rr[0]},onMouseEnter:M=>D(o.description,M.currentTarget),onMouseLeave:w,onDoubleClick:()=>T(a.id),children:[y.jsx("span",{className:"truncate text-base font-bold",children:o.name}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{className:"p-1 rounded-full hover:bg-white/20 transition-colors",onClick:z,onMouseDown:M=>M.stopPropagation(),onMouseEnter:M=>D("Change Node Color",M.currentTarget),onMouseLeave:w,children:y.jsx(Yn,{className:"w-4 h-4"})}),y.jsx("button",{className:"p-1 rounded-full hover:bg-red-500 transition-colors",onClick:G,onMouseDown:M=>M.stopPropagation(),onMouseEnter:M=>D("Delete Node",M.currentTarget),onMouseLeave:w,children:y.jsx(Nt,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"p-3",onMouseDown:M=>M.stopPropagation(),children:[y.jsx("label",{className:"block text-sm mb-1 text-gray-300",children:"Operator"}),y.jsx("select",{value:I,onChange:M=>E(M.target.value),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:pv.map(M=>y.jsx("option",{value:M.value,children:M.name},M.value))})]}),y.jsxs("div",{className:"flex items-center justify-end text-sm p-3 border-t border-gray-600",children:[y.jsxs("span",{className:"text-gray-300 mr-2",children:["Output Value: ",y.jsx("span",{className:"font-bold text-white",children:I})]}),y.jsx(p1,{nodeId:a.id,socketName:o.name,isInput:!1,type:o.returnType||"any",description:`Output: ${I}`,isHovered:C?.socketName===o.name,compatibility:N,onMouseDown:M=>v(a.id,o.name,!0,M),onMouseUp:M=>g(a.id,o.name,!0,M),onHover:M=>b(M?{nodeId:a.id,socketName:o.name,isInput:!1}:null)})]})]})},g1=V.memo(m1),_s={length:[{name:"Inches",value:"in"},{name:"Feet",value:"ft"},{name:"Miles",value:"mi"},{name:"Millimeters",value:"mm"},{name:"Centimeters",value:"cm"},{name:"Meters",value:"m"},{name:"Kilometers",value:"km"},{name:"Yards",value:"yd"},{name:"Angstroms",value:"ang"},{name:"Nanometers",value:"nm"},{name:"Microns",value:"micron"},{name:"Decimeters",value:"dm"},{name:"Dekameters",value:"dam"},{name:"Hectometers",value:"hm"},{name:"Gigameters",value:"gm"},{name:"Astronomical Units",value:"au"},{name:"Light Years",value:"ly"},{name:"Parsecs",value:"pc"}],area:[{name:"Square Inches",value:"sq_in"},{name:"Square Feet",value:"sq_ft"},{name:"Square Miles",value:"sq_mi"},{name:"Square Millimeters",value:"sq_mm"},{name:"Square Centimeters",value:"sq_cm"},{name:"Square Meters",value:"sq_m"},{name:"Square Kilometers",value:"sq_km"},{name:"Square Yards",value:"sq_yd"},{name:"Acres",value:"acre"},{name:"Hectares",value:"hectare"}],volume:[{name:"Cubic Inches",value:"cu_in"},{name:"Cubic Feet",value:"cu_ft"},{name:"Cubic Millimeters",value:"cu_mm"},{name:"Cubic Centimeters",value:"cu_cm"},{name:"Cubic Meters",value:"cu_m"},{name:"Cubic Yards",value:"cu_yd"},{name:"Liters",value:"l"},{name:"Gallons",value:"gal"}],angle:[{name:"Degrees",value:"deg"},{name:"Radians",value:"rad"},{name:"Grads",value:"grad"},{name:"Steradians",value:"sr"}]},h1=({nodeId:a,socketName:o,isInput:n,type:r,description:l,isHovered:c,compatibility:m,onMouseDown:h,onMouseUp:v,onHover:g})=>{const{showTooltip:b,hideTooltip:T}=at(),C=n?"bg-cyan-400":"bg-purple-400",w=`w-3 h-3 rounded-full border-2 border-gray-900 cursor-crosshair transition-colors ${c?m==="compatible"?"bg-green-400":m==="incompatible"?"bg-red-500":C:C} ${n?"hover:bg-cyan-300":"hover:bg-purple-300"}`;return y.jsx("div",{id:`socket-${n?"in":"out"}-${a}-${o}`,className:w,onMouseDown:h,onMouseUp:v,onMouseEnter:E=>{g(!0),b(l,E.currentTarget)},onMouseLeave:()=>{g(!1),T()}})},sr=["#1F2937","#be123c","#16a34a","#1d4ed8","#ca8a04"],y1=({data:a,lispFunction:o,isSelected:n,onDragStart:r,onDragTouchStart:l,onRemove:c,onUpdateNodeColor:m,onUpdateValue:h,onSocketMouseDown:v,onSocketMouseUp:g,onSocketHover:b,onCenterNode:T,hoveredSocketInfo:C,compatibilityStatus:N})=>{const{showTooltip:D,hideTooltip:w}=at(),[E,I]=V.useState(a.inputValues.category||"length"),z=a.inputValues.unit||_s[E]?.[0]?.value||"";V.useEffect(()=>{const k=_s[E]||[];if(!k.some(B=>B.value===z)){const B=k[0]?.value||"";h(a.id,"unit",B)}},[E,z,h,a.id]);const G=k=>{I(k),h(a.id,"category",k)},M=k=>{h(a.id,"unit",k)},S=k=>{k.stopPropagation();const B=a.color||sr[0],ie=(sr.indexOf(B)+1)%sr.length;m(a.id,sr[ie])},J=k=>{k.stopPropagation(),w(),c(a.id)};return y.jsxs("div",{className:"absolute bg-gray-700 border-2 rounded-lg shadow-xl cursor-move select-none",style:{left:a.x,top:a.y,width:"250px",borderColor:n?"#60a5fa":"#4b5563"},onMouseDown:k=>r(a.id,k),onTouchStart:k=>l(a.id,k),children:[y.jsxs("div",{className:"text-white font-bold py-2 px-3 rounded-t-md flex justify-between items-center",style:{backgroundColor:a.color||sr[0]},onMouseEnter:k=>D(o.description,k.currentTarget),onMouseLeave:w,onDoubleClick:()=>T(a.id),children:[y.jsx("span",{className:"truncate text-base font-bold",children:o.name}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{onClick:S,onMouseDown:k=>k.stopPropagation(),className:"p-1 rounded-full hover:bg-white/20",onMouseEnter:k=>D("Change Node Color",k.currentTarget),onMouseLeave:w,children:y.jsx(Yn,{className:"w-4 h-4"})}),y.jsx("button",{onClick:J,onMouseDown:k=>k.stopPropagation(),className:"p-1 rounded-full hover:bg-red-500",onMouseEnter:k=>D("Delete Node",k.currentTarget),onMouseLeave:w,children:y.jsx(Nt,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"p-3 space-y-2",onMouseDown:k=>k.stopPropagation(),children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1 text-gray-300",children:"Unit Type"}),y.jsx("select",{value:E,onChange:k=>G(k.target.value),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:Object.keys(_s).map(k=>y.jsx("option",{value:k,children:k.charAt(0).toUpperCase()+k.slice(1)},k))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1 text-gray-300",children:"Unit"}),y.jsx("select",{value:z,onChange:k=>M(k.target.value),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:(_s[E]||[]).map(k=>y.jsx("option",{value:k.value,children:k.name},k.value))})]})]}),y.jsxs("div",{className:"flex items-center justify-end text-sm p-3 border-t border-gray-600",children:[y.jsxs("span",{className:"text-gray-300 mr-2",children:["Output: ",y.jsxs("span",{className:"font-bold text-white",children:['"',z,'"']})]}),y.jsx(h1,{nodeId:a.id,socketName:o.name,isInput:!1,type:o.returnType||"any",description:`Output: "${z}"`,isHovered:C?.socketName===o.name,compatibility:N,onMouseDown:k=>v(a.id,o.name,!0,k),onMouseUp:k=>g(a.id,o.name,!0,k),onHover:k=>b(k?{nodeId:a.id,socketName:o.name,isInput:!1}:null)})]})]})},v1=V.memo(y1),b1=({nodeId:a,socketName:o,isInput:n,type:r,description:l,isHovered:c,compatibility:m,onMouseDown:h,onMouseUp:v,onHover:g})=>{const{showTooltip:b,hideTooltip:T}=at(),C=n?"bg-cyan-400":"bg-purple-400",w=`w-3 h-3 rounded-full border-2 border-gray-900 cursor-crosshair transition-colors ${c?m==="compatible"?"bg-green-400":m==="incompatible"?"bg-red-500":C:C} ${n?"hover:bg-cyan-300":"hover:bg-purple-300"}`;return y.jsx("div",{id:`socket-${n?"in":"out"}-${a}-${o}`,className:w,onMouseDown:h,onMouseUp:v,onMouseEnter:E=>{g(!0),b(l,E.currentTarget)},onMouseLeave:()=>{g(!1),T()}})},lr=["#1F2937","#be123c","#16a34a","#1d4ed8","#ca8a04"],x1=({data:a,lispFunction:o,options:n,isSelected:r,onDragStart:l,onDragTouchStart:c,onRemove:m,onUpdateNodeColor:h,onUpdateValue:v,onSocketMouseDown:g,onSocketMouseUp:b,onSocketHover:T,onCenterNode:C,hoveredSocketInfo:N,compatibilityStatus:D})=>{const{showTooltip:w,hideTooltip:E}=at(),I=S=>{v(a.id,"value",S)},z=a.inputValues.value||(n.length>0?n[0].value:""),G=S=>{S.stopPropagation();const J=a.color||lr[0],B=(lr.indexOf(J)+1)%lr.length;h(a.id,lr[B])},M=S=>{S.stopPropagation(),E(),m(a.id)};return y.jsxs("div",{className:"absolute bg-gray-700 border-2 rounded-lg shadow-xl cursor-move select-none",style:{left:a.x,top:a.y,width:"250px",borderColor:r?"#60a5fa":"#4b5563"},onMouseDown:S=>l(a.id,S),onTouchStart:S=>c(a.id,S),children:[y.jsxs("div",{className:"text-white font-bold py-2 px-3 rounded-t-md flex justify-between items-center",style:{backgroundColor:a.color||lr[0]},onMouseEnter:S=>w(o.description,S.currentTarget),onMouseLeave:E,onDoubleClick:()=>C(a.id),children:[y.jsx("span",{className:"truncate text-base font-bold",children:o.name}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{className:"p-1 rounded-full hover:bg-white/20 transition-colors",onClick:G,onMouseDown:S=>S.stopPropagation(),onMouseEnter:S=>w("Change Node Color",S.currentTarget),onMouseLeave:E,children:y.jsx(Yn,{className:"w-4 h-4"})}),y.jsx("button",{className:"p-1 rounded-full hover:bg-red-500 transition-colors",onClick:M,onMouseDown:S=>S.stopPropagation(),onMouseEnter:S=>w("Delete Node",S.currentTarget),onMouseLeave:E,children:y.jsx(Nt,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"p-3",onMouseDown:S=>S.stopPropagation(),children:[y.jsx("label",{className:"block text-sm mb-1 text-gray-300",children:"Select Value"}),y.jsx("select",{value:z,onChange:S=>I(S.target.value),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:n.map(S=>y.jsx("option",{value:S.value,children:S.name},S.value))})]}),y.jsxs("div",{className:"flex items-center justify-end text-sm p-3 border-t border-gray-600",children:[y.jsxs("span",{className:"text-gray-300 mr-2",children:["Output: ",y.jsxs("span",{className:"font-bold text-white",children:['"',z,'"']})]}),y.jsx(b1,{nodeId:a.id,socketName:o.name,isInput:!1,type:o.returnType||"any",description:`Output: "${z}"`,isHovered:N?.socketName===o.name,compatibility:D,onMouseDown:S=>g(a.id,o.name,!0,S),onMouseUp:S=>b(a.id,o.name,!0,S),onHover:S=>T(S?{nodeId:a.id,socketName:o.name,isInput:!1}:null)})]})]})},T1=V.memo(x1),C1=({nodeId:a,socketName:o,isInput:n,type:r,description:l,isHovered:c,compatibility:m,onMouseDown:h,onMouseUp:v,onHover:g})=>{const{showTooltip:b,hideTooltip:T}=at(),C=n?"bg-cyan-400":"bg-purple-400",w=`w-3 h-3 rounded-full border-2 border-gray-900 cursor-crosshair transition-colors ${c?m==="compatible"?"bg-green-400":m==="incompatible"?"bg-red-500":C:C} ${n?"hover:bg-cyan-300":"hover:bg-purple-300"}`;return y.jsx("div",{id:`socket-${n?"in":"out"}-${a}-${o}`,className:w,onMouseDown:h,onMouseUp:v,onMouseEnter:E=>{g(!0),b(l,E.currentTarget)},onMouseLeave:()=>{g(!1),T()}})},ur=["#1F2937","#be123c","#16a34a","#1d4ed8","#ca8a04"],A1=({data:a,lispFunction:o,options:n,isSelected:r,onDragStart:l,onDragTouchStart:c,onRemove:m,onUpdateNodeColor:h,onUpdateValue:v,onSocketMouseDown:g,onSocketMouseUp:b,onSocketHover:T,hoveredSocketInfo:C,compatibilityStatus:N,onCenterNode:D})=>{const{showTooltip:w,hideTooltip:E}=at(),I=S=>{v(a.id,"value",S)},z=a.inputValues.value||(n.length>0?String(n[0].value):"0"),G=S=>{S.stopPropagation();const J=a.color||ur[0],B=(ur.indexOf(J)+1)%ur.length;h(a.id,ur[B])},M=S=>{S.stopPropagation(),E(),m(a.id)};return y.jsxs("div",{className:"absolute bg-gray-700 border-2 rounded-lg shadow-xl cursor-move select-none",style:{left:a.x,top:a.y,width:"250px",borderColor:r?"#60a5fa":"#4b5563"},onMouseDown:S=>l(a.id,S),onTouchStart:S=>c(a.id,S),children:[y.jsxs("div",{className:"text-white font-bold py-2 px-3 rounded-t-md flex justify-between items-center",style:{backgroundColor:a.color||ur[0]},onMouseEnter:S=>w(o.description,S.currentTarget),onMouseLeave:E,onDoubleClick:()=>D(a.id),children:[y.jsx("span",{className:"truncate text-base font-bold",children:o.name}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{className:"p-1 rounded-full hover:bg-white/20 transition-colors",onClick:G,onMouseDown:S=>S.stopPropagation(),onMouseEnter:S=>w("Change Node Color",S.currentTarget),onMouseLeave:E,children:y.jsx(Yn,{className:"w-4 h-4"})}),y.jsx("button",{className:"p-1 rounded-full hover:bg-red-500 transition-colors",onClick:M,onMouseDown:S=>S.stopPropagation(),onMouseEnter:S=>w("Delete Node",S.currentTarget),onMouseLeave:E,children:y.jsx(Nt,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"p-3",onMouseDown:S=>S.stopPropagation(),children:[y.jsx("label",{className:"block text-sm mb-1 text-gray-300",children:"Select Value"}),y.jsx("select",{value:z,onChange:S=>I(S.target.value),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:n.map(S=>y.jsx("option",{value:S.value,children:S.name},S.value))})]}),y.jsxs("div",{className:"flex items-center justify-end text-sm p-3 border-t border-gray-600",children:[y.jsxs("span",{className:"text-gray-300 mr-2",children:["Output: ",y.jsx("span",{className:"font-bold text-white",children:z})]}),y.jsx(C1,{nodeId:a.id,socketName:o.name,isInput:!1,type:o.returnType||"any",description:`Output: ${z}`,isHovered:C?.socketName===o.name,compatibility:N,onMouseDown:S=>g(a.id,o.name,!0,S),onMouseUp:S=>b(a.id,o.name,!0,S),onHover:S=>T(S?{nodeId:a.id,socketName:o.name,isInput:!1}:null)})]})]})},S1=V.memo(A1),uc=[{code:-1,name:"Ename",description:"Entity name (read-only)",type:"ename"},{code:0,name:"EntityType",description:"Entity type",type:"string"},{code:2,name:"Name",description:"Block name, attribute tag, etc.",type:"string"},{code:5,name:"Handle",description:"Entity handle (read-only)",type:"string"},{code:6,name:"Linetype",description:"Linetype name",type:"string"},{code:8,name:"LayerName",description:"Layer name",type:"string"},{code:10,name:"StartPoint",description:"Start point (X, Y, Z)",type:"point"},{code:11,name:"EndPoint",description:"End point (X, Y, Z)",type:"point"},{code:39,name:"Thickness",description:"Entity thickness",type:"real"},{code:40,name:"Value/Radius",description:"Primary value (e.g., Circle radius)",type:"real"},{code:48,name:"LinetypeScale",description:"Linetype scale",type:"real"},{code:50,name:"Angle",description:"Rotation angle in degrees",type:"real"},{code:60,name:"Visibility",description:"Entity visibility (0 = visible, 1 = invisible)",type:"integer"},{code:62,name:"ColorNumber",description:"Color number (0=ByBlock, 256=ByLayer)",type:"integer"},{code:67,name:"Space",description:"Paper space (1) or model space (0)",type:"integer"},{code:210,name:"Extrusion",description:"Extrusion direction vector",type:"vector"},{code:330,name:"OwnerHandle",description:"Soft-pointer handle to owner object",type:"string"},{code:370,name:"Lineweight",description:"Lineweight enum value",type:"integer"},{code:420,name:"TrueColor",description:"True Color value (24-bit integer)",type:"integer"},{code:1,name:"TextValue",description:"Primary text value",type:"string"},{code:7,name:"TextStyle",description:"Text style name",type:"string"},{code:41,name:"XScaleFactor",description:"Width factor (oblique angle for TEXT)",type:"real"},{code:51,name:"ObliqueAngle",description:"Oblique angle in degrees",type:"real"},{code:71,name:"TextGenFlag",description:"Text generation flags (2=backward, 4=upside down)",type:"integer"},{code:72,name:"HJustification",description:"Horizontal text justification",type:"integer"},{code:73,name:"VJustification",description:"Vertical text justification",type:"integer"},{code:3,name:"MTextMoreText",description:"Additional MText chunk (250 chars)",type:"string"},{code:42,name:"MTextHeight",description:"MText text height",type:"real"},{code:43,name:"MTextWidth",description:"MText reference rectangle width",type:"real"},{code:75,name:"MTextDrawingDirection",description:"MText drawing direction",type:"integer"},{code:40,name:"Radius",description:"Circle or Arc radius",type:"real"},{code:50,name:"StartAngle",description:"Arc start angle (degrees)",type:"real"},{code:51,name:"EndAngle",description:"Arc end angle (degrees)",type:"real"},{code:43,name:"ConstantWidth",description:"Polyline constant width",type:"real"},{code:70,name:"PolylineFlag",description:"Polyline flag (1=closed, 128=plinegen)",type:"integer"},{code:90,name:"VertexCount",description:"Number of vertices in a polyline",type:"integer"},{code:2,name:"HatchPatternName",description:"Hatch pattern name",type:"string"},{code:41,name:"HatchPatternScale",description:"Hatch pattern scale or spacing",type:"real"},{code:52,name:"HatchPatternAngle",description:"Hatch pattern angle (degrees)",type:"real"},{code:76,name:"HatchType",description:"Hatch pattern type (0=User-defined, 1=Predefined, 2=Custom)",type:"integer"},{code:45,name:"ViewportHeight",description:"Viewport height in paper space units",type:"real"},{code:69,name:"ViewportID",description:"Viewport ID",type:"integer"},{code:1e3,name:"XDataString",description:"Extended data string (255 bytes max)",type:"string"},{code:1001,name:"XDataAppName",description:"Extended data application name",type:"string"},{code:1002,name:"XDataControlString",description:"Extended data control string ('{' or '}')",type:"string"},{code:1010,name:"XDataPoint",description:"Extended data point",type:"point"},{code:1040,name:"XDataReal",description:"Extended data real number",type:"real"},{code:1070,name:"XDataInteger",description:"Extended data 16-bit integer",type:"integer"},{code:1071,name:"XDataLong",description:"Extended data 32-bit long integer",type:"integer"}],w1=({nodeId:a,socketName:o,isInput:n,type:r,description:l,isHovered:c,compatibility:m,onMouseDown:h,onMouseUp:v,onHover:g})=>{const{showTooltip:b,hideTooltip:T}=at(),C=n?"bg-cyan-400":"bg-purple-400",w=`w-3 h-3 rounded-full border-2 border-gray-900 cursor-crosshair transition-colors ${c?m==="compatible"?"bg-green-400":m==="incompatible"?"bg-red-500":C:C} ${n?"hover:bg-cyan-300":"hover:bg-purple-300"}`;return y.jsx("div",{id:`socket-${n?"in":"out"}-${a}-${o}`,className:w,onMouseDown:h,onMouseUp:v,onMouseEnter:E=>{g(!0),b(l,E.currentTarget)},onMouseLeave:()=>{g(!1),T()}})},cr=["#1F2937","#be123c","#16a34a","#1d4ed8","#ca8a04"],N1=({data:a,lispFunction:o,isSelected:n,onDragStart:r,onDragTouchStart:l,onRemove:c,onUpdateNodeColor:m,onUpdateValue:h,onSocketMouseDown:v,onSocketMouseUp:g,onSocketHover:b,onCenterNode:T,hoveredSocketInfo:C,compatibilityStatus:N})=>{const{showTooltip:D,hideTooltip:w}=at(),[E,I]=V.useState(""),[z,G]=V.useState(!1),M=V.useRef(null),S=a.inputValues.value||"0",J=V.useMemo(()=>uc.find(Z=>String(Z.code)===S),[S]);V.useEffect(()=>{const Z=fe=>{M.current&&!M.current.contains(fe.target)&&G(!1)};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const k=V.useMemo(()=>{const Z=E.toLowerCase();return Z?uc.filter(fe=>String(fe.code).includes(Z)||fe.name.toLowerCase().includes(Z)||fe.description.toLowerCase().includes(Z)):uc},[E]),B=Z=>{h(a.id,"value",String(Z.code)),I(""),G(!1)},ce=Z=>{Z.stopPropagation();const fe=a.color||cr[0],de=(cr.indexOf(fe)+1)%cr.length;m(a.id,cr[de])},ie=Z=>{Z.stopPropagation(),w(),c(a.id)};return y.jsxs("div",{className:"absolute bg-gray-700 border-2 rounded-lg shadow-xl cursor-move select-none",style:{left:a.x,top:a.y,width:"250px",borderColor:n?"#60a5fa":"#4b5563"},onMouseDown:Z=>r(a.id,Z),onTouchStart:Z=>l(a.id,Z),children:[y.jsxs("div",{className:"text-white font-bold py-2 px-3 rounded-t-md flex justify-between items-center",style:{backgroundColor:a.color||cr[0]},onMouseEnter:Z=>D(o.description,Z.currentTarget),onMouseLeave:w,onDoubleClick:()=>T(a.id),children:[y.jsx("span",{className:"truncate text-base font-bold",children:o.name}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{onClick:ce,onMouseDown:Z=>Z.stopPropagation(),className:"p-1 rounded-full hover:bg-white/20",onMouseEnter:Z=>D("Change Node Color",Z.currentTarget),onMouseLeave:w,children:y.jsx(Yn,{className:"w-4 h-4"})}),y.jsx("button",{onClick:ie,onMouseDown:Z=>Z.stopPropagation(),className:"p-1 rounded-full hover:bg-red-500",onMouseEnter:Z=>D("Delete Node",Z.currentTarget),onMouseLeave:w,children:y.jsx(Nt,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"p-3",onMouseDown:Z=>Z.stopPropagation(),ref:M,children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",placeholder:"Search code, name...",value:E,onChange:Z=>I(Z.target.value),onFocus:()=>G(!0),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),z&&y.jsx("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-600 rounded-md shadow-lg max-h-48 overflow-y-auto thin-scrollbar native-scroll",children:y.jsx("ul",{children:k.map(Z=>y.jsxs("li",{className:"px-3 py-2 text-sm text-gray-300 hover:bg-blue-600 cursor-pointer",onMouseDown:()=>B(Z),children:[y.jsxs("span",{className:"font-bold",children:[Z.name," (",Z.code,")"]}),y.jsx("span",{className:"block text-xs text-gray-400",children:Z.description})]},Z.code))})})]}),J&&!z&&y.jsxs("div",{className:"mt-2 p-2 bg-gray-800/50 rounded text-center",children:[y.jsx("p",{className:"text-sm font-bold",children:J.name}),y.jsx("p",{className:"text-xs text-gray-400",children:J.description})]})]}),y.jsxs("div",{className:"flex items-center justify-end text-sm p-3 border-t border-gray-600",children:[y.jsxs("span",{className:"text-gray-300 mr-2",children:["Output Code: ",y.jsx("span",{className:"font-bold text-white",children:S})]}),y.jsx(w1,{nodeId:a.id,socketName:o.name,isInput:!1,type:o.returnType||"any",description:`Output: ${S}`,isHovered:C?.socketName===o.name,compatibility:N,onMouseDown:Z=>v(a.id,o.name,!0,Z),onMouseUp:Z=>g(a.id,o.name,!0,Z),onHover:Z=>b(Z?{nodeId:a.id,socketName:o.name,isInput:!1}:null)})]})]})},E1=V.memo(N1),M1=["#000000","#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF","#FF00FF","#FFFFFF","#474747","#808080","#FF8080","#FFFF80","#80FF80","#80FFFF","#8080FF","#FF80FF","#FFFFFF","#474747","#BFBFBF","#BFBFBF","#FF4040","#FFFF40","#40FF40","#40FFFF","#4040FF","#FF40FF","#D9D9D9","#303030","#A6A6A6","#A6A6A6","#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF","#FF00FF","#C4C4C4","#242424","#8C8C8C","#8C8C8C","#B30000","#B3B300","#00B300","#00B3B3","#0000B3","#B300B3","#B3B3B3","#1C1C1C","#737373","#737373","#800000","#808000","#008000","#008080","#000080","#800080","#999999","#171717","#5C5C5C","#5C5C5C","#4D0000","#4D4D00","#004D00","#004D4D","#00004D","#4D004D","#808080","#121212","#4A4A4A","#4A4A4A","#260000","#262600","#002600","#002626","#000026","#260026","#666666","#0D0D0D","#383838","#383838","#FFBFBF","#FFFFBF","#BFFFBF","#BFFFFF","#BFBFFF","#FFBFFF","#FFFFFF","#545454","#D9D9D9","#D9D9D9","#FFA6A6","#FFFFA6","#A6FFA6","#A6FFFF","#A6A6FF","#FFA6FF","#FFFFFF","#525252","#D1D1D1","#D1D1D1","#FF8080","#FFFF80","#80FF80","#80FFFF","#8080FF","#FF80FF","#FFFFFF","#474747","#BFBFBF","#BFBFBF","#FF4040","#FFFF40","#40FF40","#40FFFF","#4040FF","#FF40FF","#D9D9D9","#303030","#A6A6A6","#A6A6A6","#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF","#FF00FF","#C4C4C4","#242424","#8C8C8C","#8C8C8C","#B30000","#B3B300","#00B300","#00B3B3","#0000B3","#B300B3","#B3B3B3","#1C1C1C","#737373","#737373","#800000","#808000","#008000","#008080","#000080","#800080","#999999","#171717","#5C5C5C","#5C5C5C","#4D0000","#4D4D00","#004D00","#004D4D","#00004D","#4D004D","#808080","#121212","#4A4A4A","#4A4A4A","#260000","#262600","#002600","#002626","#000026","#260026","#666666","#0D0D0D","#383838","#383838","#000000","#050505","#0F0F0F","#1A1A1A","#242424","#2E2E2E","#383838","#424242","#4D4D4D","#575757","#616161","#6B6B6B","#757575","#808080","#8A8A8A","#949494","#9E9E9E","#A8A8A8","#B2B2B2","#BCBCBC","#C6C6C6","#D1D1D1","#DBDBDB","#E5E5E5","#F0F0F0","#FFFFFF","#000000","#0A0A0A","#141414","#1F1F1F","#292929","#333333","#3D3D3D","#474747","#525252","#5C5C5C","#666666","#707070","#7A7A7A","#858585","#8F8F8F","#999999","#A3A3A3","#ADADAD","#B8B8B8","#C2C2C2","#CCCCCC","#D6D6D6","#E0E0E0","#EBEBEB","#F5F5F5","#FFFFFF","#000000","#0F0F0F","#1F1F1F","#2E2E2E","#3D3D3D","#4D4D4D","#5C5C5C","#6B6B6B","#7A7A7A","#8A8A8A","#999999","#A8A8A8","#B8B8B8","#C7C7C7","#D6D6D6","#E6E6E6","#F5F5F5","#FFFFFF","#000000","#141414","#292929","#3D3D3D","#525252","#666666","#7A7A7A","#8F8F8F","#A3A3A3","#B8B8B8","#CCCCCC","#E0E0E0","#F5F5F5","#FFFFFF","#000000","#1A1A1A","#333333","#4D4D4D","#666666","#808080","#999999","#B3B3B3","#CCCCCC","#E6E6E6","#FFFFFF"],D1=({nodeId:a,socketName:o,isInput:n,type:r,description:l,isHovered:c,compatibility:m,onMouseDown:h,onMouseUp:v,onHover:g})=>{const{showTooltip:b,hideTooltip:T}=at(),C=n?"bg-cyan-400":"bg-purple-400",w=`w-3 h-3 rounded-full border-2 border-gray-900 cursor-crosshair transition-colors ${c?m==="compatible"?"bg-green-400":m==="incompatible"?"bg-red-500":C:C} ${n?"hover:bg-cyan-300":"hover:bg-purple-300"}`;return y.jsx("div",{id:`socket-${n?"in":"out"}-${a}-${o}`,className:w,onMouseDown:h,onMouseUp:v,onMouseEnter:E=>{g(!0),b(l,E.currentTarget)},onMouseLeave:()=>{g(!1),T()}})},dr=["#1F2937","#be123c","#16a34a","#1d4ed8","#ca8a04"],_1=({data:a,lispFunction:o,isSelected:n,onDragStart:r,onDragTouchStart:l,onRemove:c,onUpdateNodeColor:m,onUpdateValue:h,onSocketMouseDown:v,onSocketMouseUp:g,onSocketHover:b,onCenterNode:T,hoveredSocketInfo:C,compatibilityStatus:N})=>{const{showTooltip:D,hideTooltip:w}=at(),E=S=>{h(a.id,"value",String(S))},I=Number(a.inputValues.value||"0"),z=S=>{S.stopPropagation();const J=a.color||dr[0],B=(dr.indexOf(J)+1)%dr.length;m(a.id,dr[B])},G=S=>{S.stopPropagation(),w(),c(a.id)},M={backgroundColor:I>0&&I<256?M1[I]:"#374151"};return y.jsxs("div",{className:"absolute bg-gray-700 border-2 rounded-lg shadow-xl cursor-move select-none",style:{left:a.x,top:a.y,width:"250px",borderColor:n?"#60a5fa":"#4b5563"},onMouseDown:S=>r(a.id,S),onTouchStart:S=>l(a.id,S),children:[y.jsxs("div",{className:"text-white font-bold py-2 px-3 rounded-t-md flex justify-between items-center",style:{backgroundColor:a.color||dr[0]},onMouseEnter:S=>D(o.description,S.currentTarget),onMouseLeave:w,onDoubleClick:()=>T(a.id),children:[y.jsx("span",{className:"truncate text-base font-bold",children:o.name}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("button",{onClick:z,onMouseDown:S=>S.stopPropagation(),className:"p-1 rounded-full hover:bg-white/20",onMouseEnter:S=>D("Change Node Color",S.currentTarget),onMouseLeave:w,children:y.jsx(Yn,{className:"w-4 h-4"})}),y.jsx("button",{onClick:G,onMouseDown:S=>S.stopPropagation(),className:"p-1 rounded-full hover:bg-red-500",onMouseEnter:S=>D("Delete Node",S.currentTarget),onMouseLeave:w,children:y.jsx(Nt,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"p-3 space-y-3",onMouseDown:S=>S.stopPropagation(),children:[y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:()=>E(0),className:`flex-1 py-1 text-xs rounded ${I===0?"bg-blue-600":"bg-gray-800 hover:bg-gray-600"}`,children:"ByBlock (0)"}),y.jsx("button",{onClick:()=>E(256),className:`flex-1 py-1 text-xs rounded ${I===256?"bg-blue-600":"bg-gray-800 hover:bg-gray-600"}`,children:"ByLayer (256)"})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs("div",{className:"w-8 h-8 rounded border-2 border-gray-500 flex items-center justify-center text-xs font-mono",style:M,children:[I===0&&y.jsx("span",{className:"text-white/70",children:"Blk"}),I===256&&y.jsx("span",{className:"text-white/70",children:"Lyr"})]}),y.jsx("input",{type:"range",min:"1",max:"255",value:I>0&&I<256?I:1,onChange:S=>E(Number(S.target.value)),className:"w-full flex-grow",disabled:I===0||I===256})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("label",{className:"text-sm text-gray-300",children:"Color Number:"}),y.jsx("input",{type:"number",min:"0",max:"256",step:"1",value:I,onChange:S=>E(Math.max(0,Math.min(256,Number(S.target.value)||0))),className:"w-20 bg-gray-800 border border-gray-600 rounded-sm px-2 py-0.5 text-xs text-right"})]})]}),y.jsxs("div",{className:"flex items-center justify-end text-sm p-3 border-t border-gray-600",children:[y.jsxs("span",{className:"text-gray-300 mr-2",children:["Output: ",y.jsx("span",{className:"font-bold text-white",children:I})]}),y.jsx(D1,{nodeId:a.id,socketName:o.name,isInput:!1,type:o.returnType||"any",description:`Output: ${I}`,isHovered:C?.socketName===o.name,compatibility:N,onMouseDown:S=>v(a.id,o.name,!0,S),onMouseUp:S=>g(a.id,o.name,!0,S),onHover:S=>b(S?{nodeId:a.id,socketName:o.name,isInput:!1}:null)})]})]})},R1=V.memo(_1),Rs=new Map(Ko.map(a=>[a.name,a])),L1=(a,o)=>{if(!a||!o)return!1;if(a==="any"||o==="any"||a==="ai_link"||o==="ai_link")return!0;const n=a.split("|"),r=o.split("|"),l=new Set(["number","real","integer"]);return n.some(c=>l.has(c))&&r.some(c=>l.has(c))?!0:r.some(c=>n.includes(c))},I1=(a,o,n)=>{const r=new Map;o.forEach(m=>r.set(m.id,[])),n.forEach(m=>{r.get(m.fromNode)?.push(m.toNode),r.get(m.toNode)?.push(m.fromNode)});const l=new Set([a]),c=[a];for(;c.length>0;){const m=c.shift();for(const h of r.get(m)||[])l.has(h)||(l.add(h),c.push(h))}return Array.from(l)},k1=()=>{const{nodes:a,connections:o,selectedNodeId:n,viewState:r,draggingNodesPosition:l,resizingNodeDimensions:c,setSelectedNodeId:m,addConnection:h,updateConnection:v,removeConnection:g,handleNodeDeletionAndCollapse:b,updateNodeInputValue:T,updateNodeColor:C,updateNodeDynamicArgs:N,updateNodeDynamicVars:D,updateNodeDynamicInputs:w,updateNodeCodeBlockValue:E,setViewState:I,setCursorPosition:z,setActiveInputDescription:G,handleGenerateFromCodeBlock:M,handleGenerateFromInput:S,handleAiChatRequest:J,setActiveEditor:k,handleVariableFocus:B,handleVariableBlur:ce,handleRenameVariable:ie,highlightedVar:Z,scopedNodeIdsForHighlight:fe,focusedInput:ue,screenToWorld:de,setNodeToFocusInCode:he,handleAddInitgetBitsHelperNode:O,handleAddGetStringCrNode:re,handleAddGrreadAllkeysHelperNode:xe,handleAddGetfiledFlagsHelperNode:Re,handleAddAcadColordlgFlagHelperNode:we,handleAddAcadColordlgColornumHelperNode:R,handleAddBooleOperatorHelperNode:K,handleAddAcadTruecolordlgAllowbylayerHelperNode:pe,handleAddAcdimenableupdateFlagHelperNode:be,handleAddAcetLayerpModeStatusHelperNode:Me,handleAddVlaxDumpObjectFlagHelperNode:oe,handleAddCvunitHelperNode:Ie,handleAddOpenModeHelperNode:Qe,handleAddTabletCodeHelperNode:Ye,handleAddAngtofUnitsHelperNode:fn,handleAddAngtosUnitHelperNode:wn,handleAddAngtosPrecisionHelperNode:Xn,handleAddDistofModeHelperNode:vo,handleAddRedrawModeHelperNode:nn,handleAddRtosModeHelperNode:rt,handleAddRtosPrecisionHelperNode:Ln,handleAddTransFromHelperNode:bo,handleAddTransToHelperNode:Wo,handleAddDxfCodeHelperNode:ei,handleGoToDefinition:Nn,handleCenterNode:De,updateNodeModel:ve,handleNodeMove:ti,handleNodeMoveStart:_t,handleNodeMoveEnd:pn,handleNodeResize:on,handleNodeResizeStart:$n,handleNodeResizeEnd:In,deleteChatMessage:kn,canvasContainerRef:jt,canvasDimensions:Vn}=Si(),{setIsDragging:Un}=at(),[Et,Rt]=V.useState(null),[Pt,Lt]=V.useState(null),[xo,wi]=V.useState({x:0,y:0}),[Hn,On]=V.useState(!1),[ni,To]=V.useState({x:0,y:0}),[st,mn]=V.useState(null),[lt,Kn]=V.useState(null),[Jn,gn]=V.useState(null),[qt,Ft]=V.useState(null),[_,W]=V.useState(null),[me,ae]=V.useState(new Map),$=V.useRef({x:0,y:0}),Te=V.useRef(!1),gt=V.useRef({x:0,y:0}),Tt=V.useRef(null),ot=V.useRef(!1),Ue=V.useMemo(()=>new Map(a.map(Q=>[Q.id,Q])),[a]),jn=V.useMemo(()=>{let Q=a;l&&(Q=Q.map(ge=>{const Ae=l.find(Se=>Se.id===ge.id);return Ae?{...ge,x:Ae.x,y:Ae.y}:ge})),c&&(Q=Q.map(ge=>ge.id===c.id?{...ge,width:c.width,height:c.height}:ge));const se=Et||n;if(se){const ge=Q.find(Ae=>Ae.id===se);if(ge)return[...Q.filter(Ae=>Ae.id!==se),ge]}return Q},[a,l,c,n,Et]),En=V.useCallback((Q,se,ge,Ae)=>{if(se==="__ai_output"&&Ae==="__ai_target")return!o.some(Y=>Y.fromNode===Q&&Y.fromSocket==="__ai_output"&&(!lt||Y.id!==lt.id));if(["__ai_target","__ai_output"].includes(se)||["__ai_target","__ai_output"].includes(Ae))return!1;const Se=a.find(Y=>Y.id===Q),Oe=a.find(Y=>Y.id===ge);if(!Se||!Oe)return!1;const H=Rs.get(Se.functionName),Pe=Rs.get(Oe.functionName);if(!H||!Pe)return!1;const je=Pe.args.find(Y=>Y.name===Ae),ye=je?je.type:Pe.hasDynamicInputs?Pe.dynamicInputType||"any":void 0;return L1(H.returnType,ye)},[a,o,lt]),Xt=V.useMemo(()=>{const Q=st||lt;return!Q||!qt?.isInput?"default":Q.fromNode===qt.nodeId?"incompatible":En(Q.fromNode,Q.fromSocket,qt.nodeId,qt.socketName)?"compatible":"incompatible"},[st,lt,qt,En]),da=V.useCallback(Q=>{const se=de(Q.clientX,Q.clientY);if(z(se),Et){if(!ot.current&&Tt.current){const Se=Q.clientX-Tt.current.x,Oe=Q.clientY-Tt.current.y;Math.sqrt(Se*Se+Oe*Oe)>5&&(ot.current=!0)}const ge=se.x-xo.x,Ae=se.y-xo.y;if(Pt){const Se=Pt.find(Pe=>Pe.id===Et),Oe=ge-Se.x,H=Ae-Se.y;ti(Pt.map(Pe=>({id:Pe.id,x:Pe.x+Oe,y:Pe.y+H})))}else ti([{id:Et,x:ge,y:Ae}])}else if(Hn)!Te.current&&(Math.abs(Q.clientX-gt.current.x)>3||Math.abs(Q.clientY-gt.current.y)>3)&&(Te.current=!0),Te.current&&I({...r,x:$.current.x+Q.clientX-gt.current.x,y:$.current.y+Q.clientY-gt.current.y});else if(st)mn(ge=>ge?{...ge,toPos:se}:null);else if(lt)Kn(ge=>ge?{...ge,toPos:se}:null);else if(_){const ge=(Q.clientX-_.startX)/r.zoom,Ae=(Q.clientY-_.startY)/r.zoom,Oe=a.find(H=>H.id===_.id)?.functionName==="note"?40:100;on(_.id,Math.max(250,_.initialWidth+ge),Math.max(Oe,_.initialHeight+Ae))}},[Et,Hn,xo,de,st,lt,z,_,r,Pt,a,ti,I,on]),oi=V.useCallback(Q=>{if(Et&&!ot.current&&he(Et),Hn&&!Te.current){const se=Q.clientX-gt.current.x,ge=Q.clientY-gt.current.y;Math.sqrt(se*se+ge*ge)<5&&(m(null),he(null),gn(null))}Et&&pn(),_&&In(),(Et||_)&&Un(!1),Rt(null),Lt(null),On(!1),Kn(null),W(null),Te.current=!1,Tt.current=null,ot.current=!1},[Hn,Et,_,pn,In,Un,m,gn,he]),Qn=V.useCallback(Q=>{if(Q.target===Q.currentTarget){if(st){mn(null);return}(Q.button===0||Q.button===1||Q.altKey)&&(On(!0),Te.current=!1,gt.current={x:Q.clientX,y:Q.clientY},$.current={x:r.x,y:r.y},Q.preventDefault())}},[r.x,r.y,st]),Zn=V.useCallback(Q=>{if(Q.target.closest(".native-scroll"))return;Q.preventDefault();const se=jt.current?.getBoundingClientRect();if(!se)return;const ge=Q.deltaY<0?1.1:1/1.1,Ae=Math.max(.1,Math.min(r.zoom*ge,4));if(Ae===r.zoom)return;const Se=Q.clientX-se.left,Oe=Q.clientY-se.top;I({zoom:Ae,x:Se-(Se-r.x)*(Ae/r.zoom),y:Oe-(Oe-r.y)*(Ae/r.zoom)})},[r,I,jt]),zn=V.useCallback((Q,se)=>{if(se.button!==0)return;ot.current=!1,Tt.current={nodeId:Q,x:se.clientX,y:se.clientY},he(null),Un(!0),m(Q);const ge=a.find(H=>H.id===Q);if(!ge)return;let Ae=null;se.shiftKey?Ae=I1(Q,a,o).map(H=>a.find(Pe=>Pe.id===H)).map(H=>({id:H.id,x:H.x,y:H.y})):se.ctrlKey&&(Ae=Array.from(Ps(Q,o)).map(H=>a.find(Pe=>Pe.id===H)).map(H=>({id:H.id,x:H.x,y:H.y}))),Lt(Ae),_t(Ae||[{id:ge.id,x:ge.x,y:ge.y}]);const{x:Se,y:Oe}=de(se.clientX,se.clientY);Rt(Q),wi({x:Se-ge.x,y:Oe-ge.y}),se.stopPropagation()},[a,o,de,m,Un,_t,he]),Bn=V.useCallback((Q,se)=>{se.stopPropagation();const ge=a.find(Oe=>Oe.id===Q);if(!ge)return;Un(!0);const Ae=Rs.get(ge.functionName),Se=Ae?.name==="note"?44:["chat","image"].includes(Ae?.name||"")?150:192;W({id:Q,initialWidth:ge.width||300,initialHeight:ge.height||Se,startX:se.clientX,startY:se.clientY}),$n(Q,ge.width||300,ge.height||Se)},[a,Un,$n]),It=V.useCallback((Q,se,ge,Ae)=>{if(Ae.stopPropagation(),!ge)return;const Se=Ae.currentTarget.getBoundingClientRect(),Oe=de(Se.left+Se.width/2,Se.top+Se.height/2);mn({fromNode:Q,fromSocket:se,fromPos:Oe,toPos:Oe})},[de]),Mt=V.useCallback((Q,se,ge,Ae)=>{Ae.stopPropagation(),lt&&!ge?(En(lt.fromNode,lt.fromSocket,Q,se)&&v(lt.id,Q,se),Kn(null)):st&&!ge&&st.fromNode!==Q&&En(st.fromNode,st.fromSocket,Q,se)&&h({fromNode:st.fromNode,fromSocket:st.fromSocket,toNode:Q,toSocket:se}),mn(null)},[st,lt,h,v,En]);V.useEffect(()=>{const Q=ge=>{ge.key==="Escape"&&(mn(null),Kn(null),gn(null))},se=ge=>{(ge.key==="Delete"||ge.key==="Backspace")&&Jn&&(g(Jn),gn(null))};return window.addEventListener("keyup",Q),window.addEventListener("keydown",se),()=>{window.removeEventListener("keyup",Q),window.removeEventListener("keydown",se)}},[Jn,g]),V.useEffect(()=>{const Q=jt.current;if(Q)return Q.addEventListener("wheel",Zn,{passive:!1}),()=>Q.removeEventListener("wheel",Zn)},[Zn,jt]);const ht=V.useCallback((Q,se)=>{se.stopPropagation();const ge=me.get(Q.id)?.fromPos;ge&&Kn({id:Q.id,fromNode:Q.fromNode,fromSocket:Q.fromSocket,fromPos:ge,toPos:de(se.clientX,se.clientY)})},[me,de]);return V.useEffect(()=>{const Q=new Map,se=jt.current?.getBoundingClientRect();if(se){for(const ge of o){if(lt?.id===ge.id)continue;const Ae=document.getElementById(`socket-out-${ge.fromNode}-${ge.fromSocket}`),Se=document.getElementById(`socket-in-${ge.toNode}-${ge.toSocket}`);if(Ae&&Se){const Oe=Ae.getBoundingClientRect(),H={x:(Oe.left+Oe.width/2-se.left-r.x)/r.zoom,y:(Oe.top+Oe.height/2-se.top-r.y)/r.zoom},Pe=Se.getBoundingClientRect(),je={x:(Pe.left+Pe.width/2-se.left-r.x)/r.zoom,y:(Pe.top+Pe.height/2-se.top-r.y)/r.zoom},ye={x:H.x*r.zoom+r.x,y:H.y*r.zoom+r.y},Y={x:je.x*r.zoom+r.x,y:je.y*r.zoom+r.y},le=Y.x-ye.x,Xe=`M ${ye.x} ${ye.y} C ${ye.x+le*.5} ${ye.y}, ${Y.x-le*.5} ${Y.y}, ${Y.x} ${Y.y}`;Q.set(ge.id,{id:ge.id,path:Xe,fromPos:H,toPos:je})}}ae(Q)}},[a,o,r,lt,jt,l,Vn]),y.jsxs("div",{className:"w-full h-full bg-gray-800 bg-[radial-gradient(#4a5568_1px,transparent_1px)] [background-size:20px_20px] overflow-hidden cursor-grab relative",onMouseMove:da,onMouseUp:oi,onMouseLeave:oi,onMouseDown:Qn,style:{cursor:Hn?"grabbing":_?"nwse-resize":"grab"},children:[y.jsx("div",{className:"origin-top-left",style:{transform:`translate(${r.x}px, ${r.y}px) scale(${r.zoom})`},children:jn.map(Q=>{const se=Rs.get(Q.functionName);if(!se)return null;const Ae=!!(st||lt)&&qt?.nodeId===Q.id?qt:null,Se=Q.id===n,Oe=Z&&(fe.has(Q.id)||Q.id===Z.defunNodeId)?Z.varName:null,H=ue&&ue.nodeId===Q.id?ue.inputKey:null,Pe={key:Q.id,data:Q,lispFunction:se,isSelected:Se,onCenterNode:De,onDragStart:zn,onDragTouchStart:()=>{},onRemove:b,onResizeStart:Bn};if(se.name==="chat")return y.jsx(o1,{...Pe,onUpdateNodeColor:C,onAiChatRequest:J,nodes:a,connections:o,onSocketMouseDown:It,onSocketMouseUp:Mt,onSocketHover:Ft,hoveredSocketInfo:Ae,compatibilityStatus:Xt,onUpdateModel:ve,onDeleteChatMessage:kn});if(se.name==="note")return y.jsx(JS,{...Pe,onUpdateValue:E});if(se.name==="image")return y.jsx(r1,{...Pe,onUpdateValue:E});if(Ci.has(se.name)){const ye=Ci.get(se.name);return y.jsx(u1,{...Pe,options:ye,onUpdateValue:T,onSocketMouseDown:It,onSocketMouseUp:Mt,onSocketHover:Ft,hoveredSocketInfo:Ae,compatibilityStatus:Xt,onUpdateNodeColor:C})}if(fc.has(se.name)){const ye=fc.get(se.name);return y.jsx(f1,{...Pe,label:ye.label,onUpdateValue:T,onSocketMouseDown:It,onSocketMouseUp:Mt,onSocketHover:Ft,hoveredSocketInfo:Ae,compatibilityStatus:Xt,onUpdateNodeColor:C})}if(se.name==="boole-operator")return y.jsx(g1,{...Pe,onUpdateValue:T,onSocketMouseDown:It,onSocketMouseUp:Mt,onSocketHover:Ft,hoveredSocketInfo:Ae,compatibilityStatus:Xt,onUpdateNodeColor:C});if(se.name==="acad_colordlg-colornum")return y.jsx(R1,{...Pe,onUpdateValue:T,onSocketMouseDown:It,onSocketMouseUp:Mt,onSocketHover:Ft,hoveredSocketInfo:Ae,compatibilityStatus:Xt,onUpdateNodeColor:C});if(se.name==="cvunit-helper")return y.jsx(v1,{...Pe,onUpdateValue:T,onSocketMouseDown:It,onSocketMouseUp:Mt,onSocketHover:Ft,hoveredSocketInfo:Ae,compatibilityStatus:Xt,onUpdateNodeColor:C});if(fr.has(se.name)){const ye=fr.get(se.name);return y.jsx(T1,{...Pe,options:ye,onUpdateValue:T,onSocketMouseDown:It,onSocketMouseUp:Mt,onSocketHover:Ft,hoveredSocketInfo:Ae,compatibilityStatus:Xt,onUpdateNodeColor:C})}if(en.has(se.name)){const ye=en.get(se.name);return y.jsx(S1,{...Pe,options:ye,onUpdateValue:T,onSocketMouseDown:It,onSocketMouseUp:Mt,onSocketHover:Ft,hoveredSocketInfo:Ae,compatibilityStatus:Xt,onUpdateNodeColor:C})}if(se.name==="dxf-code-selector")return y.jsx(E1,{...Pe,onUpdateValue:T,onSocketMouseDown:It,onSocketMouseUp:Mt,onSocketHover:Ft,hoveredSocketInfo:Ae,compatibilityStatus:Xt,onUpdateNodeColor:C});const je={};if(se.name==="initget"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="bits");if(ye){const Y=Ue.get(ye.fromNode);Y&&Y.functionName==="initget-bits"&&(je.bits=Ls(Y,Ci.get("initget-bits")))}}if(se.name==="grread"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="allkeys");if(ye){const Y=Ue.get(ye.fromNode);Y&&Y.functionName==="grread-allkeys"&&(je.allkeys=Ls(Y,Ci.get("grread-allkeys")))}}if(se.name==="getfiled"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="flags");if(ye){const Y=Ue.get(ye.fromNode);Y&&Y.functionName==="getfiled-flags"&&(je.flags=Ls(Y,Ci.get("getfiled-flags")))}}if(se.name==="boole"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="operator");if(ye){const Y=Ue.get(ye.fromNode);Y&&Y.functionName==="boole-operator"&&(je.operator=Y.inputValues.operator||"1")}}if(se.name==="getstring"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="cr");if(ye){const Y=Ue.get(ye.fromNode);Y&&Y.functionName==="getstring-cr"&&(je.cr=Ti(Y))}}if(se.name==="acad_colordlg"){const ye=o.find(le=>le.toNode===Q.id&&le.toSocket==="flag");if(ye){const le=Ue.get(ye.fromNode);le&&le.functionName==="acad_colordlg-flag"&&(je.flag=Ti(le))}const Y=o.find(le=>le.toNode===Q.id&&le.toSocket==="colornum");if(Y){const le=Ue.get(Y.fromNode);le&&le.functionName==="acad_colordlg-colornum"&&(je.colornum=le.inputValues.value||"0")}}if(se.name==="acad_truecolordlg"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="allowbylayer");if(ye){const Y=Ue.get(ye.fromNode);Y&&Y.functionName==="acad_truecolordlg-allowbylayer"&&(je.allowbylayer=Ti(Y))}}if(se.name==="acdimenableupdate"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="flag");if(ye){const Y=Ue.get(ye.fromNode);Y&&Y.functionName==="acdimenableupdate-flag"&&(je.flag=Ti(Y))}}if(se.name==="acet-layerp-mode"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="status");if(ye){const Y=Ue.get(ye.fromNode);Y&&Y.functionName==="acet-layerp-mode-status"&&(je.status=Ti(Y))}}if(se.name==="vlax-dump-object"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="flag");if(ye){const Y=Ue.get(ye.fromNode);Y&&Y.functionName==="vlax-dump-object-flag"&&(je.flag=Ti(Y))}}if(se.name==="cvunit"){const ye=o.find(le=>le.toNode===Q.id&&le.toSocket==="from-unit");if(ye){const le=Ue.get(ye.fromNode);le&&le.functionName==="cvunit-helper"&&(je["from-unit"]=`"${le.inputValues.unit||""}"`)}const Y=o.find(le=>le.toNode===Q.id&&le.toSocket==="to-unit");if(Y){const le=Ue.get(Y.fromNode);le&&le.functionName==="cvunit-helper"&&(je["to-unit"]=`"${le.inputValues.unit||""}"`)}}if(se.name==="open"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="mode");if(ye){const Y=Ue.get(ye.fromNode);if(Y&&Y.functionName==="open-mode"){const le=fr.get("open-mode"),Xe=le.length>0?le[0].value:"",mt=Y.inputValues.value||Xe;je.mode=`"${mt}"`}}}if(se.name==="tablet"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="code");if(ye){const Y=Ue.get(ye.fromNode);if(Y&&Y.functionName==="tablet-code"){const le=en.get("tablet-code"),Xe=le.length>0?le[0].value:0,mt=Y.inputValues.value||String(Xe);je.code=String(mt)}}}if(se.name==="angtof"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="units");if(ye){const Y=Ue.get(ye.fromNode);if(Y&&Y.functionName==="angtof-units"){const le=en.get("angtof-units"),Xe=le.length>0?le[0].value:0,mt=Y.inputValues.value||String(Xe);je.units=String(mt)}}}if(se.name==="angtos"){const ye=o.find(le=>le.toNode===Q.id&&le.toSocket==="unit");if(ye){const le=Ue.get(ye.fromNode);if(le&&le.functionName==="angtos-unit"){const Xe=en.get("angtos-unit"),mt=Xe.length>0?Xe[0].value:0,Gt=le.inputValues.value||String(mt);je.unit=String(Gt)}}const Y=o.find(le=>le.toNode===Q.id&&le.toSocket==="precision");if(Y){const le=Ue.get(Y.fromNode);if(le&&le.functionName==="angtos-precision"){const Xe=en.get("angtos-precision"),mt=Xe.length>0?Xe[0].value:0,Gt=le.inputValues.value||String(mt);je.precision=String(Gt)}}}if(se.name==="distof"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="mode");if(ye){const Y=Ue.get(ye.fromNode);if(Y&&Y.functionName==="distof-mode"){const le=en.get("distof-mode"),Xe=le.length>0?le[0].value:2,mt=Y.inputValues.value||String(Xe);je.mode=String(mt)}}}if(se.name==="redraw"){const ye=o.find(Y=>Y.toNode===Q.id&&Y.toSocket==="mode");if(ye){const Y=Ue.get(ye.fromNode);if(Y&&Y.functionName==="redraw-mode"){const le=en.get("redraw-mode"),Xe=le.length>0?le[0].value:1,mt=Y.inputValues.value||String(Xe);je.mode=String(mt)}}}if(se.name==="rtos"){const ye=o.find(le=>le.toNode===Q.id&&le.toSocket==="mode");if(ye){const le=Ue.get(ye.fromNode);if(le&&le.functionName==="rtos-mode"){const Xe=en.get("rtos-mode"),mt=Xe.length>0?Xe[0].value:2,Gt=le.inputValues.value||String(mt);je.mode=String(Gt)}}const Y=o.find(le=>le.toNode===Q.id&&le.toSocket==="precision");if(Y){const le=Ue.get(Y.fromNode);if(le&&le.functionName==="rtos-precision"){const Xe=en.get("rtos-precision"),mt=Xe.length>0?Xe[0].value:2,Gt=le.inputValues.value||String(mt);je.precision=String(Gt)}}}if(se.name==="trans"){const ye=o.find(le=>le.toNode===Q.id&&le.toSocket==="from");if(ye){const le=Ue.get(ye.fromNode);if(le&&le.functionName==="trans-from"){const Xe=en.get("trans-from"),mt=Xe.length>0?Xe[0].value:0,Gt=le.inputValues.value||String(mt);je.from=String(Gt)}}const Y=o.find(le=>le.toNode===Q.id&&le.toSocket==="to");if(Y){const le=Ue.get(Y.fromNode);if(le&&le.functionName==="trans-to"){const Xe=en.get("trans-to"),mt=Xe.length>0?Xe[0].value:0,Gt=le.inputValues.value||String(mt);je.to=String(Gt)}}}return y.jsx($S,{...Pe,onSocketMouseDown:It,onSocketMouseUp:Mt,onSocketTouchStart:()=>{},onUpdateValue:T,onUpdateNodeColor:C,onUpdateDynamicArgs:N,onUpdateDynamicVars:D,onUpdateDynamicInputs:w,onUpdateCodeBlockValue:E,hasInputConnection:ye=>o.some(Y=>Y.toNode===Q.id&&Y.toSocket===ye),onSocketHover:Ft,hoveredSocketInfo:Ae,compatibilityStatus:Xt,onInputFocus:G,onGenerateFromCodeBlock:M,onGenerateFromDynamicInput:S,onGenerateFromStaticInput:(ye,Y,le)=>S(ye,{name:Y},le),onActivateEditor:k,onAddInitgetBitsHelperNode:O,onAddGetStringCrNode:re,onAddGrreadAllkeysHelperNode:xe,onAddGetfiledFlagsHelperNode:Re,onAddAcadColordlgFlagHelperNode:we,onAddAcadColordlgColornumHelperNode:R,onAddBooleOperatorHelperNode:K,onAddDxfCodeHelperNode:ei,onAddAcadTruecolordlgAllowbylayerHelperNode:pe,onAddAcdimenableupdateFlagHelperNode:be,onAddAcetLayerpModeStatusHelperNode:Me,onAddVlaxDumpObjectFlagHelperNode:oe,onAddCvunitHelperNode:Ie,onAddOpenModeHelperNode:Qe,onAddTabletCodeHelperNode:Ye,onAddAngtofUnitsHelperNode:fn,onAddAngtosUnitHelperNode:wn,onAddAngtosPrecisionHelperNode:Xn,onAddDistofModeHelperNode:vo,onAddRedrawModeHelperNode:nn,onAddRtosModeHelperNode:rt,onAddRtosPrecisionHelperNode:Ln,onAddTransFromHelperNode:bo,onAddTransToHelperNode:Wo,onGoToDefinition:Nn,highlightedVarName:Oe,onVariableFocus:B,onVariableBlur:ce,onRenameVariable:ie,connectedInputValues:je,focusedInputKey:H})})}),y.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:[Array.from(me.values()).map(Q=>{const se=o.find(Oe=>Oe.id===Q.id);if(!se)return null;const ge=Q.id===Jn,Ae=ge?"#ef4444":se.fromSocket==="__ai_output"?"#ec4899":"#4f46e5",Se={x:Q.toPos.x*r.zoom+r.x,y:Q.toPos.y*r.zoom+r.y};return y.jsxs("g",{style:{pointerEvents:"auto"},children:[y.jsx("path",{d:Q.path,stroke:"transparent",strokeWidth:"12",fill:"none",className:"cursor-pointer",onClick:Oe=>{Oe.stopPropagation(),gn(Q.id)}}),y.jsx("path",{d:Q.path,stroke:Ae,strokeWidth:ge?3:2,fill:"none",className:"pointer-events-none"}),y.jsx("circle",{cx:Se.x,cy:Se.y,r:5,fill:Ae,stroke:"#1f2937",strokeWidth:2,className:"cursor-move",onMouseDown:Oe=>ht(se,Oe)})]},Q.id)}),(st||lt)&&(()=>{const Q=st||lt,se={x:Q.fromPos.x*r.zoom+r.x,y:Q.fromPos.y*r.zoom+r.y},ge={x:Q.toPos.x*r.zoom+r.x,y:Q.toPos.y*r.zoom+r.y},Ae=ge.x-se.x,Se=`M ${se.x} ${se.y} C ${se.x+Ae*.5} ${se.y}, ${ge.x-Ae*.5} ${ge.y}, ${ge.x} ${ge.y}`;return y.jsx("path",{d:Se,stroke:"#a5b4fc",strokeWidth:2,fill:"none",strokeDasharray:"5 5",className:"pointer-events-none"})})()]})]})},V1=V.memo(({codeFragments:a,selectedNodeId:o,highlightedVar:n,scopedNodeIdsForHighlight:r,nodeToFocusInCode:l,onFragmentClick:c})=>{const m=V.useRef(new Map),h=V.useRef(null);V.useEffect(()=>{if(l&&l!==h.current){const g=m.current.get(l);g&&(g.scrollIntoView({behavior:"smooth",block:"center"}),h.current=l)}else l||(h.current=null)},[l]),m.current.clear();const v=a.map((g,b)=>{const T=n?n.varName:null,N=n&&g.nodeId&&(r.has(g.nodeId)||g.nodeId===n.defunNodeId)?T:null,D=!!g.nodeId,w=o&&g.nodeId===o;return y.jsx("span",{className:`
              ${w?"bg-blue-800/60 rounded-sm":""}
              ${D?"cursor-pointer hover:bg-gray-700/50 transition-colors":""}
            `,ref:E=>{E&&g.nodeId&&!m.current.has(g.nodeId)&&m.current.set(g.nodeId,E)},onClick:E=>{window.getSelection()?.toString()||g.nodeId&&(E.stopPropagation(),c(g.nodeId,g.inputKey))},title:D?"Click to show in diagram":void 0,children:y.jsx("span",{dangerouslySetInnerHTML:{__html:lh(g.text,N)}})},b)});return y.jsx("pre",{children:y.jsx("code",{children:v})})}),U1=({width:a})=>{const{codeFragments:o,selectedNodeId:n,nodeToFocusInCode:r,highlightedVar:l,scopedNodeIdsForHighlight:c,handleCenterNode:m,setSelectedNodeId:h,handleFocusInput:v}=Si(),[g,b]=V.useState(!1),T=V.useMemo(()=>o.map(D=>D.text).join(""),[o]),C=()=>{navigator.clipboard.writeText(T.trim()).then(()=>{b(!0),setTimeout(()=>b(!1),2e3)})},N=Nc.useCallback((D,w)=>{h(D),m(D),w&&v(D,w)},[h,m,v]);return y.jsxs("div",{className:"h-full bg-gray-800 border-l border-gray-700 flex flex-col p-2 shadow-lg flex-shrink-0",style:{width:`${a}px`},children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h2",{className:"text-xl font-bold text-center text-blue-400",children:"AutoLISP generation"}),y.jsx("button",{onClick:C,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded-md text-sm transition-colors",children:g?"Copied!":"Copy"})]}),y.jsx("div",{className:"flex-grow bg-gray-900 rounded-md p-2 font-mono text-sm overflow-auto relative thin-scrollbar",children:y.jsx(V1,{codeFragments:o,selectedNodeId:n,highlightedVar:l,scopedNodeIdsForHighlight:c,nodeToFocusInCode:r,onFragmentClick:N})})]})},H1=V.memo(U1),Lc=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),O1=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),Og=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15M9 12l3 3m0 0 3-3m-3 3V2.25"})}),j1=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})}),z1=a=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"})}),dh=a=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.43.992a6.759 6.759 0 0 1 0 1.905c-.008.379.137.752.43.992l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.333.183-.582.495-.645.87l-.213 1.28c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.759 6.759 0 0 1 0-1.905c.008-.379-.137-.752-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.87l.214-1.281Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),B1=({onLoadClick:a,onImportLispClick:o,onImportDiagramClick:n})=>{const{handleNew:r,handleSave:l,undo:c,redo:m,canUndo:h,canRedo:v,setIsApiKeyModalOpen:g}=Si(),{showTooltip:b,hideTooltip:T}=at();return y.jsxs("div",{className:"w-full bg-gray-800 border-b border-gray-700 h-12 flex items-center px-4 shadow-md flex-shrink-0 justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs("button",{onClick:r,className:"flex items-center px-3 py-1.5 bg-gray-700 hover:bg-blue-600 rounded-md text-sm transition-colors",onMouseEnter:C=>b("Create a new diagram",C.currentTarget),onMouseLeave:T,children:[y.jsx(Ai,{className:"w-4 h-4 mr-2"}),"New"]}),y.jsxs("button",{onClick:l,className:"flex items-center px-3 py-1.5 bg-gray-700 hover:bg-blue-600 rounded-md text-sm transition-colors",onMouseEnter:C=>b("Save Diagram (.lispbp)",C.currentTarget),onMouseLeave:T,children:[y.jsx(Lc,{className:"w-4 h-4 mr-2"}),"Save"]}),y.jsxs("button",{onClick:a,className:"flex items-center px-3 py-1.5 bg-gray-700 hover:bg-green-600 rounded-md text-sm transition-colors",onMouseEnter:C=>b("Load Diagram and Replace Canvas (.lispbp)",C.currentTarget),onMouseLeave:T,children:[y.jsx(O1,{className:"w-4 h-4 mr-2"}),"Load"]}),y.jsxs("button",{onClick:n,className:"flex items-center px-3 py-1.5 bg-gray-700 hover:bg-purple-600 rounded-md text-sm transition-colors",onMouseEnter:C=>b("Import and Merge Diagram file (.lispbp)",C.currentTarget),onMouseLeave:T,children:[y.jsx(Og,{className:"w-4 h-4 mr-2"}),"Import"]}),y.jsxs("button",{onClick:c,disabled:!h,className:"flex items-center px-3 py-1.5 bg-gray-700 hover:bg-yellow-600 rounded-md text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onMouseEnter:C=>b("Undo last action",C.currentTarget),onMouseLeave:T,children:[y.jsx(j1,{className:"w-4 h-4 mr-2"}),"Undo"]}),y.jsxs("button",{onClick:m,disabled:!v,className:"flex items-center px-3 py-1.5 bg-gray-700 hover:bg-yellow-600 rounded-md text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onMouseEnter:C=>b("Redo last action",C.currentTarget),onMouseLeave:T,children:[y.jsx(z1,{className:"w-4 h-4 mr-2"}),"Redo"]}),y.jsx("div",{className:"w-px h-6 bg-gray-700 mx-2"}),y.jsxs("button",{onClick:o,className:"flex items-center px-3 py-1.5 bg-gray-700 hover:bg-purple-600 rounded-md text-sm transition-colors",onMouseEnter:C=>b("Import LISP and add to canvas (.lsp)",C.currentTarget),onMouseLeave:T,children:[y.jsx(Og,{className:"w-4 h-4 mr-2"}),"Import LISP"]})]}),y.jsx("div",{className:"flex items-center",children:y.jsx("button",{onClick:()=>g(!0),className:"flex items-center p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",onMouseEnter:C=>b("Settings",C.currentTarget),onMouseLeave:T,children:y.jsx(dh,{className:"w-5 h-5"})})})]})},P1=()=>{const{cursorPosition:a,selectedNode:o,viewState:n,nodes:r,isImporting:l,selectedNodeDescription:c,activeInputDescription:m,fps:h}=Si(),{showTooltip:v,hideTooltip:g}=at(),b=C=>C?.toFixed(0)??"--",T=m||c;return y.jsxs("div",{className:"w-full bg-gray-800 border-t border-gray-700 h-6 flex items-center justify-between px-4 text-xs text-gray-400 flex-shrink-0",children:[y.jsx("div",{className:"flex items-center space-x-4",children:l?y.jsxs("div",{className:"flex items-center",children:[y.jsx(ch,{className:"w-4 h-4 mr-2 text-indigo-400"}),y.jsx("span",{children:"Parsing LISP file..."})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{onMouseEnter:C=>v("Mouse Position",C.currentTarget),onMouseLeave:g,children:y.jsxs("span",{className:"font-mono",children:["X: ",b(a?.x)," Y: ",b(a?.y)]})}),o&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-px h-4 bg-gray-600"}),y.jsx("div",{onMouseEnter:C=>v("Selected Node Position",C.currentTarget),onMouseLeave:g,children:y.jsxs("span",{className:"text-gray-300 font-mono",children:["Node X: ",b(o.x)," Y: ",b(o.y)]})})]}),y.jsx("div",{className:"w-px h-4 bg-gray-600"}),y.jsx("div",{children:y.jsxs("span",{className:"font-mono",children:["Zoom: ",(n.zoom*100).toFixed(0),"%"]})}),y.jsx("div",{className:"w-px h-4 bg-gray-600"}),y.jsx("div",{onMouseEnter:C=>v("Total Nodes",C.currentTarget),onMouseLeave:g,children:y.jsxs("span",{className:"font-mono",children:["Nodes: ",r.length]})}),y.jsx("div",{className:"w-px h-4 bg-gray-600"}),y.jsx("div",{onMouseEnter:C=>v("Frames Per Second",C.currentTarget),onMouseLeave:g,children:y.jsxs("span",{className:"font-mono",children:["FPS: ",h]})})]})}),T&&!l&&y.jsx("div",{className:"flex-1 min-w-0 ml-6 text-right",children:y.jsx("p",{className:"truncate",onMouseEnter:C=>v(T,C.currentTarget),onMouseLeave:g,children:T})})]})},q1=({onClose:a})=>{const{apiKey:o,setApiKey:n}=V.useContext(Os),[r,l]=V.useState("");V.useEffect(()=>{l(o||"")},[o]);const c=()=>{n(r),a()};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:a,children:y.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg shadow-xl w-full max-w-lg p-6",onClick:m=>m.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx(dh,{className:"w-6 h-6 mr-3 text-gray-400"}),y.jsx("h2",{className:"text-xl font-bold",children:"Settings"})]}),y.jsx("p",{className:"text-gray-400 mb-2",children:"Enter your Google AI API Key to use generative features."}),y.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["You can get your key from ",y.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Google AI Studio"}),". The key is stored locally in your browser and is not sent to our servers."]}),y.jsx("label",{htmlFor:"apiKeyInput",className:"block text-sm font-medium text-gray-300 mb-1",children:"Google AI API Key"}),y.jsx("input",{id:"apiKeyInput",type:"password",value:r,onChange:m=>l(m.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono",placeholder:"Enter your API key..."}),y.jsxs("div",{className:"flex justify-end items-center mt-6 space-x-3",children:[y.jsx("button",{onClick:a,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-md transition-colors",children:"Cancel"}),y.jsxs("button",{onClick:c,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors flex items-center",children:[y.jsx(Lc,{className:"w-5 h-5 mr-2"}),"Save"]})]})]})})},cc=200,Yo=500,F1=()=>{const{nodes:a,viewState:o,canvasDimensions:n,setViewState:r}=Si(),l=V.useRef(null),c=V.useMemo(()=>{if(a.length===0)return{minX:-Yo,minY:-Yo,maxX:1e3+Yo,maxY:800+Yo};const b=a.map(C=>[C.x,C.x+(C.width||300)]).flat(),T=a.map(C=>[C.y,C.y+(C.height||200)]).flat();return{minX:Math.min(...b)-Yo,minY:Math.min(...T)-Yo,maxX:Math.max(...b)+Yo,maxY:Math.max(...T)+Yo}},[a]),m=V.useMemo(()=>{const b=c.maxX-c.minX,T=c.maxY-c.minY;if(b<=0||T<=0)return{scale:1,offsetX:0,offsetY:0};const C=240,N=Math.min(C/b,cc/T),D=(C-b*N)/2-c.minX*N,w=(cc-T*N)/2-c.minY*N;return{scale:N,offsetX:D,offsetY:w}},[c]),h=V.useMemo(()=>{if(n.width===0)return null;const{x:b,y:T,zoom:C}=o,{width:N,height:D}=n,{scale:w,offsetX:E,offsetY:I}=m;return{x:-b/C*w+E,y:-T/C*w+I,width:N/C*w,height:D/C*w}},[o,n,m]),v=b=>{if(!l.current||b.defaultPrevented)return;const T=l.current.getBoundingClientRect(),{scale:C,offsetX:N,offsetY:D}=m,w=(b.clientX-T.left-N)/C,E=(b.clientY-T.top-D)/C;r({...o,x:-w*o.zoom+n.width/2,y:-E*o.zoom+n.height/2})},g=b=>{b.preventDefault();const{x:T,y:C,zoom:N}=o,{scale:D}=m,w={x:b.clientX,y:b.clientY},E=I=>{const z=I.clientX-w.x,G=I.clientY-w.y;r({...o,x:T-z/D*N,y:C-G/D*N})};window.addEventListener("mousemove",E),window.addEventListener("mouseup",()=>window.removeEventListener("mousemove",E),{once:!0})};return y.jsxs("div",{className:"w-full flex-shrink-0 p-2 border-t border-gray-700 bg-gray-800",children:[y.jsx("h3",{className:"text-lg font-bold mb-2 text-center text-blue-400",children:"Minimap"}),y.jsxs("svg",{ref:l,width:"100%",height:cc,className:"bg-gray-900 rounded-md cursor-pointer",onClick:v,children:[a.map(b=>{const{scale:T,offsetX:C,offsetY:N}=m;return y.jsx("rect",{x:b.x*T+C,y:b.y*T+N,width:Math.max(1,(b.width||300)*T),height:Math.max(1,(b.height||200)*T),fill:b.color||"#4a5568",className:"pointer-events-none"},b.id)}),h&&y.jsx("rect",{...h,fill:"rgba(0, 150, 255, 0.2)",stroke:"rgba(0, 150, 255, 0.8)",strokeWidth:"1",className:"cursor-move",onMouseDown:g})]})]})},G1=({editorInfo:a,onClose:o})=>{const{initialValue:n,sourceElement:r,onSave:l}=a,[c,m]=V.useState(n),h=V.useRef(null),[v,g]=V.useState({top:0,left:0,width:200,height:40}),b=V.useRef(null),T=V.useRef(!1);V.useEffect(()=>{const D=r.getBoundingClientRect(),w=window.innerWidth,E=window.innerHeight,I=8,z=T.current?v.width:Math.max(200,D.width);let G=v.height;if(!T.current&&b.current){b.current.style.width=`${z}px`,b.current.value=c;const J=b.current.scrollHeight;G=Math.max(40,Math.min(J+2,300))}let M=D.top,S=D.left;S+z>w-I&&(S=w-z-I),S<I&&(S=I),M+G>E-I&&(D.top-G-I>0?M=D.top-G-I:M=E-G-I),M<I&&(M=I),g(J=>({...J,top:M,left:S,width:z,height:G}))},[c,r]);const C=Nc.useCallback(()=>{l(c),o()},[l,c,o]);V.useEffect(()=>{const D=E=>{h.current&&!h.current.contains(E.target)&&C()},w=E=>{E.key==="Escape"&&o()};return document.addEventListener("mousedown",D,!0),document.addEventListener("keydown",w,!0),()=>{document.removeEventListener("mousedown",D,!0),document.removeEventListener("keydown",w,!0)}},[o,C]);const N=D=>{D.preventDefault(),D.stopPropagation(),T.current=!0;const w=D.clientX,E=D.clientY,I=h.current?.offsetWidth||v.width,z=h.current?.offsetHeight||v.height,G=S=>{const J=S.clientX-w,k=S.clientY-E,B=I+J,ce=z+k,ie=150,Z=40;g(fe=>({...fe,width:Math.max(ie,B),height:Math.max(Z,ce)}))},M=()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",M)};window.addEventListener("mousemove",G),window.addEventListener("mouseup",M)};return Rc.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("textarea",{ref:b,className:"fixed -z-10 invisible p-2 font-mono text-sm"}),y.jsxs("div",{ref:h,className:"fixed z-50 shadow-2xl rounded-md border-2 border-blue-500",style:{top:v.top,left:v.left,width:v.width,height:v.height},children:[y.jsx(uh,{value:c,onChange:m,autoFocus:!0}),y.jsx("div",{onMouseDown:N,className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-10 text-gray-500 hover:text-gray-300",children:y.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M11 1L1 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),y.jsx("path",{d:"M11 5L5 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),y.jsx("path",{d:"M11 9L9 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})]})]}),document.body)},Y1=({onConfirm:a,onCancel:o,onIgnore:n})=>y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:n,children:y.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg shadow-xl w-full max-w-md p-6",onClick:r=>r.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-3 text-yellow-400",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),y.jsx("h2",{className:"text-xl font-bold",children:"Unsaved Changes"})]}),y.jsx("p",{className:"text-gray-400 mb-6",children:'Do you want to save your changes? If you ignore, the "New" operation will be aborted.'}),y.jsxs("div",{className:"flex justify-end items-center mt-6 space-x-3",children:[y.jsxs("button",{onClick:a,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors flex items-center",children:[y.jsx(Lc,{className:"w-4 h-4 mr-2"}),"Yes"]}),y.jsxs("button",{onClick:o,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md transition-colors flex items-center",children:[y.jsx(Nt,{className:"w-4 h-4 mr-2"}),"No"]}),y.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-md transition-colors",children:"Ignore"})]})]})}),X1=({content:a,top:o,left:n})=>a?Rc.createPortal(y.jsx("div",{style:{top:o,left:n,transform:"translateY(-100%) translateY(-8px)"},className:"fixed max-w-sm p-2 bg-gray-900 border border-gray-700 rounded-md shadow-2xl z-50 pointer-events-none",children:y.jsx("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap font-sans",children:a})}),document.body):null,$1=()=>{const{isApiKeyModalOpen:a,setIsApiKeyModalOpen:o,isConfirmNewDialogOpen:n,setIsConfirmNewDialogOpen:r,activeEditor:l,setActiveEditor:c,handleFileSelected:m,handleLispFileSelected:h,handleImportDiagramFileSelected:v,codePreviewWidth:g,handleResizeMouseDown:b,handleConfirmNewAndSave:T,handleConfirmNewWithoutSave:C,canvasContainerRef:N}=Si(),{tooltip:D}=at(),w=V.useRef(null),E=V.useRef(null),I=V.useRef(null);return y.jsxs("div",{className:"flex flex-col h-screen w-screen font-sans bg-gray-900 text-gray-200 overflow-hidden",children:[y.jsx(B1,{onLoadClick:()=>w.current?.click(),onImportLispClick:()=>E.current?.click(),onImportDiagramClick:()=>I.current?.click()}),a&&y.jsx(q1,{onClose:()=>o(!1)}),n&&y.jsx(Y1,{onConfirm:T,onCancel:C,onIgnore:()=>r(!1)}),l&&y.jsx(G1,{editorInfo:l,onClose:()=>c(null)}),D&&y.jsx(X1,{content:D.content,top:D.top,left:D.left}),y.jsx("input",{type:"file",ref:w,onChange:m,className:"hidden",accept:".lispbp,application/json"}),y.jsx("input",{type:"file",ref:E,onChange:h,className:"hidden",accept:".lsp,.lisp"}),y.jsx("input",{type:"file",ref:I,onChange:v,className:"hidden",accept:".lispbp,application/json"}),y.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[y.jsxs("div",{className:"w-64 h-full bg-gray-800 border-r border-gray-700 flex flex-col shadow-lg flex-shrink-0",children:[y.jsx(PS,{}),y.jsx(F1,{})]}),y.jsx("div",{className:"flex-grow h-full relative",ref:N,children:y.jsx(k1,{})}),y.jsx("div",{className:"w-1.5 h-full cursor-col-resize bg-gray-700 hover:bg-blue-600 transition-colors flex-shrink-0",onMouseDown:b,title:"Resize Panel"}),y.jsx(H1,{width:g})]}),y.jsx(P1,{})]})},K1=()=>y.jsx(_0,{children:y.jsx(D0,{children:y.jsx(OS,{children:y.jsx($1,{})})})}),fh=document.getElementById("root");if(!fh)throw new Error("Could not find root element to mount to");const J1=M0.createRoot(fh);J1.render(y.jsx(Nc.StrictMode,{children:y.jsx(K1,{})}));
